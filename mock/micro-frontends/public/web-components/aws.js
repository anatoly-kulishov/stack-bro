(()=>{function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var r={},i={},o=n.parcelRequire4162;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},n.parcelRequire4162=o);var l="function"==typeof Symbol&&Symbol.observable||"@@observable",f=function(){return Math.random().toString(36).substring(7).split("").join(".")},d={INIT:"@@redux/INIT"+f(),REPLACE:"@@redux/REPLACE"+f(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+f()}};function h(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(c(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(c(1));return n(p)(e,t)}if("function"!=typeof e)throw new Error(c(2));var i=e,o=t,s=[],a=s,u=!1;function f(){a===s&&(a=s.slice())}function g(){if(u)throw new Error(c(3));return o}function v(e){if("function"!=typeof e)throw new Error(c(4));if(u)throw new Error(c(5));var t=!0;return f(),a.push(e),function(){if(t){if(u)throw new Error(c(6));t=!1,f();var n=a.indexOf(e);a.splice(n,1),s=null}}}function m(e){if(!h(e))throw new Error(c(7));if(void 0===e.type)throw new Error(c(8));if(u)throw new Error(c(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!=typeof e)throw new Error(c(10));i=e,m({type:d.REPLACE})}function w(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(c(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[l]=function(){return this},e}return m({type:d.INIT}),(r={dispatch:m,subscribe:v,getState:g,replaceReducer:y})[l]=w,r}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(c(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=g.apply(void 0,o)(n.dispatch),u(u({},n),{},{dispatch:r})}}}function m(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function y(e){return!!e&&!!e[ie]}function w(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===oe}(e)||Array.isArray(e)||!!e[re]||!!e.constructor[re]||k(e)||x(e))}function b(e,t,n){void 0===n&&(n=!1),0===S(e)?(n?Object.keys:se)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function S(e){var t=e[ie];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:k(e)?2:x(e)?3:0}function E(e,t){return 2===S(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){return 2===S(e)?e.get(t):e[t]}function _(e,t,n){var r=S(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function A(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function k(e){return Q&&e instanceof Map}function x(e){return ee&&e instanceof Set}function P(e){return e.o||e.t}function I(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ae(e);delete t[ie];for(var n=se(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function T(e,t){return void 0===t&&(t=!1),O(e)||y(e)||!w(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=L),Object.freeze(e),t&&b(e,(function(e,t){return T(t,!0)}),!0)),e}function L(){m(2)}function O(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function N(e){var t=ue[e];return t||m(18,e),t}function U(){return Y}function M(e,t){t&&(N("Patches"),e.u=[],e.s=[],e.v=t)}function R(e){D(e),e.p.forEach(F),e.p=null}function D(e){e===Y&&(Y=e.l)}function j(e){return Y={p:[],l:Y,h:e,m:!0,_:0}}function F(e){var t=e[ie];0===t.i||1===t.i?t.j():t.O=!0}function B(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||N("ES5").S(t,e,r),r?(n[ie].P&&(R(t),m(4)),w(e)&&(e=z(t,e),t.l||q(t,e)),t.u&&N("Patches").M(n[ie],e,t.u,t.s)):e=z(t,n,[]),R(t),t.u&&t.v(t.u,t.s),e!==ne?e:void 0}function z(e,t,n){if(O(t))return t;var r=t[ie];if(!r)return b(t,(function(i,o){return K(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return q(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=I(r.k):r.o;b(3===r.i?new Set(i):i,(function(t,o){return K(e,r,i,t,o,n)})),q(e,i,!1),n&&e.u&&N("Patches").R(r,n,e.u,e.s)}return r.o}function K(e,t,n,r,i,o){if(y(i)){var s=z(e,i,o&&t&&3!==t.i&&!E(t.D,r)?o.concat(r):void 0);if(_(n,r,s),!y(s))return;e.m=!1}if(w(i)&&!O(i)){if(!e.h.F&&e._<1)return;z(e,i),t&&t.A.l||q(e,i)}}function q(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&T(t,n)}function H(e,t){var n=e[ie];return(n?P(n):e)[t]}function G(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function V(e){e.P||(e.P=!0,e.l&&V(e.l))}function W(e){e.o||(e.o=I(e.t))}function $(e,t,n){var r=k(t)?N("MapSet").N(t,n):x(t)?N("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:U(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=ce;n&&(i=[r],o=le);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return r.k=u,r.j=a,u}(t,n):N("ES5").J(t,n);return(n?n.A:U()).p.push(r),r}function J(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return I(e)}var X,Y,Z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Q="undefined"!=typeof Map,ee="undefined"!=typeof Set,te="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ne=Z?Symbol.for("immer-nothing"):((X={})["immer-nothing"]=!0,X),re=Z?Symbol.for("immer-draftable"):"__$immer_draftable",ie=Z?Symbol.for("immer-state"):"__$immer_state",oe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),se="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ae=Object.getOwnPropertyDescriptors||function(e){var t={};return se(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ue={},ce={get:function(e,t){if(t===ie)return e;var n=P(e);if(!E(n,t))return function(e,t,n){var r,i=G(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!w(r)?r:r===H(e.t,t)?(W(e),e.o[t]=$(e.A.h,r,e)):r},has:function(e,t){return t in P(e)},ownKeys:function(e){return Reflect.ownKeys(P(e))},set:function(e,t,n){var r=G(P(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=H(P(e),t),o=null==i?void 0:i[ie];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(A(n,i)&&(void 0!==n||E(e.t,t)))return!0;W(e),V(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==H(e.t,t)||t in e.t?(e.D[t]=!1,W(e),V(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=P(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){m(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){m(12)}},le={};b(ce,(function(e,t){le[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),le.deleteProperty=function(e,t){return ce.deleteProperty.call(this,e[0],t)},le.set=function(e,t,n){return ce.set.call(this,e[0],t,n,e[0])};var fe,de,he=new(function(){function e(e){var t=this;this.g=te,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&m(6),void 0!==r&&"function"!=typeof r&&m(7),w(e)){var a=j(t),u=$(t,e,void 0),c=!0;try{s=n(u),c=!1}finally{c?R(a):D(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return M(a,r),B(e,a)}),(function(e){throw R(a),e})):(M(a,r),B(s,a))}if(!e||"object"!=typeof e){if((s=n(e))===ne)return;return void 0===s&&(s=e),t.F&&T(s,!0),s}m(21,e)},this.produceWithPatches=function(e,n){var r,i;return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){var t;w(e)||m(8),y(e)&&(y(t=e)||m(22,t),e=function e(t){if(!w(t))return t;var n,r=t[ie],i=S(t);if(r){if(!r.P&&(r.i<4||!N("ES5").K(r)))return r.t;r.I=!0,n=J(t,i),r.I=!1}else n=J(t,i);return b(n,(function(t,i){r&&C(r.t,t)===i||_(n,t,e(i))})),3===i?new Set(n):n}(t));var n=j(this),r=$(this,e,void 0);return r[ie].C=!0,D(n),r},t.finishDraft=function(e,t){var n=(e&&e[ie]).A;return M(n,t),B(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!te&&m(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=N("Patches").$;return y(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),pe=he.produce,ge=(he.produceWithPatches.bind(he),he.setAutoFreeze.bind(he),he.setUseProxies.bind(he),he.applyPatches.bind(he),he.createDraft.bind(he),he.finishDraft.bind(he),pe);(de=fe||(fe={})).AWS_ACCOUNT_SETUP_SUBMIT_PHONE="AWS/ACCOUNT_SETUP/SUBMIT_PHONE",de.AWS_ACCOUNT_SETUP_CONFIRM_PHONE="AWS/ACCOUNT_SETUP/CONFIRM_PHONE",de.CONFIRM_PHONE_START="CONFIRM_PHONE_START",de.CONFIRM_PHONE_ACCEPTED="CONFIRM_PHONE_ACCEPTED",de.CONFIRM_PHONE_DENIED="CONFIRM_PHONE_DENIED";const ve={phoneConfirmationStatus:null};var me,ye,we=ge(((e=ve,t)=>{switch(t.type){case fe.CONFIRM_PHONE_START:return e.phoneConfirmationStatus="loading",e;case fe.CONFIRM_PHONE_ACCEPTED:return e.phoneConfirmationStatus="accepted",e;case fe.CONFIRM_PHONE_DENIED:return e.phoneConfirmationStatus="denied",e;default:return e}}),ve);(ye=me||(me={})).AWS_CREATE_ACCOUNT_SUBMIT="AWS/CREATE_ACCOUNT/SUBMIT",ye.CREATE_ACCOUNT_START="CREATE_ACCOUNT_START",ye.CREATE_ACCOUNT_ACCEPTED="CREATE_ACCOUNT_ACCEPTED",ye.CREATE_ACCOUNT_DENIED="CREATE_ACCOUNT_DENIED",ye.AWS_CREATE_ACCOUNT_RESEND_EMAIL_CODE="AWS/CREATE_ACCOUNT/RESEND_EMAIL_CODE",ye.AWS_CREATE_ACCOUNT_CONFIRM_EMAIL="AWS/CREATE_ACCOUNT/CONFIRM_EMAIL",ye.CONFIRM_EMAIL_START="CONFIRM_EMAIL_START",ye.CONFIRM_EMAIL_ACCEPTED="CONFIRM_EMAIL_ACCEPTED",ye.CONFIRM_EMAIL_DENIED="CONFIRM_EMAIL_DENIED";const be={signUpStatus:null,emailConfirmationStatus:null};var Se=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:d.INIT}))throw new Error(c(12));if(void 0===n(void 0,{type:d.PROBE_UNKNOWN_ACTION()}))throw new Error(c(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],l=n[u],f=e[u],d=l(f,t);if(void 0===d){t&&t.type;throw new Error(c(14))}i[u]=d,r=r||d!==f}return(r=r||s.length!==Object.keys(e).length)?i:e}}({AccountSetup:we,CreateAccount:ge(((e=be,t)=>{switch(t.type){case me.CREATE_ACCOUNT_START:return e.signUpStatus="loading",e;case me.CREATE_ACCOUNT_ACCEPTED:return e.signUpStatus="accepted",e;case me.CREATE_ACCOUNT_DENIED:return e.signUpStatus="denied",e;case me.CONFIRM_EMAIL_START:return e.emailConfirmationStatus="loading",e;case me.CONFIRM_EMAIL_ACCEPTED:return e.emailConfirmationStatus="accepted",e;case me.CONFIRM_EMAIL_DENIED:return e.emailConfirmationStatus="denied",e;default:return e}}),be)}),Ee={};e(Ee,"GlobalStore",(()=>je),(e=>je=e));var Ce={};e(Ce,"ConsoleLogger",(()=>Te),(e=>Te=e));var _e={};e(_e,"AbstractLogger",(()=>Pe),(e=>Pe=e));var Ae,ke,xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Pe=function(){function e(e){this.LoggerIdentity=e}return e.prototype.LogEvent=function(e,t,n){try{this.processEvent(e,t,n),void 0!==this.NextLogger&&null!==this.NextLogger&&this.NextLogger.LogEvent(e,t,n)}catch(e){}},e.prototype.LogException=function(e,t,n){try{this.processException(e,t,n),void 0!==this.NextLogger&&null!==this.NextLogger&&this.NextLogger.LogException(e,t,n)}catch(e){}},e.prototype.SetNextLogger=function(e){null!=e&&(this.isLoggerLoopCreated(e)||(void 0===this.NextLogger||null===this.NextLogger?this.NextLogger=e:this.NextLogger.SetNextLogger(e)))},e.prototype.isLoggerLoopCreated=function(e){var t=xe({},e);do{if(t.LoggerIdentity===this.LoggerIdentity)return!0;t=t.NextLogger}while(null!=t);return!1},e}(),Ie=(Ae=function(e,t){return(Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Te=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this,"DEFAULT_CONSOLE_LOGGER")||this;return n._debugMode=t,n.NextLogger=null,n}return Ie(t,e),t.prototype.processEvent=function(e,t,n){try{if(!this._debugMode)return;console.log("EVENT : "+t+". ("+e+")")}catch(e){}},t.prototype.processException=function(e,t,n){try{if(!this._debugMode)return;console.error(t)}catch(e){}},t}(_e.AbstractLogger),Le=function(e,t){function n(e,t){return t}function r(t,n,i,o){return Object.keys(i).reduce((function(i,s){var a=i[s];if(a instanceof e){var u=t[a];"object"!=typeof u||n.has(u)?i[s]=o.call(i,s,u):(n.add(u),i[s]=o.call(i,s,r(t,n,u,o)))}else i[s]=o.call(i,s,a);return i}),i)}function i(t,n,r){var i=e(n.push(r)-1);return t.set(r,i),i}function o(t){return t instanceof e?e(t):t}function s(n,r){return typeof r===t?new e(r):r}return{parse:function(e,t){var i=JSON.parse(e,s).map(o),a=i[0],u=t||n,c="object"==typeof a&&a?r(i,new Set,a,u):a;return u.call({"":c},"",c)},stringify:function(e,r,o){for(var s,a=new Map,u=[],c=[],l=r&&typeof r==typeof u?function(e,t){if(""===e||-1<r.indexOf(e))return t}:r||n,f=+i(a,u,l.call({"":e},"",e)),d=function(e,n){if(s)return s=!s,n;var r=l.call(this,e,n);switch(typeof r){case"object":if(null===r)return r;case t:return a.get(r)||i(a,u,r)}return r};f<u.length;f++)s=!0,c[f]=JSON.stringify(u[f],d,o);return"["+c.join(",")+"]"}}}(String,"string"),Oe=(Le.parse,Le.stringify),Ne=function(){function e(e){this._logger=e}return e.prototype.CreateMiddleware=function(){var e=this;return function(t){return function(n){return function(r){if(!e.IsLoggingAllowed(r))return n(r);var i=new Date,o=t.getState();e.LogActionDispatchStart(o,r);var s=null;try{s=n(r)}catch(t){throw e.LogActionDispatchFailure(r,i,t),t}return o=t.getState(),e.LogActionDispatchComplete(o,r,i),s}}}},e.prototype.SetLogger=function(e){void 0===this._logger||null===this._logger?this._logger=e:this._logger.SetNextLogger(e)},e.prototype.IsLoggingAllowed=function(e){return void 0!==e.logEnabled&&null!==e.logEnabled&&!0===e.logEnabled&&void 0!==this._logger&&null!==this._logger},e.prototype.LogActionDispatchStart=function(e,t){try{var n={OldState:Oe(e),ActionName:t.type,DispatchStatus:"Dispatched",DispatchedOn:(new Date).toISOString(),Payload:Oe(t.payload)};this._logger.LogEvent("Fxp.Store.ActionLogger",t.type+" :: DISPATCHED",n)}catch(e){console.error("ERROR: There was an error while trying to log the Dispatch Complete event"),console.error(e)}},e.prototype.LogActionDispatchComplete=function(e,t,n){try{var r=(new Date).getTime()-n.getTime(),i={NewState:Oe(e),ActionName:t.type,DispatchStatus:"Completed",DispatchedOn:(new Date).toISOString(),Payload:Oe(t.payload),TimeTaken:r.toString()};this._logger.LogEvent("Fxp.Store.ActionLogger",t.type+" :: COMPLETED",i)}catch(e){console.error("ERROR: There was an error while trying to log the Dispatch Complete event"),console.error(e)}},e.prototype.LogActionDispatchFailure=function(e,t,n){try{var r=(new Date).getTime()-t.getTime(),i={ActionName:e.type,DispatchStatus:"Failed",DispatchedOn:(new Date).toISOString(),Payload:Oe(e.payload),TimeTaken:r.toString()};this._logger.LogEvent("Fxp.Store.ActionLogger",e.type+" :: FAILED",i),this._logger.LogException("Fxp.Store.ActionLogger",n,i),console.error(n)}catch(e){console.error("ERROR: There was an error while trying to log the Dispatch Failure event"),console.error(e)}},e}(),Ue=g;ke="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Ue:Ue.apply(null,arguments)},"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Me=function(){return(Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Re=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},De=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Re(arguments[t]));return e},je=function(){function e(e){void 0===e&&(e=null),this._logger=e,this._actionLogger=null,this._stores={},this._globalActions={},this._globalListeners=[],this._eagerPartnerStoreSubscribers={},this._eagerUnsubscribers={},this._actionLogger=new Ne(e)}return e.Get=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=null),t&&(this.DebugMode=t),t&&null==n&&(n=new Ce.ConsoleLogger(t));var r=window[e.InstanceName]||null;return null==r&&(r=new e(n),window[e.InstanceName]=r),r},e.prototype.CreateStore=function(t,n,r,i,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var a=this._stores[t];if(null==a||o){null==r&&(r=[]);var u=p(n,e.DebugMode?ke(v.apply(void 0,De(r))):v.apply(void 0,De(r)));return this.RegisterStore(t,u,i,o),u}return s&&(console.warn("The reducer for "+t+" is getting replaced"),a.replaceReducer(n),this.RegisterStore(t,a,i,!0)),a},e.prototype.RegisterStore=function(e,t,n,r){void 0===r&&(r=!1);var i=this._stores[e];null!=i&&!1===r||(this._stores[e]=t,t.subscribe(this.InvokeGlobalListeners.bind(this)),this.RegisterGlobalActions(e,n),this.RegisterEagerSubscriptions(e),this.LogRegistration(e,null!=i))},e.prototype.RegisterGlobalActions=function(e,t){if(null!=t&&0!==t.length){var n=this._globalActions[e];null==n&&(n=[],this._globalActions[e]=[]);var r=t.filter((function(e){return void 0===n.find((function(t){return e===t}))}));r=De(new Set(r)),this._globalActions[e]=De(this._globalActions[e],r)}},e.prototype.GetPlatformState=function(){var e=this.GetPlatformStore();return null==e?null:this.CopyState(e.getState())},e.prototype.GetPartnerState=function(e){var t=this.GetPartnerStore(e);if(null==t)return null;var n=t.getState();return this.CopyState(n)},e.prototype.GetGlobalState=function(){var e={};for(var t in this._stores){var n=this._stores[t].getState();e[t]=n}return this.CopyState(e)},e.prototype.DispatchGlobalAction=function(e,t){for(var n in this._stores){this.IsActionRegisteredAsGlobal(n,t)&&this._stores[n].dispatch(t)}},e.prototype.DispatchLocalAction=function(e,t){var n=this._stores[e];if(null==n){var r=new Error("Store is not registered");throw void 0!==this._logger&&null!==this._logger&&this._logger.LogException(e,r,{}),r}n.dispatch(t)},e.prototype.DispatchAction=function(e,t){this.DispatchGlobalAction(e,t),this.IsActionRegisteredAsGlobal(e,t)||this.DispatchLocalAction(e,t)},e.prototype.Subscribe=function(e,t){var n=this.GetPartnerStore(e);if(null==n)throw new Error("ERROR: Store for "+e+" hasn't been registered");return n.subscribe((function(){return t(n.getState())}))},e.prototype.SubscribeToPlatformState=function(e,t){var n=this.GetPlatformStore();return n.subscribe((function(){return t(n.getState())}))},e.prototype.SubscribeToPartnerState=function(e,t,n,r){var i=this;void 0===r&&(r=!0);var o=this.GetPartnerStore(t);if(null==o){if(!r)throw new Error("ERROR: "+e+" is trying to subscribe to partner "+t+". Either "+t+" doesn't exist or hasn't been loaded yet");return this._eagerPartnerStoreSubscribers[t]?this._eagerPartnerStoreSubscribers[t].source=n:this._eagerPartnerStoreSubscribers[t]={source:n},function(){i.UnsubscribeEagerSubscription(e,t)}}return o.subscribe((function(){return n(o.getState())}))},e.prototype.SubscribeToGlobalState=function(e,t){var n=this;return this._globalListeners.push(t),function(){n._globalListeners=n._globalListeners.filter((function(e){return e!==t}))}},e.prototype.UnsubscribeEagerSubscription=function(e,t){if(t&&e&&this._eagerUnsubscribers[t]){var n=this._eagerUnsubscribers[t].source;n&&n()}},e.prototype.SetLogger=function(e){void 0===this._logger||null===this._logger?this._logger=e:this._logger.SetNextLogger(e),this._actionLogger.SetLogger(e)},e.prototype.RegisterEagerSubscriptions=function(e){var t=this,n=this._eagerPartnerStoreSubscribers[e];void 0!==n&&void 0!==n&&Object.keys(n).forEach((function(r){var i=n[r];if(i){var o=t.SubscribeToPartnerState(r,e,i,!1);t._eagerPartnerStoreSubscribers[e]?t._eagerPartnerStoreSubscribers[e].sourceApp=o:t._eagerPartnerStoreSubscribers[e]={sourceApp:o}}}))},e.prototype.InvokeGlobalListeners=function(){var e=this.GetGlobalState();this._globalListeners.forEach((function(t){t(e)}))},e.prototype.GetPlatformStore=function(){return this.GetPartnerStore(e.Platform)},e.prototype.GetPartnerStore=function(e){return this._stores[e]},e.prototype.GetGlobalMiddlewares=function(){return[this._actionLogger.CreateMiddleware()]},e.prototype.IsActionRegisteredAsGlobal=function(t,n){var r=this._globalActions[t];return null!=r&&r.some((function(t){return t===n.type||t===e.AllowAll}))},e.prototype.LogRegistration=function(e,t){try{var n={AppName:e,IsReplaced:t.toString()};this._logger&&this._logger.LogEvent("Store.GlobalStore","StoreRegistered",n)}catch(t){console.error("ERROR: There was an error while logging registration for "+e),console.error(t)}},e.prototype.CopyState=function(e){return null==e||"object"!=typeof e?e:Me({},e)},e.Platform="Platform",e.AllowAll="*",e.InstanceName="GlobalStoreInstance",e.DebugMode=!1,e}(),Fe={};e(Fe,"Amplify",(()=>Qe),(e=>Qe=e));var Be={};e(Be,"ConsoleLogger",(()=>Xe),(e=>Xe=e));var ze,Ke,qe="Logging",He="No credentials",Ge=["ResourceNotFoundException","InvalidSequenceTokenException"],Ve=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},We=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},$e=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(We(arguments[t]));return e},Je={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(Ke=ze||(ze={})).DEBUG="DEBUG",Ke.ERROR="ERROR",Ke.INFO="INFO",Ke.WARN="WARN",Ke.VERBOSE="VERBOSE";var Xe=function(){function e(e,t){void 0===t&&(t=ze.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var a=Je[s],u=Je[t];if(u>=a){var c=console.log.bind(console);t===ze.ERROR&&console.error&&(c=console.error.bind(console)),t===ze.WARN&&console.warn&&(c=console.warn.bind(console));var l="["+t+"] "+this._ts()+" "+this.name,f="";if(1===i.length&&"string"==typeof i[0])c(f=l+" - "+i[0]);else if(1===i.length)f=l+" "+i[0],c(l,i[0]);else if("string"==typeof i[0]){var d=i.slice(1);1===d.length&&(d=d[0]),f=l+" - "+i[0]+" "+d,c(l+" - "+i[0],d)}else f=l+" "+i,c(l,i);try{for(var h=Ve(this._pluggables),p=h.next();!p.done;p=h.next()){var g=p.value,v={message:f,timestamp:Date.now()};g.pushLogs([v])}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,$e([ze.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,$e([ze.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,$e([ze.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,$e([ze.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,$e([ze.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,$e([ze.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&e.getCategoryName()===qe&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),Ye=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ze=new Be.ConsoleLogger("Amplify"),Qe=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Logger=Be.ConsoleLogger,this.ServiceWorker=null}return e.prototype.register=function(e){Ze.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):Ze.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),Ze.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=Ye(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}()),et={userAgent:"aws-amplify/4.2.8 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)switch(et.product=navigator.product||"",et.navigator=navigator||null,navigator.product){case"ReactNative":et.userAgent="aws-amplify/4.2.8 react-native",et.isReactNative=!0;break;default:et.userAgent="aws-amplify/4.2.8 js",et.isReactNative=!1}var tt=function(){return et.userAgent},nt={};e(nt,"Hub",(()=>ut),(e=>ut=e));var rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},it=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ot=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(it(arguments[t]));return e},st=new Be.ConsoleLogger("Hub"),at="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var ut=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void st.warn("No listeners for "+e);this.patterns=ot(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void st.warn("No listeners for "+e);this.listeners[e]=ot(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===at||st.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:rt({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){st.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))st.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){st.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){st.error(e)}})),this.patterns.length>0){if(!n.message)return void st.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=it(n).slice(1),o=rt(rt({},e),{patternInfo:r});try{t.callback(o)}catch(e){st.error(e)}}}))}},e}())("__default__"),ct=new Be.ConsoleLogger("I18n"),lt=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),ct.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),ft=new Be.ConsoleLogger("I18n"),dt=null,ht=null,pt=function(){function e(){}return e.configure=function(t){return ft.debug("configure I18n"),t?(dt=Object.assign({},dt,t.I18n||t),e.createInstance(),dt):dt},e.getModuleName=function(){return"I18n"},e.createInstance=function(){ft.debug("create I18n instance"),ht||(ht=new lt(dt))},e.setLanguage=function(t){return e.checkConfig(),ht.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?ht.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),ht.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),ht.putVocabularies(t)},e.checkConfig=function(){return ht||(ht=new lt(dt)),!0},e}();Fe.Amplify.register(pt);var gt,vt,mt,yt=gt={};function wt(){throw new Error("setTimeout has not been defined")}function bt(){throw new Error("clearTimeout has not been defined")}function St(e){if(vt===setTimeout)return setTimeout(e,0);if((vt===wt||!vt)&&setTimeout)return vt=setTimeout,setTimeout(e,0);try{return vt(e,0)}catch(t){try{return vt.call(null,e,0)}catch(t){return vt.call(this,e,0)}}}!function(){try{vt="function"==typeof setTimeout?setTimeout:wt}catch(e){vt=wt}try{mt="function"==typeof clearTimeout?clearTimeout:bt}catch(e){mt=bt}}();var Et,Ct=[],_t=!1,At=-1;function kt(){_t&&Et&&(_t=!1,Et.length?Ct=Et.concat(Ct):At=-1,Ct.length&&xt())}function xt(){if(!_t){var e=St(kt);_t=!0;for(var t=Ct.length;t;){for(Et=Ct,Ct=[];++At<t;)Et&&Et[At].run();At=-1,t=Ct.length}Et=null,_t=!1,function(e){if(mt===clearTimeout)return clearTimeout(e);if((mt===bt||!mt)&&clearTimeout)return mt=clearTimeout,clearTimeout(e);try{mt(e)}catch(t){try{return mt.call(null,e)}catch(t){return mt.call(this,e)}}}(e)}}function Pt(e,t){this.fun=e,this.array=t}function It(){}yt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ct.push(new Pt(e,t)),1!==Ct.length||_t||St(xt)},Pt.prototype.run=function(){this.fun.apply(null,this.array)},yt.title="browser",yt.browser=!0,yt.env={},yt.argv=[],yt.version="",yt.versions={},yt.on=It,yt.addListener=It,yt.once=It,yt.off=It,yt.removeListener=It,yt.removeAllListeners=It,yt.emit=It,yt.prependListener=It,yt.prependOnceListener=It,yt.listeners=function(e){return[]},yt.binding=function(e){throw new Error("process.binding is not supported")},yt.cwd=function(){return"/"},yt.chdir=function(e){throw new Error("process.chdir is not supported")},yt.umask=function(){return 0};var Tt=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/styles",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],Lt=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},Ot=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i||i<o?-1*r:i>o?1*r:0})),!0},Nt=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},Ut=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=Tt.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},Mt=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},Rt=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},Dt=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},jt=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},Ft=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==gt&&null!=gt.versions&&null!=gt.versions.node}},Bt=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!Kt(e))return e;var r={};for(var i in e)if(e.hasOwnProperty(i)){r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:Bt(e[i],t,n)}return r},zt=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!Kt(e))return e;var r={};for(var i in e)if(e.hasOwnProperty(i)){r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:zt(e[i],t,n)}return r},Kt=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},qt=function(){function e(){}return e.isEmpty=Lt,e.sortByField=Ot,e.objectLessAttributes=Nt,e.filenameToContentType=Ut,e.isTextFile=Mt,e.generateRandomString=Rt,e.makeQuerablePromise=Dt,e.isWebWorker=jt,e.browserOrNode=Ft,e.transferKeyToLowerCase=Bt,e.transferKeyToUpperCase=zt,e.isStrictObject=Kt,e}(),Ht={};e(Ht,"Parser",(()=>$t),(e=>$t=e)),e(Ht,"parseMobileHubConfig",(()=>Wt),(e=>Wt=e));var Gt=function(){return(Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Vt=new Be.ConsoleLogger("Parser"),Wt=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=Gt(Gt({},e.Logging),{region:e.aws_project_region})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),Vt.debug("parse config",e,"to amplifyconfig",n),n},$t=function(){function e(){}return e.parseMobilehubConfig=Wt,e}(),Jt=function(e,t){return(Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Jt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yt=function(){return(Yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Zt(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Qt(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}Object.create;function en(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;var tn;tn=JSON.parse('{"name":"@aws-sdk/client-cloudwatch-logs","description":"AWS SDK for JavaScript Cloudwatch Logs Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test":"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch-logs","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cloudwatch-logs"}}');var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.WebCryptoSha256=nn.Ie11Sha256=void 0;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rn=function(e,t){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function on(e,t){function n(){this.constructor=e}rn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var sn=function(){return(sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function an(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function un(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function cn(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}function ln(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function fn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function hn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dn(arguments[t]));return e}function pn(e){return this instanceof pn?(this.v=e,this):new pn(e)}function gn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof pn?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r}function vn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}return n?n.call(e):(e=fn(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t)}o.register("glxuA",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=o("dgBPa"),r=o("1uU3v"),i=o("5YGMh"),s=o("j3xRa"),a=o("5CkEz"),u=o("Bpz9v"),c=function(){function e(e){s.supportsWebCrypto(u.locateWindow())?this.hash=new r.Sha256(e):a.isMsWindow(u.locateWindow())?this.hash=new n.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();e.exports.Sha256=c})),o.register("dgBPa",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=o("gwkRq"),r=o("dIQxW"),i=o("gkDCW"),s=o("Bpz9v"),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var i=s.locateWindow().msCrypto.subtle.importKey("raw",u(e),r.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),n(new Error("ImportKey completed without importing key."))},i.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return s.locateWindow().msCrypto.subtle.sign(r.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve(s.locateWindow().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;n.isEmptyData(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?i.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}e.exports.Sha256=a})),o.register("gwkRq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),o.register("dIQxW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EMPTY_DATA_SHA_256=e.exports.SHA_256_HMAC_ALGO=e.exports.SHA_256_HASH=void 0,e.exports.SHA_256_HASH={name:"SHA-256"},e.exports.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.exports.SHA_256_HASH},e.exports.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})),o.register("gkDCW",(function(t,n){e(t.exports,"fromUtf8",(()=>s)),e(t.exports,"toUtf8",(()=>a));var r=o("3ryuM"),i=o("9igvH"),s=function(e){return"function"==typeof TextEncoder?i.fromUtf8(e):r.fromUtf8(e)},a=function(e){return"function"==typeof TextDecoder?i.toUtf8(e):r.toUtf8(e)}})),o.register("3ryuM",(function(t,n){e(t.exports,"toUtf8",(()=>i)),e(t.exports,"fromUtf8",(()=>r));var r=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},i=function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}})),o.register("9igvH",(function(t,n){function r(e){return(new TextEncoder).encode(e)}function i(e){return new TextDecoder("utf-8").decode(e)}e(t.exports,"toUtf8",(()=>i)),e(t.exports,"fromUtf8",(()=>r))})),o.register("Bpz9v",(function(t,n){e(t.exports,"locateWindow",(()=>i));var r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}})),o.register("1uU3v",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=o("cy6e5"),r=o("dIQxW"),i=o("Bpz9v"),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,o){i.locateWindow().crypto.subtle.importKey("raw",n.convertToBuffer(e),r.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,o)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!n.isEmptyData(e)){var t=n.convertToBuffer(e),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return i.locateWindow().crypto.subtle.sign(r.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):n.isEmptyData(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return i.locateWindow().crypto.subtle.digest(r.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();e.exports.Sha256=s})),o.register("cy6e5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.numToUint8=e.exports.isEmptyData=e.exports.convertToBuffer=void 0;var n=o("hWOOb");Object.defineProperty(e.exports,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var r=o("ffDER");Object.defineProperty(e.exports,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var i=o("euari");Object.defineProperty(e.exports,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}})})),o.register("hWOOb",(function(e,t){var n=o("7bEpf").Buffer;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.convertToBuffer=void 0;var r=o("gkDCW"),i=n&&n.from?function(e){return n.from(e,"utf8")}:r.fromUtf8;e.exports.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}})),o.register("7bEpf",(function(t,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r,i;e(t.exports,"INSPECT_MAX_BYTES",(()=>r),(e=>r=e)),e(t.exports,"Buffer",(()=>i),(e=>i=e));var s=o("grwCU"),a=o("8M081"),u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;i=f,r=50;var c=2147483647;function l(e){if(e>c)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,f.prototype),t}function f(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return d(e,t,n)}function d(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|y(e,t),r=l(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer))return v(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return v(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return f.from(r,t,n);var i=function(e){if(f.isBuffer(e)){var t=0|m(e.length),n=l(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||G(e.length)?l(0):g(e);if("Buffer"===e.type&&Array.isArray(e.data))return g(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return h(e),l(e<0?0:0|m(e))}function g(e){for(var t=e.length<0?0:0|m(e.length),n=l(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function v(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,f.prototype),r}function m(e){if(e>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|e}function y(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:z(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=f.from(t,r)),f.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function C(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(G(a))return s;e[n+s]=a}return s}function _(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function A(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return q(K(t),e,n,r)}function x(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(e,t,n){return d(e,t,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(e,t,n){return function(e,t,n){return h(e),e<=0?l(e):void 0!==t?"string"==typeof n?l(e).fill(t,n):l(e).fill(t):l(e)}(e,t,n)},f.allocUnsafe=function(e){return p(e)},f.allocUnsafeSlow=function(e){return p(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(H(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=f.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(H(o,Uint8Array))i+o.length>r.length?f.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},f.byteLength=y,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):w.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=r;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(f.prototype[u]=f.prototype.inspect),f.prototype.compare=function(e,t,n,r,i){if(H(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},f.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},f.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},f.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return C(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=V[e[o]];return i}function U(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),a.write(e,t,n,r,52,8),n+8}f.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,f.prototype),r},f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},f.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),a.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),a.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),a.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),a.read(this,e,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},f.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},f.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},f.prototype.copy=function(e,t,n,r){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},f.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=f.isBuffer(e)?e:f.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var B=/[^+/0-9A-Za-z-_]/g;function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function G(e){return e!=e}var V=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()})),o.register("grwCU",(function(t,n){var r,i;e(t.exports,"toByteArray",(()=>i),(e=>i=e)),e(t.exports,"fromByteArray",(()=>r),(e=>r=e)),i=function(e){var t,n,r=f(e),i=r[0],o=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),c=0,l=o>0?i-4:i;for(n=0;n<l;n+=4)t=s[e.charCodeAt(n)]<<18|s[e.charCodeAt(n+1)]<<12|s[e.charCodeAt(n+2)]<<6|s[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===o&&(t=s[e.charCodeAt(n)]<<2|s[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===o&&(t=s[e.charCodeAt(n)]<<10|s[e.charCodeAt(n+1)]<<4|s[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},r=function(e){for(var t,n=e.length,r=n%3,i=[],s=16383,a=0,u=n-r;a<u;a+=s)i.push(d(e,a,a+s>u?u:a+s));1===r?(t=e[n-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)o[c]=u[c],s[u.charCodeAt(c)]=c;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e,t,n){for(var r,i,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63})),o.register("8M081",(function(t,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var r,i;e(t.exports,"write",(()=>i),(e=>i=e)),e(t.exports,"read",(()=>r),(e=>r=e)),r=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},i=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*g}})),o.register("ffDER",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isEmptyData=void 0,e.exports.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),o.register("euari",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.numToUint8=void 0,e.exports.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}})),o.register("5YGMh",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),ln(o("aolL2"),e.exports)})),o.register("aolL2",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Sha256=void 0;var n=o("w6Xvx"),r=o("gRUEw"),i=o("cy6e5"),s=function(){function e(e){if(this.hash=new r.RawSha256,e){this.outer=new r.RawSha256;var t=function(e){var t=i.convertToBuffer(e);if(t.byteLength>n.BLOCK_SIZE){var o=new r.RawSha256;o.update(t),t=o.digest()}var s=new Uint8Array(n.BLOCK_SIZE);return s.set(t),s}(e),o=new Uint8Array(n.BLOCK_SIZE);o.set(t);for(var s=0;s<n.BLOCK_SIZE;s++)t[s]^=54,o[s]^=92;this.hash.update(t),this.outer.update(o);for(s=0;s<t.byteLength;s++)t[s]=0}}return e.prototype.update=function(e){if(!i.isEmptyData(e)&&!this.error)try{this.hash.update(i.convertToBuffer(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return un(this,void 0,void 0,(function(){return cn(this,(function(e){return[2,this.digestSync()]}))}))},e}();e.exports.Sha256=s})),o.register("w6Xvx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.MAX_HASHABLE_LENGTH=e.exports.INIT=e.exports.KEY=e.exports.DIGEST_LENGTH=e.exports.BLOCK_SIZE=void 0,e.exports.BLOCK_SIZE=64,e.exports.DIGEST_LENGTH=32,e.exports.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e.exports.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e.exports.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1})),o.register("gRUEw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.RawSha256=void 0;var n=o("w6Xvx"),r=function(){function e(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var i=this.bufferLength;i<n.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<n.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(n.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(n.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(n.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<n.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(n.KEY[f]+this.temp[f]|0)|0)|0,v=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=r,r=g+v|0}t[0]+=r,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();e.exports.RawSha256=r})),o.register("j3xRa",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),ln(o("hV5Rq"),e.exports)})),o.register("hV5Rq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.supportsZeroByteGCM=e.exports.supportsSubtleCrypto=e.exports.supportsSecureRandom=e.exports.supportsWebCrypto=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function i(e){return e&&n.every((function(t){return"function"==typeof e[t]}))}e.exports.supportsWebCrypto=function(e){return!(!r(e)||"object"!=typeof e.crypto.subtle)&&i(e.crypto.subtle)},e.exports.supportsSecureRandom=r,e.exports.supportsSubtleCrypto=i,e.exports.supportsZeroByteGCM=function(e){return un(this,void 0,void 0,(function(){var t;return cn(this,(function(n){switch(n.label){case 0:if(!i(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}})),o.register("5CkEz",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),ln(o("jTLKq"),e.exports),ln(o("lvdoX"),e.exports),ln(o("f5dRQ"),e.exports),ln(o("7i5E8"),e.exports),ln(o("eAorZ"),e.exports)})),o.register("jTLKq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),o.register("lvdoX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),o.register("f5dRQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),o.register("7i5E8",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),o.register("eAorZ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];e.exports.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}})),ln(o("glxuA"),nn);var mn=o("dgBPa");Object.defineProperty(nn,"Ie11Sha256",{enumerable:!0,get:function(){return mn.Sha256}});var yn=o("1uU3v");Object.defineProperty(nn,"WebCryptoSha256",{enumerable:!0,get:function(){return yn.Sha256}});var wn=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),bn=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(sn(sn({},this),{headers:sn({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return sn(sn({},e),((r={})[n]=Array.isArray(i)?hn(i):i,r))}),{}))),n},e}();var Sn=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,En)},En=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function Cn(e){var t,n,r=[];try{for(var i=fn(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=Sn(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+Sn(a[u]));else{var l=s;(a||"string"==typeof a)&&(l+="="+Sn(a)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}for(var _n=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var s=Cn(e.query);s&&(o+="?"+s)}var a=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=fn(r.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new wn({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new wn({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),An={},kn=new Array(64),xn=0,Pn="A".charCodeAt(0),In="Z".charCodeAt(0);xn+Pn<=In;xn++){var Tn=String.fromCharCode(xn+Pn);An[Tn]=xn,kn[xn]=Tn}for(xn=0,Pn="a".charCodeAt(0),In="z".charCodeAt(0);xn+Pn<=In;xn++){Tn=String.fromCharCode(xn+Pn);var Ln=xn+26;An[Tn]=Ln,kn[Ln]=Tn}for(xn=0;xn<10;xn++){An[xn.toString(10)]=xn+52;Tn=xn.toString(10),Ln=xn+52;An[Tn]=Ln,kn[Ln]=Tn}An["+"]=62,kn[62]="+",An["/"]=63,kn[63]="/";function On(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=An[e[a]]<<6*(u-a),s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var l=Math.floor(s/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function Nn(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,s=Math.min(n+3,e.length);o<s;o++)r|=e[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);r<<=6*a-i;for(var u=1;u<=a;u++){var c=6*(a-u);t+=kn[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t}var Un=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return un(this,void 0,void 0,(function(){var t,n;return cn(this,(function(r){switch(r.label){case 0:return[4,Mn(e)];case 1:return t=r.sent(),n=On(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return un(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return cn(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(s=i.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function Mn(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Rn,Dn=function(e){return function(){return Promise.reject(e)}},jn={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Fn=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return un(void 0,void 0,void 0,(function(){var i;return cn(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=hn(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),jn)}}},Bn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],zn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Kn=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],qn=[500,502,503,504],Hn=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||zn.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Gn={},Vn={},Wn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Wn){var $n=new Uint8Array(16);Vn=function(){return Wn($n),$n}}else{var Jn=new Array(16);Vn=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),Jn[t]=e>>>((3&t)<<3)&255;return Jn}}for(var Xn,Yn,Zn={},Qn=[],er=0;er<256;++er)Qn[er]=(er+256).toString(16).substr(1);Zn=function(e,t){var n=t||0,r=Qn;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var tr=0,nr=0;Rn=function(e,t,n){var r=t&&n||0,i=t||[],o=(e=e||{}).node||Xn,s=void 0!==e.clockseq?e.clockseq:Yn;if(null==o||null==s){var a=Vn();null==o&&(o=Xn=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=Yn=16383&(a[6]<<8|a[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:nr+1,l=u-tr+(c-nr)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||u>tr)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");tr=u,nr=c,Yn=s;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var h=0;h<6;++h)i[r+h]=o[h];return t||Zn(i)};var rr;var ir=rr=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Vn)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||Zn(i)};ir.v1=Rn,ir.v4=rr,Gn=ir;var or=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},sr=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Bn.includes(e.name)}(e)||Hn(e)||function(e){var t;return Kn.includes(e.name)||qn.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},ar="standard",ur=function(){function e(e,t){var n,r,i,o,s,a,u,c;this.maxAttemptsProvider=e,this.mode=ar,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:sr,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:or,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(s=o=500,a=o,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return un(this,void 0,void 0,(function(){var e;return cn(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return un(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return cn(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),s=t.request,bn.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=Gn.v4()),a=function(){var a,c,l,f,d;return cn(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),bn.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return a=h.sent(),c=a.response,l=a.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(Hn(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,a()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),cr=function(e){var t=lr(e.maxAttempts);return sn(sn({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new ur(t)})},lr=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function fr(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}var dr,hr,pr={};dr=pr,hr=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18),s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},"object"==typeof pr?pr=hr():"function"==typeof define&&define.amd?define([],hr):"object"==typeof pr?pr.bowser=hr():dr.bowser=hr();var gr=function(e){var n=e.serviceId,r=e.clientVersion;return function(){return un(void 0,void 0,void 0,(function(){var e,i,o,s,a,u,c,l,f;return cn(this,(function(d){return e=(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?t(pr).parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/"+((null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(c=null===(u=null==e?void 0:e.browser)||void 0===u?void 0:u.name)&&void 0!==c?c:"unknown")+"_"+(null!==(f=null===(l=null==e?void 0:e.browser)||void 0===l?void 0:l.version)&&void 0!==f?f:"unknown")]],n&&i.push(["api/"+n,r]),[2,i]}))}))}},vr=o("gkDCW"),mr="logs.{region}.amazonaws.com",yr=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),wr=new Set(["cn-north-1","cn-northwest-1"]),br=new Set(["us-iso-east-1"]),Sr=new Set(["us-isob-east-1"]),Er=new Set(["us-gov-east-1","us-gov-west-1"]);var Cr=function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=fn(e.split("&")),o=i.next();!o.done;o=i.next()){var s=dn(o.value.split("="),2),a=s[0],u=s[1],c=void 0===u?null:u;a=decodeURIComponent(a),c&&(c=decodeURIComponent(c)),a in r?Array.isArray(r[a])?r[a].push(c):r[a]=[r[a],c]:r[a]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}},_r={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:yr.has(e)&&(n={hostname:mr.replace("{region}",e),partition:"aws"}),wr.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),br.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Sr.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Er.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:mr.replace("{region}",e),partition:"aws"})}return Promise.resolve(Yt({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:Cr},Ar=Yt(Yt({},_r),{runtime:"browser",base64Decoder:On,base64Encoder:Nn,bodyLengthChecker:fr,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:gr({serviceId:_r.serviceId,clientVersion:t(tn).version}),maxAttempts:3,region:Dn("Region is missing"),requestHandler:new _n,sha256:nn.Sha256,streamCollector:Un,utf8Decoder:vr.fromUtf8,utf8Encoder:vr.toUtf8}),kr=function(e){var t;return sn(sn({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?xr(e):function(){return Pr(e)},isCustomEndpoint:!!e.endpoint})},xr=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},Pr=function(e){return un(void 0,void 0,void 0,(function(){var t,n,r,i,o;return cn(this,(function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},Ir=function(e){if(!e.region)throw new Error("Region is missing");return sn(sn({},e),{region:Tr(e.region)})},Tr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Lr="content-length";var Or={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Nr=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return un(t,void 0,void 0,(function(){var t,i,o,s,a;return cn(this,(function(u){return t=r.request,bn.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(Lr)&&void 0!==(s=e(i))&&(t.headers=sn(sn({},t.headers),((a={})["content-length"]=String(s),a)))),[2,n(sn(sn({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Or)}}};for(var Ur={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Mr=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return un(void 0,void 0,void 0,(function(){var r,i;return cn(this,(function(o){return bn.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Ur)}}},Rr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Dr=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return un(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f;return cn(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),s?("function"==typeof s.info&&(c=u.output,l=c.$metadata,f=an(c,["$metadata"]),s.info({clientName:r,commandName:i,input:o(n.input),output:a(f),metadata:l})),[2,u]):[2,u]}}))}))}}),Rr)}}},jr={},Fr={},Br=0;Br<256;Br++){var zr=Br.toString(16).toLowerCase();1===zr.length&&(zr="0"+zr),jr[Br]=zr,Fr[zr]=Br}function Kr(e){for(var t="",n=0;n<e.byteLength;n++)t+=jr[e[n]];return t}var qr="X-Amz-Date",Hr="X-Amz-Signature",Gr="X-Amz-Security-Token",Vr="authorization",Wr=qr.toLowerCase(),$r=[Vr,Wr,"date"],Jr=Hr.toLowerCase(),Xr="x-amz-content-sha256",Yr=Gr.toLowerCase(),Zr={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Qr=/^proxy-/,ei=/^sec-/,ti="AWS4-HMAC-SHA256",ni="AWS4-HMAC-SHA256-PAYLOAD",ri="aws4_request",ii={},oi=[];function si(e,t,n){return e+"/"+t+"/"+n+"/"+ri}function ai(e,t,n){var r=new e(t);return r.update(n),r.digest()}function ui(e,t,n){var r,i,o=e.headers,s={};try{for(var a=fn(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.toLowerCase();(l in Zr||(null==t?void 0:t.has(l))||Qr.test(l)||ei.test(l))&&(!n||n&&!n.has(l))||(s[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function ci(e,t){var n=e.headers,r=e.body;return un(this,void 0,void 0,(function(){var e,i,o,s,a,u,c;return cn(this,(function(l){switch(l.label){case 0:try{for(e=fn(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===Xr)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((s=new t).update(r),a=Kr,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function li(e){var t=e.headers,n=e.query,r=an(e,["headers","query"]);return sn(sn({},r),{headers:sn({},t),query:n?fi(n):void 0})}function fi(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return sn(sn({},t),((r={})[n]=Array.isArray(i)?hn(i):i,r))}),{})}function di(e){var t,n;e="function"==typeof e.clone?e.clone():li(e);try{for(var r=fn(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;$r.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function hi(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var pi=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=mi(r),this.credentialProvider=yi(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),un(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,b,S,E,C,_,A;return cn(this,(function(k){switch(k.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=k.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=k.sent(),k.label=4;case 4:return d=h,p=gi(r),g=p.longDate,v=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=si(v,d,null!=l?l:this.service),y=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():li(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=fn(Object.keys(s)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=s[f],delete s[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return sn(sn({},e),{headers:s,query:u})}(di(e),{unhoistableHeaders:a}),f.sessionToken&&(y.query["X-Amz-Security-Token"]=f.sessionToken),y.query["X-Amz-Algorithm"]=ti,y.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,y.query["X-Amz-Date"]=g,y.query["X-Amz-Expires"]=o.toString(10),w=ui(y,s,u),y.query["X-Amz-SignedHeaders"]=vi(w),b=y.query,S=Hr,E=this.getSignature,C=[g,m,this.getSigningKey(f,d,v,l)],_=this.createCanonicalRequest,A=[y,w],[4,ci(e,this.sha256)]);case 5:return[4,E.apply(this,C.concat([_.apply(this,A.concat([k.sent()]))]))];case 6:return b[S]=k.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return un(this,void 0,void 0,(function(){return cn(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return un(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,g,v;return cn(this,(function(m){switch(m.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,i=gi(o),c=i.shortDate,l=i.longDate,f=si(c,e,null!=u?u:this.service),[4,ci({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(h=new this.sha256).update(n),g=Kr,[4,h.digest()];case 5:return p=g.apply(void 0,[m.sent()]),v=[ni,l,f,s,p,d].join("\n"),[2,this.signString(v,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,s=n.signingService;return un(this,void 0,void 0,(function(){var t,n,r,a,u,c,l,f;return cn(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,a=gi(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=Kr,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return un(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,g,v;return cn(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=di(e),l=gi(i),f=l.longDate,d=l.shortDate,h=si(d,n,null!=u?u:this.service),c.headers[Wr]=f,t.sessionToken&&(c.headers[Yr]=t.sessionToken),[4,ci(c,this.sha256)];case 5:return p=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=fn(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(Xr,c.headers)&&this.applyChecksum&&(c.headers["x-amz-content-sha256"]=p),g=ui(c,s,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,g,p))];case 6:return v=m.sent(),c.headers.authorization="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+vi(g)+", Signature="+v,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],s={},a=function(e){if(e.toLowerCase()===Jr)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=Sn(e)+"="+Sn(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Sn(e)+"="+Sn(n)])}),[]).join("&"))};try{for(var u=fn(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())a(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return un(this,void 0,void 0,(function(){var r,i;return cn(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Kr(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return un(this,void 0,void 0,(function(){var i,o,s,a,u;return cn(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=Kr,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return un(void 0,void 0,void 0,(function(){var o,s,a,u,c,l,f,d,h;return cn(this,(function(p){switch(p.label){case 0:return[4,ai(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(s=n+":"+r+":"+i+":"+Kr(o)+":"+t.sessionToken)in ii)return[2,ii[s]];for(oi.push(s);oi.length>50;)delete ii[oi.shift()];a="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=fn([n,r,i,ri]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,ai(e,a,l)]);case 4:a=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,ii[s]=a]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),gi=function(e){var t=hi(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},vi=function(e){return Object.keys(e).sort().join(";")},mi=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},yi=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function wi(e){var t,n=this,r=bi(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?bi(e.signer):function(){return bi(e.region)().then((function(t){return un(n,void 0,void 0,(function(){return cn(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=dn(t,2),i=n[0],s=n[1],a=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId,new pi({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},sn(sn({},e),{systemClockOffset:a,signingEscapePath:o,credentials:r,signer:t})}function bi(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Si=function(e){return new Date(Date.now()+e)};function Ei(e){return function(t,n){return function(r){return un(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d;return cn(this,(function(h){switch(h.label){case 0:return bn.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,a=t,u=[sn({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,a.apply(void 0,[sn.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return s=h.sent(),c=s.response.headers,(l=c&&(c.date||c.Date))&&(f=Date.parse(l),p=f,g=e.systemClockOffset,Math.abs(Si(g).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,s]}var p,g}))}))}}}var Ci={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},_i=function(e){return{applyToStack:function(t){t.addRelativeTo(Ei(e),Ci)}}};function Ai(e){return sn(sn({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var ki=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,xi=function(e){var t=dn(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),s=n.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(ki,"_")})).join("/")},Pi={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ii=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return un(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,l,f;return cn(this,(function(d){switch(d.label){case 0:return i=r.request,bn.isInstance(i)?(o=i.headers,s=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(xi))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return a=d.sent().map(xi),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(xi))||[],o["x-amz-user-agent"]=hn(a,s,u).join(" "),c=hn(a.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o["user-agent"]=o["user-agent"]?o["user-agent"]+" "+c:c),[2,e(sn(sn({},r),{request:i}))]}}))}))}}),Pi)}}},Ti=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,sn({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,sn({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,hn(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,hn(i(e)))})),t},o=function(){var n,r=[],o=[],s={};return e.forEach((function(e){var t=sn(sn({},e),{before:[],after:[]});t.name&&(s[t.name]=t),r.push(t)})),t.forEach((function(e){var t=sn(sn({},e),{before:[],after:[]});t.name&&(s[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=r,n.sort((function(e,t){return Li[t.step]-Li[e.step]||Oi[t.priority||"normal"]-Oi[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,hn(t)),e}),[]).map((function(e){return e.middleware}))},s={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,s=sn({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=e.findIndex((function(e){return e.name===i})),u=e[a];if(u.step!==s.step||u.priority!==s.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+s.priority+" priority in "+s.step+" step.");e.splice(a,1)}n.add(i)}e.push(s)},addRelativeTo:function(e,r){var i=r.name,o=r.override,s=sn({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=t.findIndex((function(e){return e.name===i})),u=t[a];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+s.relation+' "'+s.toMiddleware+'" middleware.');t.splice(a,1)}n.add(i)}t.push(s)},clone:function(){return r(Ti())},use:function(e){e.applyToStack(s)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(Ti());return t.use(e),t},applyToStack:r,resolve:function(e,t){var n,r;try{for(var i=fn(o().reverse()),s=i.next();!s.done;s=i.next()){e=(0,s.value)(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},Li={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Oi={high:3,normal:2,low:1},Ni=function(){function e(e){this.middlewareStack=Ti(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Ui=function(){this.middlewareStack=Ti()};function Mi(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var Ri=function(e){return Array.isArray(e)?e:[e]},Di=function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]["#text"]?e[t]=e[t]["#text"]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=Di(e[t]));return e},ji=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,hn([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};ji.prototype=Object.create(String.prototype,{constructor:{value:ji,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(ji,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}on(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(ji);var Fi=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Bi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function zi(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds();return Fi[r]+", "+(i<10?"0"+i:""+i)+" "+Bi[n]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+" GMT"}var Ki,qi,Hi,Gi,Vi,Wi,$i,Ji,Xi,Yi,Zi,Qi,eo,to,no,ro,io,oo,so,ao,uo,co,lo,fo,ho,po,go,vo,mo,yo,wo,bo,So,Eo,Co,_o,Ao,ko,xo,Po,Io,To,Lo,Oo,No,Uo,Mo,Ro,Do,jo,Fo,Bo,zo,Ko,qo,Ho,Go,Vo,Wo,$o,Jo,Xo,Yo,Zo,Qo,es,ts,ns,rs,is,os,ss,as,us,cs,ls,fs,ds,hs,ps,gs,vs,ms,ys,ws,bs,Ss,Es,Cs,_s,As,ks,xs,Ps,Is,Ts,Ls,Os,Ns,Us,Ms,Rs,Ds,js,Fs,Bs,zs,Ks,qs="***SensitiveInformation***",Hs=function(e){function t(t){var n=this,r=Yt(Yt({},Ar),t),i=Ir(r),o=wi(kr(i)),s=Ai(cr(o));return(n=e.call(this,s)||this).config=s,n.middlewareStack.use(_i(n.config)),n.middlewareStack.use(Fn(n.config)),n.middlewareStack.use(Nr(n.config)),n.middlewareStack.use(Mr(n.config)),n.middlewareStack.use(Dr(n.config)),n.middlewareStack.use(Ii(n.config)),n}return Xt(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ni);(Ki||(Ki={})).filterSensitiveLog=function(e){return Yt({},e)},(qi||(qi={})).filterSensitiveLog=function(e){return Yt({},e)},(Hi||(Hi={})).filterSensitiveLog=function(e){return Yt({},e)},(Gi||(Gi={})).filterSensitiveLog=function(e){return Yt({},e)},(Vi||(Vi={})).filterSensitiveLog=function(e){return Yt({},e)},(Wi||(Wi={})).filterSensitiveLog=function(e){return Yt({},e)},($i||($i={})).filterSensitiveLog=function(e){return Yt({},e)},(Ji||(Ji={})).filterSensitiveLog=function(e){return Yt({},e)},(Xi||(Xi={})).filterSensitiveLog=function(e){return Yt({},e)},(Yi||(Yi={})).filterSensitiveLog=function(e){return Yt({},e)},(Zi||(Zi={})).filterSensitiveLog=function(e){return Yt({},e)},(Qi||(Qi={})).filterSensitiveLog=function(e){return Yt({},e)},(eo||(eo={})).filterSensitiveLog=function(e){return Yt({},e)},(to||(to={})).filterSensitiveLog=function(e){return Yt({},e)},(no||(no={})).filterSensitiveLog=function(e){return Yt({},e)},(ro||(ro={})).filterSensitiveLog=function(e){return Yt({},e)},(io||(io={})).filterSensitiveLog=function(e){return Yt({},e)},(oo||(oo={})).filterSensitiveLog=function(e){return Yt({},e)},(so||(so={})).filterSensitiveLog=function(e){return Yt({},e)},(ao||(ao={})).filterSensitiveLog=function(e){return Yt({},e)},(uo||(uo={})).filterSensitiveLog=function(e){return Yt({},e)},(co||(co={})).filterSensitiveLog=function(e){return Yt({},e)},(lo||(lo={})).filterSensitiveLog=function(e){return Yt({},e)},(fo||(fo={})).filterSensitiveLog=function(e){return Yt({},e)},(ho||(ho={})).filterSensitiveLog=function(e){return Yt({},e)},(po||(po={})).filterSensitiveLog=function(e){return Yt({},e)},(vo=go||(go={})).CANCELLED="CANCELLED",vo.COMPLETED="COMPLETED",vo.FAILED="FAILED",vo.PENDING="PENDING",vo.PENDING_CANCEL="PENDING_CANCEL",vo.RUNNING="RUNNING",(mo||(mo={})).filterSensitiveLog=function(e){return Yt({},e)},(yo||(yo={})).filterSensitiveLog=function(e){return Yt({},e)},(wo||(wo={})).filterSensitiveLog=function(e){return Yt({},e)},(bo||(bo={})).filterSensitiveLog=function(e){return Yt({},e)},(So||(So={})).filterSensitiveLog=function(e){return Yt({},e)},(Eo||(Eo={})).filterSensitiveLog=function(e){return Yt({},e)},(Co||(Co={})).filterSensitiveLog=function(e){return Yt({},e)},(_o||(_o={})).filterSensitiveLog=function(e){return Yt({},e)},(ko=Ao||(Ao={})).LastEventTime="LastEventTime",ko.LogStreamName="LogStreamName",(xo||(xo={})).filterSensitiveLog=function(e){return Yt({},e)},(Po||(Po={})).filterSensitiveLog=function(e){return Yt({},e)},(Io||(Io={})).filterSensitiveLog=function(e){return Yt({},e)},(To||(To={})).filterSensitiveLog=function(e){return Yt({},e)},(Lo||(Lo={})).filterSensitiveLog=function(e){return Yt({},e)},(Oo||(Oo={})).filterSensitiveLog=function(e){return Yt({},e)},(No||(No={})).filterSensitiveLog=function(e){return Yt({},e)},(Mo=Uo||(Uo={})).Cancelled="Cancelled",Mo.Complete="Complete",Mo.Failed="Failed",Mo.Running="Running",Mo.Scheduled="Scheduled",(Ro||(Ro={})).filterSensitiveLog=function(e){return Yt({},e)},(Do||(Do={})).filterSensitiveLog=function(e){return Yt({},e)},(jo||(jo={})).filterSensitiveLog=function(e){return Yt({},e)},(Fo||(Fo={})).filterSensitiveLog=function(e){return Yt({},e)},(Bo||(Bo={})).filterSensitiveLog=function(e){return Yt({},e)},(zo||(zo={})).filterSensitiveLog=function(e){return Yt({},e)},(Ko||(Ko={})).filterSensitiveLog=function(e){return Yt({},e)},(qo||(qo={})).filterSensitiveLog=function(e){return Yt({},e)},(Ho||(Ho={})).filterSensitiveLog=function(e){return Yt({},e)},(Go||(Go={})).filterSensitiveLog=function(e){return Yt({},e)},(Wo=Vo||(Vo={})).ByLogStream="ByLogStream",Wo.Random="Random",($o||($o={})).filterSensitiveLog=function(e){return Yt({},e)},(Jo||(Jo={})).filterSensitiveLog=function(e){return Yt({},e)},(Xo||(Xo={})).filterSensitiveLog=function(e){return Yt({},e)},(Yo||(Yo={})).filterSensitiveLog=function(e){return Yt({},e)},(Zo||(Zo={})).filterSensitiveLog=function(e){return Yt({},e)},(Qo||(Qo={})).filterSensitiveLog=function(e){return Yt({},e)},(es||(es={})).filterSensitiveLog=function(e){return Yt({},e)},(ts||(ts={})).filterSensitiveLog=function(e){return Yt({},e)},(ns||(ns={})).filterSensitiveLog=function(e){return Yt({},e)},(rs||(rs={})).filterSensitiveLog=function(e){return Yt({},e)},(is||(is={})).filterSensitiveLog=function(e){return Yt({},e)},(os||(os={})).filterSensitiveLog=function(e){return Yt({},e)},(ss||(ss={})).filterSensitiveLog=function(e){return Yt({},e)},(as||(as={})).filterSensitiveLog=function(e){return Yt({},e)},(us||(us={})).filterSensitiveLog=function(e){return Yt({},e)},(cs||(cs={})).filterSensitiveLog=function(e){return Yt({},e)},(ls||(ls={})).filterSensitiveLog=function(e){return Yt({},e)},(fs||(fs={})).filterSensitiveLog=function(e){return Yt({},e)},(ds||(ds={})).filterSensitiveLog=function(e){return Yt({},e)},(hs||(hs={})).filterSensitiveLog=function(e){return Yt({},e)},(ps||(ps={})).filterSensitiveLog=function(e){return Yt({},e)},(gs||(gs={})).filterSensitiveLog=function(e){return Yt({},e)},(vs||(vs={})).filterSensitiveLog=function(e){return Yt({},e)},(ms||(ms={})).filterSensitiveLog=function(e){return Yt({},e)},(ys||(ys={})).filterSensitiveLog=function(e){return Yt({},e)},(ws||(ws={})).filterSensitiveLog=function(e){return Yt({},e)},(bs||(bs={})).filterSensitiveLog=function(e){return Yt({},e)},(Ss||(Ss={})).filterSensitiveLog=function(e){return Yt({},e)},(Es||(Es={})).filterSensitiveLog=function(e){return Yt({},e)},(Cs||(Cs={})).filterSensitiveLog=function(e){return Yt({},e)},(_s||(_s={})).filterSensitiveLog=function(e){return Yt({},e)},(As||(As={})).filterSensitiveLog=function(e){return Yt({},e)},(ks||(ks={})).filterSensitiveLog=function(e){return Yt({},e)},(xs||(xs={})).filterSensitiveLog=function(e){return Yt({},e)},(Ps||(Ps={})).filterSensitiveLog=function(e){return Yt({},e)},(Is||(Is={})).filterSensitiveLog=function(e){return Yt({},e)},(Ts||(Ts={})).filterSensitiveLog=function(e){return Yt({},e)},(Ls||(Ls={})).filterSensitiveLog=function(e){return Yt({},e)},(Os||(Os={})).filterSensitiveLog=function(e){return Yt({},e)},(Ns||(Ns={})).filterSensitiveLog=function(e){return Yt({},e)},(Us||(Us={})).filterSensitiveLog=function(e){return Yt({},e)},(Ms||(Ms={})).filterSensitiveLog=function(e){return Yt({},e)},(Rs||(Rs={})).filterSensitiveLog=function(e){return Yt({},e)},(Ds||(Ds={})).filterSensitiveLog=function(e){return Yt({},e)},(js||(js={})).filterSensitiveLog=function(e){return Yt({},e)},(Fs||(Fs={})).filterSensitiveLog=function(e){return Yt({},e)},(Bs||(Bs={})).filterSensitiveLog=function(e){return Yt({},e)},(zs||(zs={})).filterSensitiveLog=function(e){return Yt({},e)},(Ks||(Ks={})).filterSensitiveLog=function(e){return Yt({},e)};var Gs=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h;return Qt(this,(function(p){switch(p.label){case 0:return r=[Yt({},e)],h={},[4,Ua(e.body,t)];case 1:switch(n=Yt.apply(void 0,r.concat([(h.body=p.sent(),h)])),o="UnknownError",o=Ma(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return s=[{}],[4,Zs(n,t)];case 3:return i=Yt.apply(void 0,[Yt.apply(void 0,s.concat([p.sent()])),{name:o,$metadata:La(e)}]),[3,13];case 4:return a=[{}],[4,ea(n,t)];case 5:return i=Yt.apply(void 0,[Yt.apply(void 0,a.concat([p.sent()])),{name:o,$metadata:La(e)}]),[3,13];case 6:return u=[{}],[4,ta(n,t)];case 7:return i=Yt.apply(void 0,[Yt.apply(void 0,u.concat([p.sent()])),{name:o,$metadata:La(e)}]),[3,13];case 8:return c=[{}],[4,na(n,t)];case 9:return i=Yt.apply(void 0,[Yt.apply(void 0,c.concat([p.sent()])),{name:o,$metadata:La(e)}]),[3,13];case 10:return l=[{}],[4,ia(n,t)];case 11:return i=Yt.apply(void 0,[Yt.apply(void 0,l.concat([p.sent()])),{name:o,$metadata:La(e)}]),[3,13];case 12:f=n.body,o=f.code||f.Code||o,i=Yt(Yt({},f),{name:""+o,message:f.message||f.Message||o,$fault:"client",$metadata:La(e)}),p.label=13;case 13:return d=i.message||i.Message||o,i.message=d,delete i.Message,[2,Promise.reject(Object.assign(new Error(d),i))]}}))}))},Vs=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Qt(this,(function(h){switch(h.label){case 0:return r=[Yt({},e)],d={},[4,Ua(e.body,t)];case 1:switch(n=Yt.apply(void 0,r.concat([(d.body=h.sent(),d)])),o="UnknownError",o=Ma(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return s=[{}],[4,Zs(n,t)];case 3:return i=Yt.apply(void 0,[Yt.apply(void 0,s.concat([h.sent()])),{name:o,$metadata:La(e)}]),[3,11];case 4:return a=[{}],[4,na(n,t)];case 5:return i=Yt.apply(void 0,[Yt.apply(void 0,a.concat([h.sent()])),{name:o,$metadata:La(e)}]),[3,11];case 6:return u=[{}],[4,ra(n,t)];case 7:return i=Yt.apply(void 0,[Yt.apply(void 0,u.concat([h.sent()])),{name:o,$metadata:La(e)}]),[3,11];case 8:return c=[{}],[4,ia(n,t)];case 9:return i=Yt.apply(void 0,[Yt.apply(void 0,c.concat([h.sent()])),{name:o,$metadata:La(e)}]),[3,11];case 10:l=n.body,o=l.code||l.Code||o,i=Yt(Yt({},l),{name:""+o,message:l.message||l.Message||o,$fault:"client",$metadata:La(e)}),h.label=11;case 11:return f=i.message||i.Message||o,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}}))}))},Ws=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Qt(this,(function(f){switch(f.label){case 0:return r=[Yt({},e)],l={},[4,Ua(e.body,t)];case 1:switch(n=Yt.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=Ma(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return s=[{}],[4,Zs(n,t)];case 3:return i=Yt.apply(void 0,[Yt.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:La(e)}]),[3,7];case 4:return a=[{}],[4,ia(n,t)];case 5:return i=Yt.apply(void 0,[Yt.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:La(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=Yt(Yt({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:La(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},$s=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f;return Qt(this,(function(d){switch(d.label){case 0:return r=[Yt({},e)],f={},[4,Ua(e.body,t)];case 1:switch(n=Yt.apply(void 0,r.concat([(f.body=d.sent(),f)])),o="UnknownError",o=Ma(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return s=[{}],[4,Zs(n,t)];case 3:return i=Yt.apply(void 0,[Yt.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:La(e)}]),[3,9];case 4:return a=[{}],[4,ra(n,t)];case 5:return i=Yt.apply(void 0,[Yt.apply(void 0,a.concat([d.sent()])),{name:o,$metadata:La(e)}]),[3,9];case 6:return u=[{}],[4,ia(n,t)];case 7:return i=Yt.apply(void 0,[Yt.apply(void 0,u.concat([d.sent()])),{name:o,$metadata:La(e)}]),[3,9];case 8:c=n.body,o=c.code||c.Code||o,i=Yt(Yt({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:La(e)}),d.label=9;case 9:return l=i.message||i.Message||o,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},Js=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f;return Qt(this,(function(d){switch(d.label){case 0:return r=[Yt({},e)],f={},[4,Ua(e.body,t)];case 1:switch(n=Yt.apply(void 0,r.concat([(f.body=d.sent(),f)])),o="UnknownError",o=Ma(e,n.body),o){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return s=[{}],[4,Zs(n,t)];case 3:return i=Yt.apply(void 0,[Yt.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:La(e)}]),[3,9];case 4:return a=[{}],[4,ra(n,t)];case 5:return i=Yt.apply(void 0,[Yt.apply(void 0,a.concat([d.sent()])),{name:o,$metadata:La(e)}]),[3,9];case 6:return u=[{}],[4,ia(n,t)];case 7:return i=Yt.apply(void 0,[Yt.apply(void 0,u.concat([d.sent()])),{name:o,$metadata:La(e)}]),[3,9];case 8:c=n.body,o=c.code||c.Code||o,i=Yt(Yt({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:La(e)}),d.label=9;case 9:return l=i.message||i.Message||o,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},Xs=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p;return Qt(this,(function(g){switch(g.label){case 0:return r=[Yt({},e)],p={},[4,Ua(e.body,t)];case 1:switch(n=Yt.apply(void 0,r.concat([(p.body=g.sent(),p)])),o="UnknownError",o=Ma(e,n.body),o){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return s=[{}],[4,Ys(n,t)];case 3:return i=Yt.apply(void 0,[Yt.apply(void 0,s.concat([g.sent()])),{name:o,$metadata:La(e)}]),[3,15];case 4:return a=[{}],[4,Zs(n,t)];case 5:return i=Yt.apply(void 0,[Yt.apply(void 0,a.concat([g.sent()])),{name:o,$metadata:La(e)}]),[3,15];case 6:return u=[{}],[4,Qs(n,t)];case 7:return i=Yt.apply(void 0,[Yt.apply(void 0,u.concat([g.sent()])),{name:o,$metadata:La(e)}]),[3,15];case 8:return c=[{}],[4,ra(n,t)];case 9:return i=Yt.apply(void 0,[Yt.apply(void 0,c.concat([g.sent()])),{name:o,$metadata:La(e)}]),[3,15];case 10:return l=[{}],[4,ia(n,t)];case 11:return i=Yt.apply(void 0,[Yt.apply(void 0,l.concat([g.sent()])),{name:o,$metadata:La(e)}]),[3,15];case 12:return f=[{}],[4,oa(n,t)];case 13:return i=Yt.apply(void 0,[Yt.apply(void 0,f.concat([g.sent()])),{name:o,$metadata:La(e)}]),[3,15];case 14:d=n.body,o=d.code||d.Code||o,i=Yt(Yt({},d),{name:""+o,message:d.message||d.Message||o,$fault:"client",$metadata:La(e)}),g.label=15;case 15:return h=i.message||i.Message||o,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}}))}))},Ys=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=pa(n,t),[2,Yt({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:La(e)},r)]}))}))},Zs=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=ya(n,t),[2,Yt({name:"InvalidParameterException",$fault:"client",$metadata:La(e)},r)]}))}))},Qs=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=wa(n,t),[2,Yt({name:"InvalidSequenceTokenException",$fault:"client",$metadata:La(e)},r)]}))}))},ea=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=ba(n,t),[2,Yt({name:"LimitExceededException",$fault:"client",$metadata:La(e)},r)]}))}))},ta=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=Ca(n,t),[2,Yt({name:"OperationAbortedException",$fault:"client",$metadata:La(e)},r)]}))}))},na=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=xa(n,t),[2,Yt({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:La(e)},r)]}))}))},ra=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=Pa(n,t),[2,Yt({name:"ResourceNotFoundException",$fault:"client",$metadata:La(e)},r)]}))}))},ia=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=Ia(n,t),[2,Yt({name:"ServiceUnavailableException",$fault:"server",$metadata:La(e)},r)]}))}))},oa=function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n=e.body,r=Ta(n,t),[2,Yt({name:"UnrecognizedClientException",$fault:"client",$metadata:La(e)},r)]}))}))},sa=function(e,t){return Yt(Yt(Yt({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:ha(e.tags,t)})},aa=function(e,t){return Yt(Yt({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})},ua=function(e,t){return Yt(Yt(Yt({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})},ca=function(e,t){return Yt(Yt(Yt(Yt(Yt(Yt({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})},la=function(e,t){return Yt(Yt(Yt(Yt(Yt(Yt(Yt({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})},fa=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return Yt(Yt({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},da=function(e,t){return Yt(Yt(Yt(Yt({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:fa(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})},ha=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=en(t,2),i=r[0],o=r[1];return null===o?e:Yt(Yt({},e),((n={})[i]=o,n))}),{})},pa=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},ga=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?Sa(e.logGroups,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},va=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?Ea(e.logStreams,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}},ma=function(e,t){return{events:void 0!==e.events&&null!==e.events?_a(e.events,t):void 0,nextBackwardToken:void 0!==e.nextBackwardToken&&null!==e.nextBackwardToken?e.nextBackwardToken:void 0,nextForwardToken:void 0!==e.nextForwardToken&&null!==e.nextForwardToken?e.nextForwardToken:void 0}},ya=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},wa=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},ba=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Sa=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,kmsKeyId:void 0!==e.kmsKeyId&&null!==e.kmsKeyId?e.kmsKeyId:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricFilterCount:void 0!==e.metricFilterCount&&null!==e.metricFilterCount?e.metricFilterCount:void 0,retentionInDays:void 0!==e.retentionInDays&&null!==e.retentionInDays?e.retentionInDays:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0}}(e)}))},Ea=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,firstEventTimestamp:void 0!==e.firstEventTimestamp&&null!==e.firstEventTimestamp?e.firstEventTimestamp:void 0,lastEventTimestamp:void 0!==e.lastEventTimestamp&&null!==e.lastEventTimestamp?e.lastEventTimestamp:void 0,lastIngestionTime:void 0!==e.lastIngestionTime&&null!==e.lastIngestionTime?e.lastIngestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0,uploadSequenceToken:void 0!==e.uploadSequenceToken&&null!==e.uploadSequenceToken?e.uploadSequenceToken:void 0}}(e)}))},Ca=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},_a=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},Aa=function(e,t){return{nextSequenceToken:void 0!==e.nextSequenceToken&&null!==e.nextSequenceToken?e.nextSequenceToken:void 0,rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?ka(e.rejectedLogEventsInfo,t):void 0}},ka=function(e,t){return{expiredLogEventEndIndex:void 0!==e.expiredLogEventEndIndex&&null!==e.expiredLogEventEndIndex?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:void 0!==e.tooNewLogEventStartIndex&&null!==e.tooNewLogEventStartIndex?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:void 0!==e.tooOldLogEventEndIndex&&null!==e.tooOldLogEventEndIndex?e.tooOldLogEventEndIndex:void 0}},xa=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Pa=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ia=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ta=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},La=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Oa=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Na=function(e,t,n,r,i){return Zt(void 0,void 0,void 0,(function(){var o,s,a,u,c,l;return Qt(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new bn(l)]}}))}))},Ua=function(e,t){return function(e,t){return Oa(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Ma=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},Ra={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Da={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ja(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return un(void 0,void 0,void 0,(function(){var i,o;return cn(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:return i=s.sent().response,[4,t(i,e)];case 2:return o=s.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),Ra),r.add(function(e,t){return function(n,r){return function(r){return un(void 0,void 0,void 0,(function(){var i;return cn(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(sn(sn({},r),{request:i}))]}}))}))}}}(e,t),Da)}}}var Fa=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Xt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:Qi.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(sa(e,t)),[2,Na(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n;return Qt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Gs(e,t)]:[4,Oa(e.body,t)];case 1:return r.sent(),n={$metadata:La(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),Ba=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Xt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:eo.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(aa(e,t)),[2,Na(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n;return Qt(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,Vs(e,t)]:[4,Oa(e.body,t)];case 1:return r.sent(),n={$metadata:La(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),za=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Xt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:Eo.filterSensitiveLog,outputFilterSensitiveLog:_o.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(ua(e,t)),[2,Na(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i;return Qt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Ws(e,t)]:[4,Ua(e.body,t)];case 1:return n=o.sent(),r=ga(n,t),i=Yt({$metadata:La(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),Ka=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Xt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:xo.filterSensitiveLog,outputFilterSensitiveLog:Io.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(ca(e,t)),[2,Na(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i;return Qt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,$s(e,t)]:[4,Ua(e.body,t)];case 1:return n=o.sent(),r=va(n,t),i=Yt({$metadata:La(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),qa=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Xt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:ts.filterSensitiveLog,outputFilterSensitiveLog:rs.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(la(e,t)),[2,Na(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i;return Qt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Js(e,t)]:[4,Ua(e.body,t)];case 1:return n=o.sent(),r=ma(n,t),i=Yt({$metadata:La(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),Ha=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Xt(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:bs.filterSensitiveLog,outputFilterSensitiveLog:Es.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r;return Qt(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(da(e,t)),[2,Na(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Zt(void 0,void 0,void 0,(function(){var n,r,i;return Qt(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Xs(e,t)]:[4,Ua(e.body,t)];case 1:return n=o.sent(),r=Aa(n,t),i=Yt({$metadata:La(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),Ga=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Va=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Wa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},$a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wa(arguments[t]));return e},Ja=new Be.ConsoleLogger("AWSCloudWatch"),Xa=(function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,Ht.parseMobileHubConfig(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return Ga(this,void 0,void 0,(function(){var t,n;return Va(this,(function(r){switch(r.label){case 0:Ja.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new Fa(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw Ja.error(He),Error;return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Ja.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return Ga(this,void 0,void 0,(function(){var t,n;return Va(this,(function(r){switch(r.label){case 0:Ja.debug("getting list of log groups"),t=new za(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw Ja.error(He),Error;return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Ja.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return Ga(this,void 0,void 0,(function(){var t,n;return Va(this,(function(r){switch(r.label){case 0:Ja.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new Ba(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw Ja.error(He),Error;return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Ja.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return Ga(this,void 0,void 0,(function(){var t,n;return Va(this,(function(r){switch(r.label){case 0:Ja.debug("getting list of log streams"),t=new Ka(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw Ja.error(He),Error;return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Ja.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return Ga(this,void 0,void 0,(function(){var t,n;return Va(this,(function(r){switch(r.label){case 0:Ja.debug("getting log events from stream - ",e.logStreamName),t=new qa(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw Ja.error(He),Error;return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),Ja.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){Ja.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=$a(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return Ga(this,void 0,void 0,(function(){var t,n,r,i;return Va(this,(function(o){switch(o.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!o.sent())throw Ja.error(He),Error;return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=o.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return o.sent(),[2,null];case 5:throw r=o.sent(),i="failure during log group search: "+r,Ja.error(i),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return Ga(this,void 0,void 0,(function(){var n,r,i,o;return Va(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!s.sent())throw Ja.error(He),Error;return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=s.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return s.sent(),[2,null];case 4:throw i=s.sent(),o="failure during log stream search: "+i,Ja.error(o),i;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return Ga(this,void 0,void 0,(function(){var t,n,r;return Va(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!i.sent())throw Ja.error(He),Error;return Ja.debug("sending log events to stream - ",e.logStreamName),t=new Ha(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,i.sent()];case 3:return n=i.sent(),r="failure during log push: "+n,Ja.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new Hs({region:this._config.region,credentials:this._config.credentials,customUserAgent:tt(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return Ga(this,void 0,void 0,(function(){var e=this;return Va(this,(function(t){switch(t.label){case 0:return[4,Xa.Credentials.get().then((function(t){if(!t)return!1;var n=Xa.Credentials.shear(t);return Ja.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return Ja.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return Ga(this,void 0,void 0,(function(){var e,t;return Va(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())?(this._nextSequenceToken=e.uploadSequenceToken||"",[2,this._nextSequenceToken]):(this._nextSequenceToken="",[2,""]);case 4:throw t=n.sent(),Ja.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return Ga(this,void 0,void 0,(function(){var e,t,n,r,i;return Va(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=o.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=o.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(i=o.sent(),Ja.error("error during _safeUploadLogEvents: "+i),!Ge.includes(i.name))throw this._dataTracker.eventUploadInProgress=!1,i;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+26:0;if(r>256e3){var i="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";Ja.warn(i),n.message=n.message.substring(0,r)}if(t+r>1048576)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return Ga(this,void 0,void 0,(function(){var t,n,r;return Va(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this._nextSequenceToken="",this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=i.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=i.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=i.sent(),Ja.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return Ga(e,void 0,void 0,(function(){var e;return Va(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),Ja.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME="AWSCloudWatch",e.CATEGORY=qe}(),{});e(Xa,"Credentials",(()=>Dl),(e=>Dl=e));var Ya={},Za=function(){function e(){}return e.setItem=function(e,t){return Ya[e]=t,Ya[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Ya,e)?Ya[e]:void 0},e.removeItem=function(e){return delete Ya[e]},e.clear=function(){return Ya={}},e}(),Qa=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=Za}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),eu={};e(eu,"GoogleOAuth",(()=>gu),(e=>gu=e));var tu={};e(tu,"NonRetryableError",(()=>uu),(e=>uu=e)),e(tu,"jitteredExponentialRetry",(()=>lu),(e=>lu=e));var nu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ru=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},iu=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},ou=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},su=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ou(arguments[t]));return e},au=new Be.ConsoleLogger("Util"),uu=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return nu(t,e),t}(Error);function cu(e,t,n,r){return void 0===r&&(r=1),ru(this,void 0,void 0,(function(){var i,o;return iu(this,(function(s){switch(s.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");au.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,su(t))];case 2:return[2,s.sent()];case 3:if(i=s.sent(),au.debug("error on "+e.name,i),(a=i)&&a.nonRetryable)throw au.debug(e.name+" non retryable error",i),i;return o=n(r,t,i),au.debug(e.name+" retrying in "+o+" ms"),!1===o?[3,6]:[4,new Promise((function(e){return setTimeout(e,o)}))];case 4:return s.sent(),[4,cu(e,t,n,r+1)];case 5:return[2,s.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}var a}))}))}var lu=function(e,t,n){return void 0===n&&(n=3e5),cu(e,t,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))};var fu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},du=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},hu=new Be.ConsoleLogger("CognitoCredentials"),pu=new Promise((function(e,t){return Ft().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(hu.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(hu.debug("not in the browser, directly resolved"),e())})),gu=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return fu(this,void 0,void 0,(function(){return du(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(hu.debug("need to wait for the Google SDK loaded"),[4,pu]);case 1:e.sent(),this.initialized=!0,hu.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Ft().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(hu.debug("google Auth undefined"),n(new tu.NonRetryableError("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(hu.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new tu.NonRetryableError("Failed to reload google auth response"))}))):n(new tu.NonRetryableError("User is not signed in with Google"))})).catch((function(e){hu.debug("Failed to refresh google token",e),n(new tu.NonRetryableError("Failed to refresh google token"))}))})):(hu.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),vu={};e(vu,"FacebookOAuth",(()=>Su),(e=>Su=e));var mu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},yu=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},wu=new Be.ConsoleLogger("CognitoCredentials"),bu=new Promise((function(e,t){return Ft().isBrowser?window.FB?(wu.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(wu.debug("not in the browser, directly resolved"),e())})),Su=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return mu(this,void 0,void 0,(function(){return yu(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(wu.debug("need to wait for the Facebook SDK loaded"),[4,bu]);case 1:e.sent(),this.initialized=!0,wu.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Ft().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return wu.debug(t),Promise.reject(new tu.NonRetryableError(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){s="the jwtToken is undefined";wu.debug(s),n(new tu.NonRetryableError(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";wu.debug(s),n(new tu.NonRetryableError(s))}}),{scope:"public_profile,email"})}))},e}(),Eu=new eu.GoogleOAuth,Cu=new vu.FacebookOAuth,_u=function(e,t){return(_u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Au(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ku=function(){return(ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function xu(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Pu(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}Object.create;function Iu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;var Tu;Tu=JSON.parse('{"name":"@aws-sdk/client-cognito-identity","description":"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cognito-identity"}}');vr=o("gkDCW");var Lu,Ou,Nu,Uu,Mu,Ru,Du,ju,Fu,Bu,zu,Ku,qu,Hu,Gu,Vu,Wu,$u,Ju,Xu,Yu,Zu,Qu,ec,tc,nc,rc,ic,oc,sc,ac,uc,cc,lc,fc,dc,hc,pc,gc,vc,mc,yc,wc,bc,Sc,Ec,Cc,_c,Ac,kc,xc,Pc,Ic,Tc,Lc,Oc,Nc,Uc,Mc,Rc,Dc,jc="cognito-identity.{region}.amazonaws.com",Fc=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Bc=new Set(["cn-north-1","cn-northwest-1"]),zc=new Set(["us-iso-east-1"]),Kc=new Set(["us-isob-east-1"]),qc=new Set(["us-gov-east-1","us-gov-west-1"]),Hc={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:Fc.has(e)&&(n={hostname:jc.replace("{region}",e),partition:"aws"}),Bc.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),zc.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Kc.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),qc.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:jc.replace("{region}",e),partition:"aws"})}return Promise.resolve(ku({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:Cr},Gc=ku(ku({},Hc),{runtime:"browser",base64Decoder:On,base64Encoder:Nn,bodyLengthChecker:fr,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:gr({serviceId:Hc.serviceId,clientVersion:t(Tu).version}),maxAttempts:3,region:Dn("Region is missing"),requestHandler:new _n,sha256:nn.Sha256,streamCollector:Un,utf8Decoder:vr.fromUtf8,utf8Encoder:vr.toUtf8}),Vc=function(e){function t(t){var n=this,r=ku(ku({},Gc),t),i=Ir(r),o=wi(kr(i)),s=Ai(cr(o));return(n=e.call(this,s)||this).config=s,n.middlewareStack.use(Fn(n.config)),n.middlewareStack.use(Nr(n.config)),n.middlewareStack.use(Mr(n.config)),n.middlewareStack.use(Dr(n.config)),n.middlewareStack.use(Ii(n.config)),n}return Au(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ni);(Ou=Lu||(Lu={})).AUTHENTICATED_ROLE="AuthenticatedRole",Ou.DENY="Deny",(Nu||(Nu={})).filterSensitiveLog=function(e){return ku({},e)},(Uu||(Uu={})).filterSensitiveLog=function(e){return ku({},e)},(Mu||(Mu={})).filterSensitiveLog=function(e){return ku({},e)},(Ru||(Ru={})).filterSensitiveLog=function(e){return ku({},e)},function(e){e.filterSensitiveLog=function(e){return ku({},e)}}(Du||(Du={})),function(e){e.filterSensitiveLog=function(e){return ku({},e)}}(ju||(ju={})),(Fu||(Fu={})).filterSensitiveLog=function(e){return ku({},e)},(Bu||(Bu={})).filterSensitiveLog=function(e){return ku({},e)},(zu||(zu={})).filterSensitiveLog=function(e){return ku({},e)},(Ku||(Ku={})).filterSensitiveLog=function(e){return ku({},e)},(Hu=qu||(qu={})).ACCESS_DENIED="AccessDenied",Hu.INTERNAL_SERVER_ERROR="InternalServerError",(Gu||(Gu={})).filterSensitiveLog=function(e){return ku({},e)},(Vu||(Vu={})).filterSensitiveLog=function(e){return ku({},e)},(Wu||(Wu={})).filterSensitiveLog=function(e){return ku({},e)},function(e){e.filterSensitiveLog=function(e){return ku({},e)}}($u||($u={})),(Ju||(Ju={})).filterSensitiveLog=function(e){return ku({},e)},(Xu||(Xu={})).filterSensitiveLog=function(e){return ku({},e)},(Yu||(Yu={})).filterSensitiveLog=function(e){return ku({},e)},(Zu||(Zu={})).filterSensitiveLog=function(e){return ku({},e)},(Qu||(Qu={})).filterSensitiveLog=function(e){return ku({},e)},(ec||(ec={})).filterSensitiveLog=function(e){return ku({},e)},(tc||(tc={})).filterSensitiveLog=function(e){return ku({},e)},(nc||(nc={})).filterSensitiveLog=function(e){return ku({},e)},(rc||(rc={})).filterSensitiveLog=function(e){return ku({},e)},(ic||(ic={})).filterSensitiveLog=function(e){return ku({},e)},(oc||(oc={})).filterSensitiveLog=function(e){return ku({},e)},(ac=sc||(sc={})).CONTAINS="Contains",ac.EQUALS="Equals",ac.NOT_EQUAL="NotEqual",ac.STARTS_WITH="StartsWith",(uc||(uc={})).filterSensitiveLog=function(e){return ku({},e)},(cc||(cc={})).filterSensitiveLog=function(e){return ku({},e)},(fc=lc||(lc={})).RULES="Rules",fc.TOKEN="Token",(dc||(dc={})).filterSensitiveLog=function(e){return ku({},e)},(hc||(hc={})).filterSensitiveLog=function(e){return ku({},e)},(pc||(pc={})).filterSensitiveLog=function(e){return ku({},e)},(gc||(gc={})).filterSensitiveLog=function(e){return ku({},e)},(vc||(vc={})).filterSensitiveLog=function(e){return ku({},e)},(mc||(mc={})).filterSensitiveLog=function(e){return ku({},e)},(yc||(yc={})).filterSensitiveLog=function(e){return ku({},e)},(wc||(wc={})).filterSensitiveLog=function(e){return ku({},e)},(bc||(bc={})).filterSensitiveLog=function(e){return ku({},e)},(Sc||(Sc={})).filterSensitiveLog=function(e){return ku({},e)},(Ec||(Ec={})).filterSensitiveLog=function(e){return ku({},e)},(Cc||(Cc={})).filterSensitiveLog=function(e){return ku({},e)},(_c||(_c={})).filterSensitiveLog=function(e){return ku({},e)},(Ac||(Ac={})).filterSensitiveLog=function(e){return ku({},e)},(kc||(kc={})).filterSensitiveLog=function(e){return ku({},e)},(xc||(xc={})).filterSensitiveLog=function(e){return ku({},e)},(Pc||(Pc={})).filterSensitiveLog=function(e){return ku({},e)},(Ic||(Ic={})).filterSensitiveLog=function(e){return ku({},e)},(Tc||(Tc={})).filterSensitiveLog=function(e){return ku({},e)},(Lc||(Lc={})).filterSensitiveLog=function(e){return ku({},e)},(Oc||(Oc={})).filterSensitiveLog=function(e){return ku({},e)},(Nc||(Nc={})).filterSensitiveLog=function(e){return ku({},e)},(Uc||(Uc={})).filterSensitiveLog=function(e){return ku({},e)},(Mc||(Mc={})).filterSensitiveLog=function(e){return ku({},e)},(Rc||(Rc={})).filterSensitiveLog=function(e){return ku({},e)},(Dc||(Dc={})).filterSensitiveLog=function(e){return ku({},e)};var Wc=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return Pu(this,(function(m){switch(m.label){case 0:return r=[ku({},e)],v={},[4,El(e.body,t)];case 1:switch(n=ku.apply(void 0,r.concat([(v.body=m.sent(),v)])),o="UnknownError",o=Cl(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,Jc(n,t)];case 3:return i=ku.apply(void 0,[ku.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 4:return a=[{}],[4,Xc(n,t)];case 5:return i=ku.apply(void 0,[ku.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 6:return u=[{}],[4,Yc(n,t)];case 7:return i=ku.apply(void 0,[ku.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 8:return c=[{}],[4,Zc(n,t)];case 9:return i=ku.apply(void 0,[ku.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 10:return l=[{}],[4,el(n,t)];case 11:return i=ku.apply(void 0,[ku.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 12:return f=[{}],[4,tl(n,t)];case 13:return i=ku.apply(void 0,[ku.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 14:return d=[{}],[4,nl(n,t)];case 15:return i=ku.apply(void 0,[ku.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 16:return h=[{}],[4,rl(n,t)];case 17:return i=ku.apply(void 0,[ku.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=ku(ku({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:wl(e)}),m.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},$c=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return Pu(this,(function(m){switch(m.label){case 0:return r=[ku({},e)],v={},[4,El(e.body,t)];case 1:switch(n=ku.apply(void 0,r.concat([(v.body=m.sent(),v)])),o="UnknownError",o=Cl(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,Jc(n,t)];case 3:return i=ku.apply(void 0,[ku.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 4:return a=[{}],[4,Xc(n,t)];case 5:return i=ku.apply(void 0,[ku.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 6:return u=[{}],[4,Zc(n,t)];case 7:return i=ku.apply(void 0,[ku.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 8:return c=[{}],[4,Qc(n,t)];case 9:return i=ku.apply(void 0,[ku.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 10:return l=[{}],[4,el(n,t)];case 11:return i=ku.apply(void 0,[ku.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 12:return f=[{}],[4,tl(n,t)];case 13:return i=ku.apply(void 0,[ku.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 14:return d=[{}],[4,nl(n,t)];case 15:return i=ku.apply(void 0,[ku.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 16:return h=[{}],[4,rl(n,t)];case 17:return i=ku.apply(void 0,[ku.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:wl(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=ku(ku({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:wl(e)}),m.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},Jc=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=ul(n,t),[2,ku({name:"ExternalServiceException",$fault:"client",$metadata:wl(e)},r)]}))}))},Xc=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=fl(n,t),[2,ku({name:"InternalErrorException",$fault:"server",$metadata:wl(e)},r)]}))}))},Yc=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=dl(n,t),[2,ku({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:wl(e)},r)]}))}))},Zc=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=hl(n,t),[2,ku({name:"InvalidParameterException",$fault:"client",$metadata:wl(e)},r)]}))}))},Qc=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=pl(n,t),[2,ku({name:"LimitExceededException",$fault:"client",$metadata:wl(e)},r)]}))}))},el=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=gl(n,t),[2,ku({name:"NotAuthorizedException",$fault:"client",$metadata:wl(e)},r)]}))}))},tl=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=vl(n,t),[2,ku({name:"ResourceConflictException",$fault:"client",$metadata:wl(e)},r)]}))}))},nl=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=ml(n,t),[2,ku({name:"ResourceNotFoundException",$fault:"client",$metadata:wl(e)},r)]}))}))},rl=function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n=e.body,r=yl(n,t),[2,ku({name:"TooManyRequestsException",$fault:"client",$metadata:wl(e)},r)]}))}))},il=function(e,t){return ku(ku(ku({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:sl(e.Logins,t)})},ol=function(e,t){return ku(ku(ku({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:sl(e.Logins,t)})},sl=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=Iu(t,2),i=r[0],o=r[1];return null===o?e:ku(ku({},e),((n={})[i]=o,n))}),{})},al=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},ul=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},cl=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?al(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},ll=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},fl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},dl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},hl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},pl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},gl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},vl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ml=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},yl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},wl=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},bl=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Sl=function(e,t,n,r,i){return xu(void 0,void 0,void 0,(function(){var o,s,a,u,c,l;return Pu(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new bn(l)]}}))}))},El=function(e,t){return function(e,t){return bl(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Cl=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},_l=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Au(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:Qu.filterSensitiveLog,outputFilterSensitiveLog:tc.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(il(e,t)),[2,Sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r,i;return Pu(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Wc(e,t)]:[4,El(e.body,t)];case 1:return n=o.sent(),r=cl(n,t),i=ku({$metadata:wl(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),Al=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Au(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:rc.filterSensitiveLog,outputFilterSensitiveLog:ic.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r;return Pu(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(ol(e,t)),[2,Sl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return xu(void 0,void 0,void 0,(function(){var n,r,i;return Pu(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,$c(e,t)]:[4,El(e.body,t)];case 1:return n=o.sent(),r=ll(n,t),i=ku({$metadata:wl(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),kl=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return on(t,e),t}(Error);function xl(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=dn(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function Pl(e){var t=this;return function(){return un(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h;return cn(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,f=_l.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,xl(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(_l,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new kl("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new kl("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new kl("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}}))}))}}var Il="IdentityIds",Tl=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Il,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Il,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Il)))})).catch((function(e){throw n.close(),e}))}))},e}(),Ll=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function Ol(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new Tl:"object"==typeof window&&window.localStorage?window.localStorage:Ll:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,d=function(){return un(t,void 0,void 0,(function(){var e,t,r,c,l,h,p,g,v;return cn(this,(function(m){switch(m.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=m.sent(),m.label=2;case 2:return(e=t)?[3,7]:(h=(l=o).send,p=Al.bind,v={AccountId:n,IdentityPoolId:a},u?[4,xl(u)]:[3,4]);case 3:return g=m.sent(),[3,5];case 4:g=void 0,m.label=5;case 5:return[4,h.apply(l,[new(p.apply(Al,[void 0,(v.Logins=g,v)]))])];case 6:r=m.sent().IdentityId,c=void 0===r?function(){throw new kl("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(i.setItem(f,e)).catch((function(){})),m.label=7;case 7:return[2,(d=Pl({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return un(t,void 0,void 0,(function(){return cn(this,(function(t){throw f&&Promise.resolve(i.removeItem(f)).catch((function(){})),e}))}))}))}}var Nl=function(){return(Nl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ul=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ml=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Rl=new Be.ConsoleLogger("Credentials"),Dl=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=Eu.refreshGoogleToken,this._refreshHandlers.facebook=Cu.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Nl(Nl({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new Qa).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Rl.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return Rl.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Rl.debug("getting old cred promise"):(Rl.debug("getting new cred promise"),this._gettingCredPromise=Dt(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return Ul(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return Ml(this,(function(a){switch(a.label){case 0:if(Rl.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Rl.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Rl.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?Fe.Amplify.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Rl.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=a.sent(),[4,n.currentSession()];case 3:return i=a.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),Rl.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Rl.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var s=this;return Rl.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Rl.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(Rl.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(Rl.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return tu.jitteredExponentialRetry(n,[],1e4).then((function(e){return Rl.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Rl.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Rl.debug("no credentials for expiration check"),!0;Rl.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return Ul(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a=this;return Ml(this,(function(u){switch(u.label){case 0:return Rl.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(Rl.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Rl.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=u.sent(),o=new Vc({region:n,customUserAgent:tt()}),s=void 0,s=r?Pl({identityId:r,client:o})():function(){return Ul(a,void 0,void 0,(function(){var e;return Ml(this,(function(n){switch(n.label){case 0:return[4,o.send(new Al({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Pl({client:o,identityId:e})()]}}))}))}().catch((function(e){return Ul(a,void 0,void 0,(function(){return Ml(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return Ul(a,void 0,void 0,(function(){var n=this;return Ml(this,(function(i){switch(i.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(Rl.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return i.sent(),s=function(){return Ul(n,void 0,void 0,(function(){var e;return Ml(this,(function(n){switch(n.label){case 0:return[4,o.send(new Al({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Pl({client:o,identityId:e})()]}}))}))}().catch((function(e){return Ul(n,void 0,void 0,(function(){return Ml(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return Rl.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return Rl.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new Vc({region:u,customUserAgent:tt()}),l=void 0;r?l=Pl({identityId:r,logins:o,client:c})():l=Ol({logins:o,identityPoolId:a,client:c})();return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Rl.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return Rl.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return Rl.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new Vc({region:i,customUserAgent:tt()}),c=Ul(t,void 0,void 0,(function(){var e,t,n,r,i,o,c,l,f,d;return Ml(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new Al({IdentityPoolId:s,Logins:a}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new _l({IdentityId:e||t,Logins:a}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,c=i.Expiration,l=i.SecretKey,f=i.SessionToken,d=r.IdentityId,this._identityId=d,e?(Rl.debug("The guest identity "+e+" has been successfully linked to the logins"),e===d&&Rl.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:l,sessionToken:f,expiration:c,identityId:d}]}}))})).catch((function(e){return Ul(t,void 0,void 0,(function(){return Ml(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(s,a){e.then((function(e){return Ul(i,void 0,void 0,(function(){var i,a,u,c,l;return Ml(this,(function(f){switch(f.label){case 0:if(Rl.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:l}))}catch(e){Rl.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return s(o._credentials),[2]}}))}))})).catch((function(t){if(t)return Rl.debug("Failed to load credentials",e),Rl.debug("Error loading credentials",t),void a(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Rl.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Ul(this,void 0,void 0,(function(){return Ml(this,(function(e){return this._credentials=null,this._credentials_source=null,Rl.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return Ul(this,void 0,void 0,(function(){var e,t;return Ml(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Rl.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return Ul(this,void 0,void 0,(function(){var t,n;return Ml(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Rl.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return Ul(this,void 0,void 0,(function(){var e;return Ml(this,(function(t){return e=this._config.identityPoolId,Rl.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);Fe.Amplify.register(Dl);var jl,Fl,Bl=function(){function e(){this._logger=new Be.ConsoleLogger("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(r,i){if(!navigator||!("serviceWorker"in navigator))return i(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),i(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!Ft().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),Fe.Amplify.Analytics&&"function"==typeof Fe.Amplify.Analytics.record&&Fe.Amplify.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}(),zl={};e(zl,"default",(()=>Ql),(e=>Ql=e)),Fl=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(Hl),o=r.decode||Kl,s=0;s<i.length;s++){var a=i[s],u=a.indexOf("=");if(!(u<0)){var c=a.substr(0,u).trim(),l=a.substr(++u,a.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),null==n[c]&&(n[c]=Vl(l,o))}}return n},jl=function(e,t,n){var r=n||{},i=r.encode||ql;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!Gl.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!Gl.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=r.maxAge){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!Gl.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!Gl.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(s+="; HttpOnly");r.secure&&(s+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s};var Kl=decodeURIComponent,ql=encodeURIComponent,Hl=/; */,Gl=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Vl(e,t){try{return t(e)}catch(t){return e}}function Wl(e,t){void 0===t&&(t={});var n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var $l,Jl,Xl,Yl,Zl=function(){return(Zl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ql=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?Fl(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Fl(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),Wl(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=Wl(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=Zl(Zl({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=jl(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=Zl(Zl({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Zl({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=jl(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),ef=zl.default,tf=Ft().isBrowser,nf=function(){function e(e){void 0===e&&(e={}),this.cookies=new ef,this.store=tf?window.localStorage:Object.create(null),this.cookies=e.req?new ef(e.req.headers.cookie):new ef,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":tf?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),rf=(et.userAgent,Fe.Amplify,{});function of(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function sf(e){return void 0!==e.redirectSignIn}e(rf,"Auth",(()=>nh),(e=>nh=e)),(Jl=$l||($l={})).Cognito="COGNITO",Jl.Google="Google",Jl.Facebook="Facebook",Jl.Amazon="LoginWithAmazon",Jl.Apple="SignInWithApple",(Yl=Xl||(Xl={})).NoConfig="noConfig",Yl.MissingAuthConfig="missingAuthConfig",Yl.EmptyUsername="emptyUsername",Yl.InvalidUsername="invalidUsername",Yl.EmptyPassword="emptyPassword",Yl.EmptyCode="emptyCode",Yl.SignUpError="signUpError",Yl.NoMFA="noMFA",Yl.InvalidMFA="invalidMFA",Yl.EmptyChallengeResponse="emptyChallengeResponse",Yl.NoUserSession="noUserSession",Yl.Default="default",Yl.DeviceConfig="deviceConfig",Yl.NetworkError="networkError";
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */var af=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),uf=o("7bEpf");o.register("3Guk0",(function(e,t){var r,i;r=this,i=function(){var e=e||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n&&n.crypto&&(r=n.crypto),!r)try{r=o("kQPUA")}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},u=a.lib={},c=u.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=u.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),f=a.enc={},d=f.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},h=f.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},p=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,c=e.min(4*u,o);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=c}return new l.init(n,c)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(u.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math);return e},"object"==typeof t?e.exports=t=i():"function"==typeof define&&define.amd?define([],i):r.CryptoJS=i()})),o.register("kQPUA",(function(e,t){}));var cf=o("3Guk0");o.register("lIKyp",(function(e,t){var n,r;n=this,r=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"==typeof t?e.exports=t=r(o("3Guk0")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)})),o("lIKyp"),o.register("3Ka3D",(function(e,t){var n,r;n=this,r=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++}();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[h-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[h]=g+c[h-7]+m+c[h-16]}var y=r&i^r&o^i&o,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+u[h]+c[h];d=f,f=l,l=a,a=s+b|0,s=o,o=i,i=r,r=b+(w+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256},"object"==typeof t?e.exports=t=r(o("3Guk0")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)}));var lf=o("3Ka3D");o.register("29bEi",(function(e,t){var n,r;n=this,r=function(e){return e.HmacSHA256},"object"==typeof t?e.exports=t=r(o("3Guk0"),o("3Ka3D"),o("38HPg")):"function"==typeof define&&define.amd?define(["./core","./sha256","./hmac"],r):r(n.CryptoJS)})),o.register("38HPg",(function(e,t){var n,r;n=this,r=function(e){var t,n,r;n=(t=e).lib.Base,r=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"==typeof t?e.exports=t=r(o("3Guk0")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)}));var ff,df=o("29bEi");if("undefined"!=typeof window&&window.crypto&&(ff=window.crypto),!ff&&"undefined"!=typeof window&&window.msCrypto&&(ff=window.msCrypto),!ff&&void 0!==n&&n.crypto&&(ff=n.crypto),!ff)try{ff=o("kQPUA")}catch(e){}function hf(){if(ff){if("function"==typeof ff.getRandomValues)try{return ff.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof ff.randomBytes)try{return ff.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var pf,gf=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(hf());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),vf=mf;function mf(e,t){null!=e&&this.fromString(e,t)}function yf(){return new mf(null)}var wf="undefined"!=typeof navigator;wf&&"Microsoft Internet Explorer"==navigator.appName?(mf.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},pf=30):wf&&"Netscape"!=navigator.appName?(mf.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},pf=26):(mf.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},pf=28),mf.prototype.DB=pf,mf.prototype.DM=(1<<pf)-1,mf.prototype.DV=1<<pf;mf.prototype.FV=Math.pow(2,52),mf.prototype.F1=52-pf,mf.prototype.F2=2*pf-52;var bf,Sf,Ef=new Array;for(bf="0".charCodeAt(0),Sf=0;Sf<=9;++Sf)Ef[bf++]=Sf;for(bf="a".charCodeAt(0),Sf=10;Sf<36;++Sf)Ef[bf++]=Sf;for(bf="A".charCodeAt(0),Sf=10;Sf<36;++Sf)Ef[bf++]=Sf;function Cf(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function _f(e,t){var n=Ef[e.charCodeAt(t)];return null==n?-1:n}function Af(e){var t=yf();return t.fromInt(e),t}function kf(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function xf(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Pf(e){return uf.Buffer.from((new gf).random(e).toString(),"hex")}xf.prototype.convert=function(e){var t=yf();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(mf.ZERO)>0&&this.m.subTo(t,t),t},xf.prototype.revert=function(e){var t=yf();return e.copyTo(t),this.reduce(t),t},xf.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},xf.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},xf.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},mf.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},mf.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},mf.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=_f(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&mf.ZERO.subTo(this,this)},mf.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},mf.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},mf.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},mf.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},mf.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},mf.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},mf.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&mf.ZERO.subTo(t,t)},mf.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},mf.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=yf());var o=yf(),s=this.s,a=e.s,u=this.DB-kf(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=n.t,v=g-c,m=null==t?yf():t;for(o.dlShiftTo(v,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),mf.ONE.dlShiftTo(c,m),m.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var y=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*h);if((n[g]+=o.am(0,y,n,v,0,c))<y)for(o.dlShiftTo(v,m),n.subTo(m,n);n[g]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&mf.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&mf.ZERO.subTo(n,n)}}},mf.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},mf.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},mf.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=Cf(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=Cf(n));return i?o:"0"},mf.prototype.negate=function(){var e=yf();return mf.ZERO.subTo(this,e),e},mf.prototype.abs=function(){return this.s<0?this.negate():this},mf.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},mf.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+kf(this[this.t-1]^this.s&this.DM)},mf.prototype.mod=function(e){var t=yf();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(mf.ZERO)>0&&e.subTo(t,t),t},mf.prototype.equals=function(e){return 0==this.compareTo(e)},mf.prototype.add=function(e){var t=yf();return this.addTo(e,t),t},mf.prototype.subtract=function(e){var t=yf();return this.subTo(e,t),t},mf.prototype.multiply=function(e){var t=yf();return this.multiplyTo(e,t),t},mf.prototype.divide=function(e){var t=yf();return this.divRemTo(e,t,null),t},mf.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=Af(1),s=new xf(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var f=yf();for(s.sqrTo(a[1],f);u<=l;)a[u]=yf(),s.mulTo(f,a[u-2],a[u]),u+=2}var d,h,p=e.t-1,g=!0,v=yf();for(i=kf(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[d].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(h=o,o=v,v=h),s.mulTo(v,a[d],o)}for(;p>=0&&0==(e[p]&1<<i);)s.sqrTo(o,v),h=o,o=v,v=h,--i<0&&(i=this.DB-1,--p)}var m=s.revert(o);return n(null,m),m},mf.ZERO=Af(0),mf.ONE=Af(1);var If=/^[89a-f]/i,Tf=function(){function e(e){this.N=new vf("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new vf("2",16),this.k=new vf(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=uf.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var n=e.prototype;return n.getSmallAValue=function(){return this.smallAValue},n.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},n.generateRandomSmallA=function(){var e=Pf(128).toString("hex");return new vf(e,16)},n.generateRandomString=function(){return Pf(40).toString("base64")},n.getRandomPassword=function(){return this.randomPassword},n.getSaltDevices=function(){return this.SaltToHashDevices},n.getVerifierDevices=function(){return this.verifierDevices},n.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=Pf(16).toString("hex");this.SaltToHashDevices=this.padHex(new vf(s,16)),this.g.modPow(new vf(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},n.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(vf.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},n.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new vf(this.UHexHash,16)},n.hash=function(e){var n=e instanceof uf.Buffer?t(cf).lib.WordArray.create(e):e,r=t(lf)(n).toString();return new Array(64-r.length).join("0")+r},n.hexHash=function(e){return this.hash(uf.Buffer.from(e,"hex"))},n.computehkdf=function(e,n){var r=t(cf).lib.WordArray.create(uf.Buffer.concat([this.infoBits,uf.Buffer.from(String.fromCharCode(1),"utf8")])),i=e instanceof uf.Buffer?t(cf).lib.WordArray.create(e):e,o=n instanceof uf.Buffer?t(cf).lib.WordArray.create(n):n,s=t(df)(i,o),a=t(df)(r,s);return uf.Buffer.from(a.toString(),"hex").slice(0,16)},n.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(vf.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(vf.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new vf(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(uf.Buffer.from(o.padHex(t),"hex"),uf.Buffer.from(o.padHex(o.UValue),"hex"));i(null,n)}))},n.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},n.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},n.padHex=function(e){if(!(e instanceof vf))throw new Error("Not a BigInteger");var t=e.compareTo(vf.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=If.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new vf(r,16).add(vf.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),Lf=(uf=o("7bEpf"),function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(uf.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}());function Of(e,t){return(Of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nf=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Of(t,n),r}(Lf);function Uf(e,t){return(Uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mf=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Uf(t,n),r}(Lf),Rf=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}();
/*!
 * Copyright 2016 Amazon.com,
 * Inc. or its affiliates. All Rights Reserved.
 *
 * Licensed under the Amazon Software License (the "License").
 * You may not use this file except in compliance with the
 * License. A copy of the License is located at
 *
 *     http://aws.amazon.com/asl/
 *
 * or in the "license" file accompanying this file. This file is
 * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 * CONDITIONS OF ANY KIND, express or implied. See the License
 * for the specific language governing permissions and
 * limitations under the License.
 */uf=o("7bEpf"),cf=o("3Guk0");o("lIKyp"),o.register("cMjSr",(function(e,t){var n,r;n=this,r=function(e){var t,n;return n=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return n.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==typeof t?e.exports=t=r(o("3Guk0")):"function"==typeof define&&define.amd?define(["./core"],r):r(n.CryptoJS)}));var Df=o("cMjSr"),jf=(df=o("29bEi"),function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}()),Ff=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bf=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],zf=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=Bf[e.getUTCDay()],n=Ff[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),Kf=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),qf={},Hf=function(){function e(){}return e.setItem=function(e,t){return qf[e]=t,qf[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(qf,e)?qf[e]:void 0},e.removeItem=function(e){return delete qf[e]},e.clear=function(){return qf={}},e}(),Gf=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=Hf}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Vf="undefined"!=typeof navigator?navigator.userAgent:"nodejs",Wf=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Gf).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var n=e.prototype;return n.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},n.getSignInUserSession=function(){return this.signInUserSession},n.getUsername=function(){return this.username},n.getAuthenticationFlowType=function(){return this.authenticationFlowType},n.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},n.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},n.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},n.authenticateUserDefaultAuth=function(e,n){var r,i,o=this,s=new Tf(this.pool.getUserPoolId().split("_")[1]),a=new zf,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,s.getLargeAValue((function(c,l){c&&n.onFailure(c),u.SRP_A=l.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var f=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),d={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:u,ClientMetadata:f};o.getUserContextData(o.username)&&(d.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",d,(function(u,c){if(u)return n.onFailure(u);var l=c.ChallengeParameters;o.username=l.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",r=new vf(l.SRP_B,16),i=new vf(l.SALT,16),o.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(o.username,e.getPassword(),r,i,(function(e,r){e&&n.onFailure(e);var i=a.getNowString(),u=t(cf).lib.WordArray.create(uf.Buffer.concat([uf.Buffer.from(o.pool.getUserPoolId().split("_")[1],"utf8"),uf.Buffer.from(o.username,"utf8"),uf.Buffer.from(l.SECRET_BLOCK,"base64"),uf.Buffer.from(i,"utf8")])),d=t(cf).lib.WordArray.create(r),h=t(Df).stringify(t(df)(u,d)),p={};p.USERNAME=o.username,p.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,p.TIMESTAMP=i,p.PASSWORD_CLAIM_SIGNATURE=h,null!=o.deviceKey&&(p.DEVICE_KEY=o.deviceKey);var g={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:p,Session:c.Session,ClientMetadata:f};o.getUserContextData()&&(g.UserContextData=o.getUserContextData()),function e(t,n){return o.client.request("RespondToAuthChallenge",t,(function(r,i){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,i)}))}(g,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,s,n)}))}))}))}))},n.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new Tf(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},n.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:uf.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:uf.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Vf},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},n.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new Tf(this.pool.getUserPoolId().split("_")[1]),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},n.getDeviceResponse=function(e,n){var r=this,i=new Tf(this.deviceGroupKey),o=new zf,s={};s.USERNAME=this.username,s.DEVICE_KEY=this.deviceKey,i.getLargeAValue((function(a,u){a&&e.onFailure(a),s.SRP_A=u.toString(16);var c={ChallengeName:"DEVICE_SRP_AUTH",ClientId:r.pool.getClientId(),ChallengeResponses:s,ClientMetadata:n,Session:r.Session};r.getUserContextData()&&(c.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",c,(function(n,s){if(n)return e.onFailure(n);var a=s.ChallengeParameters,u=new vf(a.SRP_B,16),c=new vf(a.SALT,16);i.getPasswordAuthenticationKey(r.deviceKey,r.randomPassword,u,c,(function(n,i){if(n)return e.onFailure(n);var u=o.getNowString(),c=t(cf).lib.WordArray.create(uf.Buffer.concat([uf.Buffer.from(r.deviceGroupKey,"utf8"),uf.Buffer.from(r.deviceKey,"utf8"),uf.Buffer.from(a.SECRET_BLOCK,"base64"),uf.Buffer.from(u,"utf8")])),l=t(cf).lib.WordArray.create(i),f=t(Df).stringify(t(df)(c,l)),d={};d.USERNAME=r.username,d.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,d.TIMESTAMP=u,d.PASSWORD_CLAIM_SIGNATURE=f,d.DEVICE_KEY=r.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:r.pool.getClientId(),ChallengeResponses:d,Session:s.Session};r.getUserContextData()&&(h.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",h,(function(t,n){return t?e.onFailure(t):(r.signInUserSession=r.getCognitoUserSession(n.AuthenticationResult),r.cacheTokens(),e.onSuccess(r.signInUserSession))}))}))}))}))},n.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},n.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new Tf(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},n.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new Tf(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:uf.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:uf.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Vf},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},n.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},n.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},n.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},n.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},n.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},n.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},n.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new Kf(o);r.push(s)}return e(null,r)}))},n.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},n.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},n.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},n.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},n.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},n.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},n.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},n.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},n.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},n.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new Mf({IdToken:this.storage.getItem(r)}),u=new Nf({AccessToken:this.storage.getItem(i)}),c=new Rf({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(s),0)||0,f=new jf({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},n.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},n.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},n.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},n.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},n.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},n.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},n.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},n.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},n.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},n.getCognitoUserSession=function(e){var t=new Mf(e),n=new Nf(e),r=new Rf(e);return new jf({IdToken:t,AccessToken:n,RefreshToken:r})},n.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},n.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},n.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},n.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},n.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},n.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},n.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},n.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},n.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},n.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},n.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},n.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},n.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},n.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},n.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},n.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},n.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},n.getUserContextData=function(){return this.pool.getUserContextData(this.username)},n.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},n.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();o.register("24MkR",(function(t,n){var r;function i(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}r=t.exports,Object.defineProperty(r,"__esModule",{value:!0,configurable:!0}),e(t.exports,"default",(()=>i))})),self.fetch||(self.fetch=o("24MkR").default||o("24MkR"));var $f={userAgent:"aws-amplify/5.0.4 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)switch($f.product=navigator.product||"",$f.navigator=navigator||null,navigator.product){case"ReactNative":$f.userAgent="aws-amplify/5.0.4 react-native",$f.isReactNative=!0;break;default:$f.userAgent="aws-amplify/5.0.4 js",$f.isReactNative=!1}function Jf(){}Jf.prototype.userAgent=$f.userAgent;var Xf=Jf;function Yf(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,td(e,t)}function Zf(e){var t="function"==typeof Map?new Map:void 0;return(Zf=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Qf(e,arguments,nd(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),td(r,e)})(e)}function Qf(e,t,n){return(Qf=ed()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&td(i,n.prototype),i}).apply(null,arguments)}function ed(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function td(e,t){return(td=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nd(e){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rd=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return Yf(t,e),t}(Zf(Error)),id=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new rd(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=ad);return sd(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))})((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Xf.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i={code:t,name:t,message:e.message||e.Message||null};return n(i)})).catch((function(e){if(!(r&&r.headers&&r.headers.get("x-amzn-errortype"))){if(e instanceof Error&&"Network error"===e.message){var t={code:"NetworkError",name:e.name,message:e.message};return n(t)}return n(e)}try{var i=r.headers.get("x-amzn-errortype").split(":")[0],o={code:i,name:i,statusCode:r.status,message:r.status?r.status.toString():null};return n(o)}catch(t){return n(e)}}))},e}(),od=function(){};Error;function sd(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return od(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(od("error on "+e.name,i),(o=i)&&o.nonRetryable)throw od(e.name+" non retryable error",i),i;var o,s=n(r,t,i);if(od(e.name+" retrying in "+s+" ms"),!1!==s)return new Promise((function(e){return setTimeout(e,s)})).then((function(){return sd(e,t,n,r+1)}));throw i}))}var ad=3e5;var ud=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(!/^[\w-]+_.+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new id(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new Gf).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new Wf(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Wf(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),cd={};!function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof cd&&(cd=e(),t=!0),!t){var n=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=n,r}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}));var ld,fd=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),cd.set(e,t,n),cd.get(e)},t.getItem=function(e){return cd.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),cd.remove(e,t)},t.clear=function(){for(var e=cd.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}();o.register("5VYHA",(function(e,t){!function(r){var i="object"==typeof t&&t&&!t.nodeType&&t,o=e&&!e.nodeType&&e,s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,u,c=2147483647,l=36,f=/^xn--/,d=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=Math.floor,v=String.fromCharCode;function m(e){throw new RangeError(p[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function w(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(h,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function S(e){return y(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,n){var r=0;for(e=n?g(e/700):e>>1,e+=g(e/t);e>455;r+=l)e=g(e/35);return g(r+36*e/(e+38))}function _(e){var t,n,r,i,o,s,a,u,f,d,h,p=[],v=e.length,y=0,w=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=y,s=1,a=l;i>=v&&m("invalid-input"),((u=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||u>g((c-y)/s))&&m("overflow"),y+=u*s,!(u<(f=a<=b?1:a>=b+26?26:a-b));a+=l)s>g(c/(d=l-f))&&m("overflow"),s*=d;b=C(y-o,t=p.length+1,0==o),g(y/t)>c-w&&m("overflow"),w+=g(y/t),y%=t,p.splice(y++,0,w)}return S(p)}function A(e){var t,n,r,i,o,s,a,u,f,d,h,p,y,w,S,_=[];for(p=(e=b(e)).length,t=128,n=0,o=72,s=0;s<p;++s)(h=e[s])<128&&_.push(v(h));for(r=i=_.length,i&&_.push("-");r<p;){for(a=c,s=0;s<p;++s)(h=e[s])>=t&&h<a&&(a=h);for(a-t>g((c-n)/(y=r+1))&&m("overflow"),n+=(a-t)*y,t=a,s=0;s<p;++s)if((h=e[s])<t&&++n>c&&m("overflow"),h==t){for(u=n,f=l;!(u<(d=f<=o?1:f>=o+26?26:f-o));f+=l)S=u-d,w=l-d,_.push(v(E(d+S%w,0))),u=g(S/w);_.push(v(E(u,0))),o=C(n,y,r==i),n=0,++r}++n,++t}return _.join("")}if(a={version:"1.4.1",ucs2:{decode:b,encode:S},decode:_,encode:A,toASCII:function(e){return w(e,(function(e){return d.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return w(e,(function(e){return f.test(e)?_(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return a}));else if(i&&o)if(e.exports==i)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(i[u]=a[u]);else r.punycode=a}(this)}));var dd,hd=o("5VYHA");function pd(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}dd={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},ld=Id;var gd,vd,md=/^([a-z0-9.+-]+:)/i,yd=/:[0-9]*$/,wd=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,bd=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Sd=["'"].concat(bd),Ed=["%","/","?",";","#"].concat(Sd),Cd=["/","?","#"],_d=/^[+a-z0-9A-Z_-]{0,63}$/,Ad=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kd={javascript:!0,"javascript:":!0},xd={javascript:!0,"javascript:":!0},Pd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Id(e,t,n){if(e&&dd.isObject(e)&&e instanceof pd)return e;var r=new pd;return r.parse(e,t,n),r}o.register("2AuO6",(function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,o){t=t||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,d,h,p,g=e[l].replace(a,"%20"),v=g.indexOf(i);v>=0?(f=g.substr(0,v),d=g.substr(v+1)):(f=g,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),n(s,h)?r(s[h])?s[h].push(p):s[h]=[s[h],p]:s[h]=p}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}})),gd=o("2AuO6"),o.register("6qOB9",(function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,s,a){return t=t||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var a=encodeURIComponent(n(o))+s;return r(e[o])?i(e[o],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[o]))})).join(t):a?encodeURIComponent(n(a))+s+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}})),vd=o("6qOB9"),pd.prototype.parse=function(e,t,n){if(!dd.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!n&&1===e.split("#").length){var a=wd.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?gd(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=md.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||u&&xd[u]||(s=s.substr(2),this.slashes=!0)}if(!xd[u]&&(l||u&&!Pd[u])){for(var f,d,h=-1,p=0;p<Cd.length;p++){-1!==(g=s.indexOf(Cd[p]))&&(-1===h||g<h)&&(h=g)}-1!==(d=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(f=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(f)),h=-1;for(p=0;p<Ed.length;p++){var g;-1!==(g=s.indexOf(Ed[p]))&&(-1===h||g<h)&&(h=g)}-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var m=this.hostname.split(/\./),y=(p=0,m.length);p<y;p++){var w=m[p];if(w&&!w.match(_d)){for(var b="",S=0,E=w.length;S<E;S++)w.charCodeAt(S)>127?b+="x":b+=w[S];if(!b.match(_d)){var C=m.slice(0,p),_=m.slice(p+1),A=w.match(Ad);A&&(C.push(A[1]),_.unshift(A[2])),_.length&&(s="/"+_.join(".")+s),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=hd.toASCII(this.hostname));var k=this.port?":"+this.port:"",x=this.hostname||"";this.host=x+k,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!kd[c])for(p=0,y=Sd.length;p<y;p++){var P=Sd[p];if(-1!==s.indexOf(P)){var I=encodeURIComponent(P);I===P&&(I=escape(P)),s=s.split(P).join(I)}}var T=s.indexOf("#");-1!==T&&(this.hash=s.substr(T),s=s.slice(0,T));var L=s.indexOf("?");if(-1!==L?(this.search=s.substr(L),this.query=s.substr(L+1),t&&(this.query=gd(this.query)),s=s.slice(0,L)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Pd[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var O=this.search||"";this.path=k+O}return this.href=this.format(),this},pd.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&dd.isObject(this.query)&&Object.keys(this.query).length&&(o=vd(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Pd[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},pd.prototype.resolve=function(e){return this.resolveObject(Id(e,!1,!0)).format()},pd.prototype.resolveObject=function(e){if(dd.isString(e)){var t=new pd;t.parse(e,!1,!0),e=t}for(var n=new pd,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=e[u])}return Pd[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Pd[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var f=c[l];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||xd[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=v||g||n.host&&e.pathname,y=m,w=n.pathname&&n.pathname.split("/")||[],b=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!Pd[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),m=m&&(""===d[0]||""===w[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),n.search=e.search,n.query=e.query;else if(!dd.isNullOrUndefined(e.search)){if(b)n.hostname=n.host=w.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=e.search,n.query=e.query,dd.isNull(n.pathname)&&dd.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=w.slice(-1)[0],E=(n.host||e.host||w.length>1)&&("."===S||".."===S)||""===S,C=0,_=w.length;_>=0;_--)"."===(S=w[_])?w.splice(_,1):".."===S?(w.splice(_,1),C++):C&&(w.splice(_,1),C--);if(!m&&!y)for(;C--;)w.unshift("..");!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var A,k=""===w[0]||w[0]&&"/"===w[0].charAt(0);b&&(n.hostname=n.host=k?"":w.length?w.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(m=m||n.host&&w.length)&&!k&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),dd.isNull(n.pathname)&&dd.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},pd.prototype.parseHost=function(){var e=this.host,t=yd.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Td={};e(Td,"default",(()=>zd),(e=>zd=e));var Ld,Od,Nd=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Ud=(lf=o("3Ka3D"),Df=o("cMjSr"),function(){return(Ud=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}),Md=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Rd=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Dd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},jd="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Fd=function(e,t,n){nt.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",jd)},Bd=new Be.ConsoleLogger("OAuth"),zd=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Nd,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=$l.Cognito);var s=this._generateState(32),a=o?s+"-"+o.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):s;!function(e){window.sessionStorage.setItem("oauth_state",e)}(a);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),f=this._scopes.join(" "),d="https://"+t+"/oauth2/authorize?"+Object.entries(Ud(Ud({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:f,state:a},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=Dd(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");Bd.debug("Redirecting to "+d),this._urlOpener(d,n)},e.prototype._handleCodeFlow=function(e){return Md(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p;return Rd(this,(function(g){switch(g.label){case 0:return t=(ld(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Dd(t,2),i=r[0],o=r[1];return Ud(Ud({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=ld(e).pathname||"/",r=ld(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",Fd("codeFlow",{},"Retrieving tokens from "+i),o=sf(this._config)?this._cognitoClientId:this._config.clientID,s=sf(this._config)?this._config.redirectSignIn:this._config.redirectUri,v=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),u=Ud({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:s},(a=v)?{code_verifier:a}:{}),Bd.debug("Calling token endpoint: "+i+" with",u),c=Object.entries(u).map((function(e){var t=Dd(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,g.sent().json()];case 2:if(l=g.sent(),f=l.access_token,d=l.refresh_token,h=l.id_token,p=l.error)throw new Error(p);return[2,{accessToken:f,refreshToken:d,idToken:h}]}var v}))}))},e.prototype._handleImplicitFlow=function(e){return Md(this,void 0,void 0,(function(){var t,n,r;return Rd(this,(function(i){return t=(ld(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Dd(t,2),i=r[0],o=r[1];return Ud(Ud({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Fd("implicitFlow",{},"Got tokens from "+e),Bd.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return Md(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Rd(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?Ud(Ud({},(ld(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Dd(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),(ld(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Dd(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Bd.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Ud.apply(void 0,[Ud.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Ud.apply(void 0,[Ud.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),Bd.error("Error handling auth response.",a),a;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return Md(this,void 0,void 0,(function(){var e,t,n;return Rd(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=sf(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=sf(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=Dd(e,2);return t[0]+"="+t[1]})).join("&"),Fd("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Bd.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(t(lf)(e))},e.prototype._base64URL=function(e){return e.toString(t(Df)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}(),Kd={};e(Kd,"AuthError",(()=>Gd),(e=>Gd=e)),e(Kd,"NoUserPoolError",(()=>Vd),(e=>Vd=e)),(Od=Ld||(Ld={})).DEFAULT_MSG="Authentication Error",Od.EMPTY_EMAIL="Email cannot be empty",Od.EMPTY_PHONE="Phone number cannot be empty",Od.EMPTY_USERNAME="Username cannot be empty",Od.INVALID_USERNAME="The username should either be a string or one of the sign in types",Od.EMPTY_PASSWORD="Password cannot be empty",Od.EMPTY_CODE="Confirmation code cannot be empty",Od.SIGN_UP_ERROR="Error creating account",Od.NO_MFA="No valid MFA method provided",Od.INVALID_MFA="Invalid MFA type",Od.EMPTY_CHALLENGE="Challenge response cannot be empty",Od.NO_USER_SESSION="Failed to get the session because the user is empty",Od.NETWORK_ERROR="Network Error",Od.DEVICE_CONFIG="Device tracking has not been configured in this User Pool";var qd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hd=new Be.ConsoleLogger("AuthError"),Gd=function(e){function t(n){var r=this,i=Wd[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||o,Hd.error(r.log),r}return qd(t,e),t}(Error),Vd=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return qd(t,e),t}(Gd),Wd={noConfig:{message:Ld.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Ld.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Ld.EMPTY_USERNAME},invalidUsername:{message:Ld.INVALID_USERNAME},emptyPassword:{message:Ld.EMPTY_PASSWORD},emptyCode:{message:Ld.EMPTY_CODE},signUpError:{message:Ld.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Ld.NO_MFA},invalidMFA:{message:Ld.INVALID_MFA},emptyChallengeResponse:{message:Ld.EMPTY_CHALLENGE},noUserSession:{message:Ld.NO_USER_SESSION},deviceConfig:{message:Ld.DEVICE_CONFIG},networkError:{message:Ld.NETWORK_ERROR},default:{message:Ld.DEFAULT_MSG}},$d=function(){return($d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Jd=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Xd=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Yd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Zd=new Be.ConsoleLogger("AuthClass"),Qd="aws.cognito.signin.user.admin",eh="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",th=function(e,t,n){nt.Hub.dispatch("auth",{event:e,data:t,message:n},"Auth",eh)},nh=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=Xa.Credentials,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?th("tokenRefresh",void 0,"New token retrieved"):th("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),nt.Hub.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Zd.debug("configure Auth");var n=Object.assign({},this._config,Ht.Parser.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,s=r.cookieStorage,a=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,f=r.refreshHandlers,d=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Zd.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=s?new fd(s):e.ssr?new nf:(new Qa).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var g={UserPoolId:i,ClientId:o,endpoint:p};g.Storage=this._storage,this.userPool=new ud(g,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:d||u,userPoolId:i,identityPoolId:c,refreshHandlers:f,storage:this._storage});var v=a?sf(this._config.oauth)?a:a.awsCognito:void 0;if(v){var m=Object.assign({cognitoClientId:o,UserPoolId:i,domain:v.domain,scopes:v.scope,redirectSignIn:v.redirectSignIn,redirectSignOut:v.redirectSignOut,responseType:v.responseType,Storage:this._storage,urlOpener:v.urlOpener,clientMetadata:h},v.options);this._oAuthHandler=new Td.default({scopes:m.scopes,config:m,cognitoClientId:m.cognitoClientId});var y={};!function(e){if(qt.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!qt.browserOrNode().isNode)throw new Error("Not supported")}((function(e){var n=e.url;y[n]||(y[n]=!0,t._handleAuthResponse(n))}))}return th("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var i,o=null,s=null,a=[],u=null;if(e&&"string"==typeof e){o=e,s=n?n[0]:null;var c=n?n[1]:null,l=n?n[2]:null;c&&a.push(new Kf({Name:"email",Value:c})),l&&a.push(new Kf({Name:"phone_number",Value:l}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(Xl.SignUpError);o=e.username,s=e.password,e&&e.clientMetadata?i=e.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata);var f=e.attributes;f&&Object.keys(f).map((function(e){a.push(new Kf({Name:e,Value:f[e]}))}));var d=e.validationData;d&&(u=[],Object.keys(d).map((function(e){u.push(new Kf({Name:e,Value:d[e]}))})))}return o?s?(Zd.debug("signUp attrs:",a),Zd.debug("signUp validation data:",u),new Promise((function(e,n){t.userPool.signUp(o,s,a,u,(function(t,r){t?(th("signUp_failure",t,o+" failed to signup"),n(t)):(th("signUp",r,o+" has signed up successfully"),e(r))}),i)}))):this.rejectAuthError(Xl.EmptyPassword):this.rejectAuthError(Xl.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xl.EmptyUsername);if(!t)return this.rejectAuthError(Xl.EmptyCode);var r,i=this.createCognitoUser(e),o=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){i.confirmRegistration(t,o,(function(t,r){t?n(t):e(r)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xl.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"==typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(Xl.InvalidUsername);void 0!==t&&Zd.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(Xl.EmptyUsername);var s=new af({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return Jd(r,void 0,void 0,(function(){var r,s,a,u;return Xd(this,(function(c){switch(c.label){case 0:Zd.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),Zd.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),Zd.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,th("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),Zd.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){Zd.debug("signIn failure",t),th("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Zd.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Zd.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Zd.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Zd.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Zd.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Zd.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return Zd.debug("get MFA Options failed",e),void n(e);Zd.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData((function(e,t){if(e)return Zd.debug("getting preferred mfa failed",e),void o(e);var n=r._getMfaTypeFromUserData(t);return n?void i(n):void o("invalid MFA Type")}),{bypassCache:a,clientMetadata:s})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":Zd.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){return new Promise((function(n,r){e.getUserData((function(e,t){return e?(Zd.debug("getting user data failed",e),void r(e)):void n(t)}),t)}))},e.prototype.setPreferredMFA=function(e,t){return Jd(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Xd(this,(function(u){switch(u.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=u.sent(),i=null,o=null,t){case"TOTP":return[3,2];case"SMS":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(a=u.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===a)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==a)return[2,this.rejectAuthError(Xl.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach((function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return Zd.debug("no validmfa method provided"),[2,this.rejectAuthError(Xl.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(i,o,(function(i,o){if(i)return Zd.debug("Set user mfa preference error",i),r(i);Zd.debug("Set user mfa success",o),Zd.debug("Caching the latest user data into local"),e.getUserData((function(e,n){return e?(Zd.debug("getting user data failed",e),r(e)):t(o)}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return Zd.debug("disable mfa failed",e),void n(e);Zd.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return Zd.debug("enable mfa failed",e),void n(e);Zd.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){Zd.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Zd.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return Zd.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Zd.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){th("signIn",e,"A user "+e.getUsername()+" has been signed in"),Zd.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Xl.EmptyCode);var o=this;return new Promise((function(s,a){e.sendMFACode(t,{onSuccess:function(t){return Jd(i,void 0,void 0,(function(){var n,r;return Xd(this,(function(i){switch(i.label){case 0:Zd.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Zd.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Zd.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,th("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Zd.debug("confirm signIn failure",e),a(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Xl.EmptyPassword);var o=this;return new Promise((function(s,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return Jd(i,void 0,void 0,(function(){var n,r;return Xd(this,(function(i){switch(i.label){case 0:Zd.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Zd.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Zd.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,th("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Zd.debug("completeNewPassword failure",e),th("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){Zd.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,s(e)},mfaSetup:function(t,n){Zd.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)},totpRequired:function(t,n){Zd.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(Xl.EmptyChallengeResponse);return new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}))},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,s){i.userSession(e).then((function(i){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?s(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return Jd(t,void 0,void 0,(function(){var t,i,o=this;return Xd(this,(function(s){switch(s.label){case 0:return this.isOAuthInProgress()?(Zd.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){Zd.debug("OAuth signIn in progress timeout"),nt.Hub.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(Zd.debug("OAuth signIn resolved: "+i),clearTimeout(t),nt.Hub.remove("auth",n),e())}nt.Hub.listen("auth",n)}))]):[3,2];case 1:s.sent(),s.label=2;case 2:return(t=this.userPool.getCurrentUser())?(i=this._config.clientMetadata,t.getSession((function(i,s){return Jd(o,void 0,void 0,(function(){var o,a,u,c=this;return Xd(this,(function(l){switch(l.label){case 0:return i?(Zd.debug("Failed to get the user session",i),r(i),[2]):(o=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,2];case 1:l.sent(),l.label=2;case 2:return a=this._config.clientMetadata,u=s.getAccessToken().decodePayload().scope,(void 0===u?"":u).split(" ").includes(Qd)?(t.getUserData((function(e,i){if(e)return Zd.debug("getting user data failed",e),void("User is disabled."===e.message||"User does not exist."===e.message||"Access Token has been revoked"===e.message?r(e):n(t));for(var o=i.PreferredMfaSetting||"NOMFA",s=[],a=0;a<i.UserAttributes.length;a++){var u={Name:i.UserAttributes[a].Name,Value:i.UserAttributes[a].Value},l=new Kf(u);s.push(l)}var f=c.attributesToObject(s);return Object.assign(t,{attributes:f,preferredMFA:o}),n(t)}),{bypassCache:o,clientMetadata:a}),[2]):(Zd.debug("Unable to get the user data because the aws.cognito.signin.user.admin is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:i}),[2]):(Zd.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return Zd.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return Jd(this,void 0,void 0,(function(){var t,n,r,i,o;return Xd(this,(function(s){switch(s.label){case 0:Zd.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),Zd.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=$d($d({},r.user),{token:r.token}))}catch(e){Zd.debug("cannot load federated user from auth storage")}return t?(this.user=t,Zd.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Zd.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&Zd.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Zd.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return Zd.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){Zd.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){Zd.debug("Failed to get the current user",e),n(e)}))})):Promise.reject()},e.prototype.userSession=function(e){if(!e)return Zd.debug("the user is null"),this.rejectAuthError(Xl.NoUserSession);var t=this._config.clientMetadata;return new Promise((function(n,r){Zd.debug("Getting the session from this user:",e),e.getSession((function(t,i){return t?(Zd.debug("Failed to get the session from user",e),void r(t)):(Zd.debug("Succeed to get the user session",i),void n(i))}),{clientMetadata:t})}))},e.prototype.currentUserCredentials=function(){return Jd(this,void 0,void 0,(function(){var e,t,n=this;return Xd(this,(function(r){switch(r.label){case 0:Zd.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Zd.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){Zd.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return Zd.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(e){return Zd.debug("getting session failed",e),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return Zd.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(Xl.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return Jd(this,void 0,void 0,(function(){var n,r,i=this;return Xd(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),Zd.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){Zd.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession((function(e,s){if(e)return Zd.debug("failed to get the user session",e),o(e);t.globalSignOut({onSuccess:function(e){if(Zd.debug("global sign out success"),!r)return n();i.oAuthSignOutRedirect(n,o)},onFailure:function(e){return Zd.debug("global sign out failed",e),o(e)}})}),{clientMetadata:s})}else Zd.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){qt.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e("Signout timeout fail")}),3e3)},e.prototype.signOut=function(e){return Jd(this,void 0,void 0,(function(){var t;return Xd(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Zd.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Zd.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Zd.debug("no Congito User pool"),n.label=8;case 8:return th("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return Jd(this,void 0,void 0,(function(){return Xd(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,s){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(Zd.debug("change password failure",e),s(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xl.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Zd.debug("forgot password failure",t),th("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){th("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xl.EmptyUsername);if(!t)return this.rejectAuthError(Xl.EmptyCode);if(!n)return this.rejectAuthError(Xl.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(o,s){i.confirmPassword(t,n,{onSuccess:function(t){th("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){th("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},r)}))},e.prototype.currentUserInfo=function(){return Jd(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return Xd(this,(function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return Zd.error(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return i=a.sent(),Zd.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return o=a.sent(),Zd.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return Jd(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,d,h;return Xd(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return of(e)||(g=e)&&["customProvider"].find((function(e){return g.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(r=e||{provider:$l.Cognito},a=of(r)?r.provider:r.customProvider,of(r),i=r.customState,this._config.userPoolId&&(o=sf(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=sf(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,o,a,i)),[3,4]):[3,1];case 1:a=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Zd.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:a,token:c,identity_id:l,user:n,expires_at:f},"federation")];case 2:return d=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),th("signIn",h,"A user "+h.username+" has been signed in"),Zd.debug("federated sign in credentials",d),[2,d];case 4:return[2]}var g}))}))},e.prototype._handleAuthResponse=function(e){return Jd(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p;return Xd(this,(function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return Zd.debug("Skipping URL "+e+" current flow in progress"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(th("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(qt.browserOrNode().isBrowser?window.location.href:""),n=!!(ld(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=Yd(e,1)[0];return"code"===t||"error"===t})),r=!!(ld(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=Yd(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=g.sent(),o=i.accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new jf({IdToken:new Mf({IdToken:s}),RefreshToken:new Rf({RefreshToken:a}),AccessToken:new Nf({AccessToken:o})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=g.sent(),Zd.debug("AWS credentials",l),g.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),th("signIn",d,"A user "+d.getUsername()+" has been signed in"),th("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=u.split("-").splice(1).join("-"),th("customOAuthState",h.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,l];case 6:return p=g.sent(),Zd.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),th("signIn_failure",p,"The OAuth response flow failed"),th("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),th("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Wf(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?Xl.NoConfig:Xl.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Kd.AuthError(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Kd.NoUserPoolError(e))},e.prototype.rememberDevice=function(){return Jd(this,void 0,void 0,(function(){var e,t;return Xd(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Zd.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Kd.AuthError(Xl.DeviceConfig)):"NetworkError"===e.code?n(new Kd.AuthError(Xl.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return Jd(this,void 0,void 0,(function(){var e,t;return Xd(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Zd.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Kd.AuthError(Xl.DeviceConfig)):"NetworkError"===e.code?n(new Kd.AuthError(Xl.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return Jd(this,void 0,void 0,(function(){var e,t;return Xd(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Zd.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Kd.AuthError(Xl.DeviceConfig)):"NetworkError"===e.code?n(new Kd.AuthError(Xl.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}())(null);Fe.Amplify.register(nh);rf.Auth;var rh={};e(rh,"BrowserStorageCache",(()=>hh),(e=>hh=e));var ih={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new Qa).getStorage()};function oh(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function sh(){return(new Date).getTime()}function ah(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var uh={},ch=(function(){function e(){}e.clear=function(){uh={}},e.getItem=function(e){return uh[e]||null},e.setItem=function(e,t){uh[e]=t},e.removeItem=function(e){delete uh[e]}}(),new Be.ConsoleLogger("StorageCache")),lh=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){ah(this.config.capacityInBytes)||(ch.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=ih.capacityInBytes),ah(this.config.itemMaxSize)||(ch.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=ih.itemMaxSize),ah(this.config.defaultTTL)||(ch.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=ih.defaultTTL),ah(this.config.defaultPriority)||(ch.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=ih.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(ch.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=ih.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(ch.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=ih.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(ch.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=ih.warningThreshold);this.config.capacityInBytes>5242880&&(ch.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=ih.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:sh(),visitedTime:sh(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=oh(JSON.stringify(r)),r.byteSize=oh(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&ch.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),fh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dh=new Be.ConsoleLogger("Cache"),hh=new(function(e){function t(t){var n=this,r=t?Object.assign({},ih,t):ih;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return fh(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=sh(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return sh()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),dh.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var s=JSON.parse(o);n.push(s)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){dh.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+sh()};if(i.priority<1||i.priority>5)dh.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)dh.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var s=this.config.storage.getItem(r);if(s&&this._removeItem(r,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(a,u)}}this._setItem(r,o)}catch(e){dh.warn("setItem failed! "+e)}}}else dh.warn("The value of item should not be undefined!");else dh.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){dh.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return dh.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return dh.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){dh.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){dh.warn("removeItem failed! "+e)}},t.prototype.clear=function(){dh.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){dh.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==ih.keyPrefix||(dh.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=sh.toString()),new t(e)},t}(lh)),ph=rh.BrowserStorageCache;Fe.Amplify.register(rh.BrowserStorageCache);var gh={};e(gh,"Storage",(()=>VE),(e=>VE=e));var vh={};e(vh,"AWSS3Provider",(()=>FE),(e=>FE=e));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mh=function(e,t){return(mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function yh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}mh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wh=function(){return(wh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function bh(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Sh(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o}Object.create;Object.create;var Eh;Eh=JSON.parse('{"name":"@aws-sdk/client-s3","description":"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native","version":"3.6.1","scripts":{"clean":"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es","postbuild":"downlevel-dts types types/ts3.4"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-blob-browser":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/hash-stream-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/md5-js":"3.6.1","@aws-sdk/middleware-apply-body-checksum":"3.6.1","@aws-sdk/middleware-bucket-endpoint":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-expect-continue":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-location-constraint":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-sdk-s3":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-ssec":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1","@aws-sdk/xml-builder":"3.6.1","fast-xml-parser":"^3.16.0","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.19.2","typescript":"~4.1.2"},"engines":{"node":">=10.0.0"},"typesVersions":{"<4.0":{"types/*":["types/ts3.4/*"]}},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-s3"}}');var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.AwsCrc32=Ch.Crc32=Ch.crc32=void 0,Ch.crc32=function(e){return(new _h).update(e).digest()};var _h=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=fn(e),i=r.next();!i.done;i=r.next()){var o=i.value;this.checksum=this.checksum>>>8^Ah[255&(this.checksum^o)]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();Ch.Crc32=_h;var Ah=Uint32Array.from([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),kh={};Object.defineProperty(kh,"__esModule",{value:!0}),kh.AwsCrc32=void 0;var xh=o("cy6e5"),Ph=function(){function e(){this.crc32=new Ch.Crc32}return e.prototype.update=function(e){xh.isEmptyData(e)||this.crc32.update(xh.convertToBuffer(e))},e.prototype.digest=function(){return un(this,void 0,void 0,(function(){return cn(this,(function(e){return[2,xh.numToUint8(this.crc32.digest())]}))}))},e}();kh.AwsCrc32=Ph,Object.defineProperty(Ch,"AwsCrc32",{enumerable:!0,get:function(){return kh.AwsCrc32}});var Ih=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)n[r]=i;return t<0&&Th(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&Th(e),parseInt(Kr(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function Th(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var Lh,Oh,Nh=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,i,o=[];try{for(var s=fn(Object.keys(e)),a=s.next();!a.done;a=s.next()){var u=a.value,c=this.fromUtf8(u);o.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var l=new Uint8Array(o.reduce((function(e,t){return e+t.byteLength}),0)),f=0;try{for(var d=fn(o),h=d.next();!h.done;h=d.next()){var p=h.value;l.set(p,f),f+=p.byteLength}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);var o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":var s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);var u=new Uint8Array(a.buffer);return u.set(s,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(Ih.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!qh.test(e.value))throw new Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in Fr))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=Fr[r]}return t}(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[i]={type:Uh,value:!0};break;case 1:t[i]={type:Uh,value:!1};break;case 2:t[i]={type:Mh,value:e.getInt8(n++)};break;case 3:t[i]={type:Rh,value:e.getInt16(n,!1)},n+=2;break;case 4:t[i]={type:Dh,value:e.getInt32(n,!1)},n+=4;break;case 5:t[i]={type:jh,value:new Ih(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var o=e.getUint16(n,!1);n+=2,t[i]={type:Fh,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:var s=e.getUint16(n,!1);n+=2,t[i]={type:Bh,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s))},n+=s;break;case 8:t[i]={type:zh,value:new Date(new Ih(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var a=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[i]={type:Kh,value:Kr(a.subarray(0,4))+"-"+Kr(a.subarray(4,6))+"-"+Kr(a.subarray(6,8))+"-"+Kr(a.subarray(8,10))+"-"+Kr(a.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();(Oh=Lh||(Lh={}))[Oh.boolTrue=0]="boolTrue",Oh[Oh.boolFalse=1]="boolFalse",Oh[Oh.byte=2]="byte",Oh[Oh.short=3]="short",Oh[Oh.integer=4]="integer",Oh[Oh.long=5]="long",Oh[Oh.byteArray=6]="byteArray",Oh[Oh.string=7]="string",Oh[Oh.timestamp=8]="timestamp",Oh[Oh.uuid=9]="uuid";var Uh="boolean",Mh="byte",Rh="short",Dh="integer",jh="long",Fh="binary",Bh="string",zh="timestamp",Kh="uuid",qh=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Hh=function(){function e(e,t){this.headerMarshaller=new Nh(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new Ch.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(r,n,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var s=i.getUint32(4,!1),a=i.getUint32(8,!1),u=i.getUint32(t-4,!1),c=(new Ch.Crc32).update(new Uint8Array(r,n,8));if(a!==c.digest())throw new Error("The prelude checksum specified in the message ("+a+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(r,n+8,t-12)),u!==c.digest())throw new Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(r,n+8+4,s),body:new Uint8Array(r,n+8+4+s,o-s-16)}}(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();var Gh=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new Hh(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n,r,i,o,s,a,u;return function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return gn(this,arguments,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y;return cn(this,(function(w){switch(w.label){case 0:w.trys.push([0,12,13,18]),n=vn(e),w.label=1;case 1:return[4,pn(n.next())];case 2:if((r=w.sent()).done)return[3,11];if(i=r.value,o=t.eventMarshaller.unmarshall(i),"error"!==(s=o.headers[":message-type"].value))return[3,3];throw(a=new Error(o.headers[":error-message"].value||"UnknownError")).name=o.headers[":error-code"].value,a;case 3:return"exception"!==s?[3,5]:(u=o.headers[":exception-type"].value,(g={})[u]=o,c=g,[4,pn(t.deserializer(c))]);case 4:if((l=w.sent()).$unknown)throw(f=new Error(t.toUtf8(o.body))).name=u,f;throw l[u];case 5:return"event"!==s?[3,9]:((v={})[o.headers[":event-type"].value]=o,d=v,[4,pn(t.deserializer(d))]);case 6:return(h=w.sent()).$unknown?[3,10]:[4,pn(h)];case 7:return[4,w.sent()];case 8:return w.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+o.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return p=w.sent(),m={error:p},[3,18];case 13:return w.trys.push([13,,16,17]),r&&!r.done&&(y=n.return)?[4,pn(y.call(n))]:[3,15];case 14:w.sent(),w.label=15;case 15:return[3,17];case 16:if(m)throw m.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}((n=e,i=0,o=0,s=null,a=null,u=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);i=e,o=4,s=new Uint8Array(e),new DataView(s.buffer).setUint32(0,e,!1)},(r={})[Symbol.asyncIterator]=function(){return gn(this,arguments,(function(){var e,t,r,c,l,f,d,h;return cn(this,(function(p){switch(p.label){case 0:e=n[Symbol.asyncIterator](),p.label=1;case 1:return[4,pn(e.next())];case 2:return t=p.sent(),r=t.value,t.done?i?[3,4]:[4,pn(void 0)]:[3,10];case 3:return[2,p.sent()];case 4:return i!==o?[3,7]:[4,pn(s)];case 5:return[4,p.sent()];case 6:return p.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,pn(void 0)];case 9:return[2,p.sent()];case 10:c=r.length,l=0,p.label=11;case 11:if(!(l<c))return[3,15];if(!s){if(f=c-l,a||(a=new Uint8Array(4)),d=Math.min(4-o,f),a.set(r.slice(l,l+d),o),l+=d,(o+=d)<4)return[3,15];u(new DataView(a.buffer).getUint32(0,!1)),a=null}return h=Math.min(i-o,c-l),s.set(r.slice(l,l+h),o),o+=h,l+=h,i&&i===o?[4,pn(s)]:[3,14];case 12:return[4,p.sent()];case 13:p.sent(),s=null,i=0,o=0,p.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},r),{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder})},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return gn(this,arguments,(function(){var n,i,o,s,a,u;return cn(this,(function(c){switch(c.label){case 0:c.trys.push([0,7,8,13]),n=vn(e),c.label=1;case 1:return[4,pn(n.next())];case 2:return(i=c.sent()).done?[3,6]:(o=i.value,[4,pn(r.eventMarshaller.marshall(t(o)))]);case 3:return[4,c.sent()];case 4:c.sent(),c.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return s=c.sent(),a={error:s},[3,13];case 8:return c.trys.push([8,,11,12]),i&&!i.done&&(u=n.return)?[4,pn(u.call(n))]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(a)throw a.error;return[7];case 12:return[7];case 13:return[4,pn(new Uint8Array(0))];case 14:return[4,c.sent()];case 15:return c.sent(),[2]}}))}))},n},e}(),Vh=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new Hh(t,n),this.universalMarshaller=new Gh({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n,r,i=Wh(e)?(n=e,(r={})[Symbol.asyncIterator]=function(){return gn(this,arguments,(function(){var e,t,r,i;return cn(this,(function(o){switch(o.label){case 0:e=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,pn(e.read())];case 3:return t=o.sent(),r=t.done,i=t.value,r?[4,pn(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,pn(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))},r):e;return this.universalMarshaller.deserialize(i,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return un(this,void 0,void 0,(function(){var t,r,i;return cn(this,(function(o){switch(o.label){case 0:return[4,n.next()];case 1:return t=o.sent(),r=t.done,i=t.value,r?[2,e.close()]:(e.enqueue(i),[2])}}))}))}})):r},e}(),Wh=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream};function $h(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var s=e.size,a=0;function u(){a>=s?r():o.readAsArrayBuffer(e.slice(a,Math.min(s,a+n)))}o.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),a+=n.byteLength,u()})),u()}))}vr=o("gkDCW");var Jh=64,Xh=[1732584193,4023233417,2562383102,271733878],Yh=function(){function e(){this.state=Uint32Array.from(Xh),this.buffer=new DataView(new ArrayBuffer(Jh)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){return"string"==typeof e?0===e.length:0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){return"string"==typeof e?vr.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,this.bufferLength===Jh&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return un(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return cn(this,(function(a){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,i=8*r,t.setUint8(this.bufferLength++,128),n%Jh>=56){for(s=this.bufferLength;s<Jh;s++)t.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<56;s++)t.setUint8(s,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}for(o=new DataView(new ArrayBuffer(16)),s=0;s<4;s++)o.setUint32(4*s,this.state[s],!0);return[2,new Uint8Array(o.buffer,o.byteOffset,o.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=Qh(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=Qh(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=Qh(i,o,n,r,e.getUint32(8,!0),17,606105819),r=Qh(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=Qh(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=Qh(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=Qh(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=Qh(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=Qh(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=Qh(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=Qh(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=Qh(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=Qh(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=Qh(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=Qh(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=ep(n,r=Qh(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=ep(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=ep(i,o,n,r,e.getUint32(44,!0),14,643717713),r=ep(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=ep(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=ep(o,n,r,i,e.getUint32(40,!0),9,38016083),i=ep(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=ep(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=ep(n,r,i,o,e.getUint32(36,!0),5,568446438),o=ep(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=ep(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=ep(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=ep(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=ep(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=ep(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=tp(n,r=ep(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=tp(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=tp(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=tp(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=tp(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=tp(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=tp(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=tp(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=tp(n,r,i,o,e.getUint32(52,!0),4,681279174),o=tp(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=tp(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=tp(r,i,o,n,e.getUint32(24,!0),23,76029189),n=tp(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=tp(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=tp(i,o,n,r,e.getUint32(60,!0),16,530742520),n=np(n,r=tp(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=np(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=np(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=np(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=np(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=np(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=np(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=np(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=np(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=np(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=np(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=np(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=np(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=np(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=np(i,o,n,r,e.getUint32(8,!0),15,718787259),r=np(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function Zh(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function Qh(e,t,n,r,i,o,s){return Zh(t&n|~t&r,e,t,i,o,s)}function ep(e,t,n,r,i,o,s){return Zh(t&r|n&~r,e,t,i,o,s)}function tp(e,t,n,r,i,o,s){return Zh(t^n^r,e,t,i,o,s)}function np(e,t,n,r,i,o,s){return Zh(n^(t|~r),e,t,i,o,s)}vr=o("gkDCW");var rp="s3.{region}.amazonaws.com",ip=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),op=new Set(["cn-north-1","cn-northwest-1"]),sp=new Set(["us-iso-east-1"]),ap=new Set(["us-isob-east-1"]),up=new Set(["us-gov-east-1","us-gov-west-1"]),cp={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:ip.has(e)&&(n={hostname:rp.replace("{region}",e),partition:"aws"}),op.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),sp.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),ap.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),up.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:rp.replace("{region}",e),partition:"aws"})}return Promise.resolve(wh({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:Cr,useArnRegion:!1},lp=wh(wh({},cp),{runtime:"browser",base64Decoder:On,base64Encoder:Nn,bodyLengthChecker:fr,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:gr({serviceId:cp.serviceId,clientVersion:t(Eh).version}),eventStreamSerdeProvider:function(e){return new Vh(e)},maxAttempts:3,md5:Yh,region:Dn("Region is missing"),requestHandler:new _n,sha256:nn.Sha256,streamCollector:Un,streamHasher:function(e,t){return un(this,void 0,void 0,(function(){var n;return cn(this,(function(r){switch(r.label){case 0:return n=new e,[4,$h(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))}))},utf8Decoder:vr.fromUtf8,utf8Encoder:vr.toUtf8}),fp=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},dp=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,hp=/(\d+\.){3}\d+/,pp=/\.\./,gp=/\./,vp=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,mp=/^s3(-external-1)?\.amazonaws\.com$/,yp="amazonaws.com",wp=function(e){return Sp(e)?e.replace(/fips-|-fips/,""):e},bp=function(e){var t=e.match(vp);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},Sp=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},Ep=function(e,t){return e===t||wp(e)===t||e===wp(t)},Cp=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&gp.test(e))throw new Error("Invalid DNS label "+e)},_p=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?kp(sn(sn({},e),{isCustomEndpoint:t})):Ap(sn(sn({},e),{isCustomEndpoint:t}))},Ap=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,i=dn(n?[e.clientRegion,r]:(t=r,mp.test(t)?[t.replace(".amazonaws.com",""),yp]:bp(t)),2),o=i[0],s=i[1],a=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,l=e.accelerateEndpoint,f=void 0!==l&&l,d=e.tlsCompatible,h=void 0===d||d,p=e.useArnRegion,g=e.bucketName,v=e.clientPartition,m=void 0===v?"aws":v,y=e.clientSigningRegion,w=void 0===y?o:y;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:a,accelerateEndpoint:f,tlsCompatible:h});var b=g.service,S=g.partition,E=g.accountId,C=g.region,_=g.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(b),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(S,{clientPartition:m}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(E),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!Ep(e,t.clientRegion)&&!Ep(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&Sp(e))throw new Error("Endpoint does not support FIPS region")}(C,{useArnRegion:p,clientRegion:o,clientSigningRegion:w});var A=function(e){var t=e.includes(":")?":":"/",n=dn(e.split(t)),r=n[0],i=n.slice(1);if("accesspoint"===r){if(1!==i.length||""===i[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===r){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=dn(i,3),s=o[0];return o[1],{outpostId:s,accesspointName:o[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(_),k=A.accesspointName,x=A.outpostId;Cp(k+"-"+E,{tlsCompatible:h});var P=p?C:o,I=p?C:w;return x?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(b),Cp(x,{tlsCompatible:h}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(c),function(e){if(Sp(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(P),{bucketEndpoint:!0,hostname:k+"-"+E+"."+x+(n?"":".s3-outposts."+P)+"."+s,signingRegion:I,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(b),{bucketEndpoint:!0,hostname:k+"-"+E+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+P)+"."+s,signingRegion:I})},kp=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,i=e.clientRegion,o=e.baseHostname,s=e.bucketName,a=e.dualstackEndpoint,u=void 0!==a&&a,c=e.pathStyleEndpoint,l=void 0!==c&&c,f=e.tlsCompatible,d=void 0===f||f,h=e.isCustomEndpoint,p=dn(void 0!==h&&h?[i,o]:(t=o,mp.test(t)?["us-east-1",yp]:bp(t)),2),g=p[0],v=p[1];return l||!function(e){return dp.test(e)&&!hp.test(e)&&!pp.test(e)}(s)||d&&gp.test(s)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+g+"."+v:o}:(r?o="s3-accelerate"+(u?".dualstack":"")+"."+v:u&&(o="s3.dualstack."+g+"."+v),{bucketEndpoint:!0,hostname:s+"."+o})},xp=function(e){return function(t,n){return function(r){return un(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,b,S;return cn(this,(function(E){switch(E.label){case 0:return i=r.input.Bucket,o=e.bucketEndpoint,s=r.request,bn.isInstance(s)?e.bucketEndpoint?(s.hostname=i,[3,7]):[3,1]:[3,8];case 1:return fp(i)?(a=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=dn(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}(i),u=wp,[4,e.region()]):[3,5];case 2:return m=u.apply(void 0,[E.sent()]),[4,e.regionInfoProvider(m)];case 3:return c=E.sent()||{},l=c.partition,f=c.signingRegion,d=void 0===f?m:f,[4,e.useArnRegion()];case 4:return h=E.sent(),p=_p({bucketName:a,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,useArnRegion:h,clientPartition:l,clientSigningRegion:d,clientRegion:m,isCustomEndpoint:e.isCustomEndpoint}),b=p.hostname,S=p.bucketEndpoint,g=p.signingRegion,v=p.signingService,g&&g!==d&&(n.signing_region=g),v&&"s3"!==v&&(n.signing_service=v),s.hostname=b,o=S,[3,7];case 5:return y=wp,[4,e.region()];case 6:m=y.apply(void 0,[E.sent()]),w=_p({bucketName:i,clientRegion:m,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,isCustomEndpoint:e.isCustomEndpoint}),b=w.hostname,S=w.bucketEndpoint,s.hostname=b,o=S,E.label=7;case 7:o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),""===s.path&&(s.path="/")),E.label=8;case 8:return[2,t(sn(sn({},r),{request:s}))]}}))}))}}},Pp={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},Ip=function(e){return{applyToStack:function(t){t.addRelativeTo(xp(e),Pp)}}};var Tp={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Lp=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return un(t,void 0,void 0,(function(){var t;return cn(this,(function(i){return t=r.request,bn.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=sn(sn({},t.headers),{Expect:"100-continue"})),[2,n(sn(sn({},r),{request:t}))]}))}))}}}(e),Tp)}}};var Op,Np,Up,Mp,Rp,Dp,jp,Fp,Bp,zp,Kp,qp,Hp,Gp,Vp,Wp,$p,Jp,Xp,Yp,Zp,Qp,eg,tg,ng,rg,ig,og,sg,ag,ug,cg,lg,fg,dg,hg,pg,gg,vg,mg,yg,wg,bg,Sg,Eg,Cg,_g,Ag,kg,xg,Pg,Ig,Tg,Lg,Og,Ng,Ug,Mg,Rg,Dg,jg,Fg,Bg,zg,Kg,qg,Hg,Gg,Vg,Wg,$g,Jg,Xg,Yg,Zg,Qg,ev,tv,nv,rv,iv,ov,sv,av,uv,cv,lv,fv,dv,hv,pv,gv,vv,mv,yv,wv,bv,Sv,Ev,Cv,_v,Av,kv,xv,Pv,Iv,Tv,Lv,Ov,Nv,Uv,Mv,Rv,Dv,jv,Fv,Bv,zv,Kv,qv,Hv,Gv,Vv,Wv,$v,Jv,Xv,Yv,Zv,Qv,em,tm,nm,rm,im,om,sm,am,um,cm,lm,fm,dm,hm,pm,gm,vm,mm,ym,wm,bm,Sm,Em,Cm,_m,Am,km,xm,Pm,Im,Tm,Lm,Om,Nm,Um,Mm,Rm,Dm,jm,Fm,Bm,zm,Km,qm,Hm,Gm,Vm,Wm,$m,Jm,Xm,Ym,Zm,Qm,ey,ty,ny,ry,iy,oy,sy,ay,uy,cy,ly,fy,dy,hy,py,gy,vy,my,yy,wy,by,Sy,Ey,Cy,_y,Ay,ky,xy,Py,Iy,Ty,Ly,Oy,Ny,Uy,My,Ry,Dy,jy,Fy,By,zy,Ky,qy,Hy,Gy,Vy,Wy,$y,Jy,Xy,Yy,Zy,Qy,ew,tw,nw,rw,iw,ow,sw,aw,uw,cw,lw,fw,dw,hw,pw,gw,vw,mw={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},yw=function(e){return{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return un(e,void 0,void 0,(function(){var e,r;return cn(this,(function(i){if("string"==typeof(e=n.input.Bucket)&&!fp(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t(sn({},n))]}))}))}}}(),mw)}}},ww={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},bw=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return un(void 0,void 0,void 0,(function(){var r,i;return cn(this,(function(o){switch(o.label){case 0:return r=n.request,!bn.isInstance(r)||e.isCustomEndpoint?[2,t(sn({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(r.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t(sn({},n))]}}))}))}}}(e),ww)}}},Sw=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Ew=function(e,t){return Sw(e,t).then((function(e){return t.utf8Encoder(e)}))},Cw={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},_w=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return un(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c;return cn(this,(function(l){switch(l.label){case 0:return[4,t(n)];case 1:return r=l.sent(),i=r.response,wn.isInstance(i)?(o=i.statusCode,s=i.body,o<200&&o>=300?[2,r]:[4,Sw(s,e)]):[2,r];case 2:return a=l.sent(),[4,Ew(a,e)];case 3:if(u=l.sent(),0===a.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(i.statusCode=400),i.body=a,[2,r]}}))}))}}}(e),Cw)}}},Aw=function(e){function t(t){var n,r,i,o,s,a,u,c,l,f,d,h=this,p=wh(wh({},lp),t),g=Ir(p),v=wi(kr(g)),m=cr(v),y=function(e){return sn(sn({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})}(Ai((r=(n=m).bucketEndpoint,i=void 0!==r&&r,o=n.forcePathStyle,s=void 0!==o&&o,a=n.useAccelerateEndpoint,u=void 0!==a&&a,c=n.useDualstackEndpoint,l=void 0!==c&&c,f=n.useArnRegion,d=void 0!==f&&f,sn(sn({},n),{bucketEndpoint:i,forcePathStyle:s,useAccelerateEndpoint:u,useDualstackEndpoint:l,useArnRegion:"function"==typeof d?d:function(){return Promise.resolve(d)}}))));return(h=e.call(this,y)||this).config=y,h.middlewareStack.use(_i(h.config)),h.middlewareStack.use(Fn(h.config)),h.middlewareStack.use(Nr(h.config)),h.middlewareStack.use(Mr(h.config)),h.middlewareStack.use(Dr(h.config)),h.middlewareStack.use(yw(h.config)),h.middlewareStack.use(bw(h.config)),h.middlewareStack.use(Lp(h.config)),h.middlewareStack.use(Ii(h.config)),h}return yh(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ni);(Op||(Op={})).filterSensitiveLog=function(e){return wh({},e)},(Np||(Np={})).filterSensitiveLog=function(e){return wh({},e)},(Up||(Up={})).filterSensitiveLog=function(e){return wh({},e)},(Mp||(Mp={})).filterSensitiveLog=function(e){return wh({},e)},(Rp||(Rp={})).filterSensitiveLog=function(e){return wh({},e)},(Dp||(Dp={})).filterSensitiveLog=function(e){return wh({},e)},(jp||(jp={})).filterSensitiveLog=function(e){return wh({},e)},(Fp||(Fp={})).filterSensitiveLog=function(e){return wh({},e)},(Bp||(Bp={})).filterSensitiveLog=function(e){return wh({},e)},(zp||(zp={})).filterSensitiveLog=function(e){return wh({},e)},(Kp||(Kp={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs})},(qp||(qp={})).filterSensitiveLog=function(e){return wh({},e)},(Hp||(Hp={})).filterSensitiveLog=function(e){return wh({},e)},(Gp||(Gp={})).filterSensitiveLog=function(e){return wh({},e)},(Vp||(Vp={})).filterSensitiveLog=function(e){return wh({},e)},(Wp||(Wp={})).filterSensitiveLog=function(e){return wh(wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:qs})},($p||($p={})).filterSensitiveLog=function(e){return wh(wh(wh(wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs}),e.SSEKMSKeyId&&{SSEKMSKeyId:qs}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:qs}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:qs})},(Jp||(Jp={})).filterSensitiveLog=function(e){return wh({},e)},(Xp||(Xp={})).filterSensitiveLog=function(e){return wh({},e)},(Yp||(Yp={})).filterSensitiveLog=function(e){return wh({},e)},(Zp||(Zp={})).filterSensitiveLog=function(e){return wh({},e)},(Qp||(Qp={})).filterSensitiveLog=function(e){return wh({},e)},(eg||(eg={})).filterSensitiveLog=function(e){return wh({},e)},(tg||(tg={})).filterSensitiveLog=function(e){return wh(wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:qs})},(ng||(ng={})).filterSensitiveLog=function(e){return wh(wh(wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs}),e.SSEKMSKeyId&&{SSEKMSKeyId:qs}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:qs})},(rg||(rg={})).filterSensitiveLog=function(e){return wh({},e)},(ig||(ig={})).filterSensitiveLog=function(e){return wh({},e)},(og||(og={})).filterSensitiveLog=function(e){return wh({},e)},(sg||(sg={})).filterSensitiveLog=function(e){return wh({},e)},(ag||(ag={})).filterSensitiveLog=function(e){return wh({},e)},(ug||(ug={})).filterSensitiveLog=function(e){return wh({},e)},(cg||(cg={})).filterSensitiveLog=function(e){return wh({},e)},(lg||(lg={})).filterSensitiveLog=function(e){return wh({},e)},(fg||(fg={})).filterSensitiveLog=function(e){return wh({},e)},(dg||(dg={})).filterSensitiveLog=function(e){return wh({},e)},(hg||(hg={})).filterSensitiveLog=function(e){return wh({},e)},(pg||(pg={})).filterSensitiveLog=function(e){return wh({},e)},(gg||(gg={})).filterSensitiveLog=function(e){return wh({},e)},(vg||(vg={})).filterSensitiveLog=function(e){return wh({},e)},(mg||(mg={})).filterSensitiveLog=function(e){return wh({},e)},(yg||(yg={})).filterSensitiveLog=function(e){return wh({},e)},(wg||(wg={})).filterSensitiveLog=function(e){return wh({},e)},(bg||(bg={})).filterSensitiveLog=function(e){return wh({},e)},(Sg||(Sg={})).filterSensitiveLog=function(e){return wh({},e)},(Eg||(Eg={})).filterSensitiveLog=function(e){return wh({},e)},(Cg||(Cg={})).filterSensitiveLog=function(e){return wh({},e)},(_g||(_g={})).filterSensitiveLog=function(e){return wh({},e)},(Ag||(Ag={})).filterSensitiveLog=function(e){return wh({},e)},(kg||(kg={})).filterSensitiveLog=function(e){return wh({},e)},(xg||(xg={})).filterSensitiveLog=function(e){return wh({},e)},(Pg||(Pg={})).filterSensitiveLog=function(e){return wh({},e)},(Ig||(Ig={})).filterSensitiveLog=function(e){return wh({},e)},(Tg||(Tg={})).filterSensitiveLog=function(e){return wh({},e)},(Lg||(Lg={})).filterSensitiveLog=function(e){return wh({},e)},(Og||(Og={})).filterSensitiveLog=function(e){return wh({},e)},(Ug=Ng||(Ng={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},Ug.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Lg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Og.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(Mg||(Mg={})).filterSensitiveLog=function(e){return wh({},e)},(Rg||(Rg={})).filterSensitiveLog=function(e){return wh({},e)},(Dg||(Dg={})).filterSensitiveLog=function(e){return wh({},e)},(jg||(jg={})).filterSensitiveLog=function(e){return wh({},e)},(Fg||(Fg={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Filter&&{Filter:Ng.filterSensitiveLog(e.Filter)})},(Bg||(Bg={})).filterSensitiveLog=function(e){return wh(wh({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Fg.filterSensitiveLog(e.AnalyticsConfiguration)})},(zg||(zg={})).filterSensitiveLog=function(e){return wh({},e)},(Kg||(Kg={})).filterSensitiveLog=function(e){return wh({},e)},(qg||(qg={})).filterSensitiveLog=function(e){return wh({},e)},(Hg||(Hg={})).filterSensitiveLog=function(e){return wh({},e)},(Gg||(Gg={})).filterSensitiveLog=function(e){return wh(wh({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:qs})},(Vg||(Vg={})).filterSensitiveLog=function(e){return wh(wh({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Gg.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})},(Wg||(Wg={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Vg.filterSensitiveLog(e)}))})},($g||($g={})).filterSensitiveLog=function(e){return wh(wh({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Wg.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})},(Jg||(Jg={})).filterSensitiveLog=function(e){return wh({},e)},(Xg||(Xg={})).filterSensitiveLog=function(e){return wh({},e)},(Yg||(Yg={})).filterSensitiveLog=function(e){return wh({},e)},(Zg||(Zg={})).filterSensitiveLog=function(e){return wh({},e)},(Qg||(Qg={})).filterSensitiveLog=function(e){return wh({},e)},(ev||(ev={})).filterSensitiveLog=function(e){return wh({},e)},(tv||(tv={})).filterSensitiveLog=function(e){return wh({},e)},(nv||(nv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.KeyId&&{KeyId:qs})},(rv||(rv={})).filterSensitiveLog=function(e){return wh({},e)},(iv||(iv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSEKMS&&{SSEKMS:nv.filterSensitiveLog(e.SSEKMS)})},(ov||(ov={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Encryption&&{Encryption:iv.filterSensitiveLog(e.Encryption)})},(sv||(sv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.S3BucketDestination&&{S3BucketDestination:ov.filterSensitiveLog(e.S3BucketDestination)})},(av||(av={})).filterSensitiveLog=function(e){return wh({},e)},(uv||(uv={})).filterSensitiveLog=function(e){return wh({},e)},(cv||(cv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Destination&&{Destination:sv.filterSensitiveLog(e.Destination)})},(lv||(lv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.InventoryConfiguration&&{InventoryConfiguration:cv.filterSensitiveLog(e.InventoryConfiguration)})},(fv||(fv={})).filterSensitiveLog=function(e){return wh({},e)},(dv||(dv={})).filterSensitiveLog=function(e){return wh({},e)},(hv||(hv={})).filterSensitiveLog=function(e){return wh({},e)},(gv=pv||(pv={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},gv.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Lg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:hv.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(vv||(vv={})).filterSensitiveLog=function(e){return wh({},e)},(mv||(mv={})).filterSensitiveLog=function(e){return wh({},e)},(yv||(yv={})).filterSensitiveLog=function(e){return wh({},e)},(wv||(wv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Filter&&{Filter:pv.filterSensitiveLog(e.Filter)})},(bv||(bv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Rules&&{Rules:e.Rules.map((function(e){return wv.filterSensitiveLog(e)}))})},(Sv||(Sv={})).filterSensitiveLog=function(e){return wh({},e)},(Ev||(Ev={})).filterSensitiveLog=function(e){return wh({},e)},(Cv||(Cv={})).filterSensitiveLog=function(e){return wh({},e)},(_v||(_v={})).filterSensitiveLog=function(e){return wh({},e)},(Av||(Av={})).filterSensitiveLog=function(e){return wh({},e)},(kv||(kv={})).filterSensitiveLog=function(e){return wh({},e)},(xv||(xv={})).filterSensitiveLog=function(e){return wh({},e)},(Pv||(Pv={})).filterSensitiveLog=function(e){return wh({},e)},(Tv=Iv||(Iv={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},Tv.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Lg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Pv.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(Lv||(Lv={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Filter&&{Filter:Iv.filterSensitiveLog(e.Filter)})},(Ov||(Ov={})).filterSensitiveLog=function(e){return wh(wh({},e),e.MetricsConfiguration&&{MetricsConfiguration:Lv.filterSensitiveLog(e.MetricsConfiguration)})},(Nv||(Nv={})).filterSensitiveLog=function(e){return wh({},e)},(Uv||(Uv={})).filterSensitiveLog=function(e){return wh({},e)},(Mv||(Mv={})).filterSensitiveLog=function(e){return wh({},e)},(Rv||(Rv={})).filterSensitiveLog=function(e){return wh({},e)},(Dv||(Dv={})).filterSensitiveLog=function(e){return wh({},e)},(jv||(jv={})).filterSensitiveLog=function(e){return wh({},e)},(Fv||(Fv={})).filterSensitiveLog=function(e){return wh({},e)},(Bv||(Bv={})).filterSensitiveLog=function(e){return wh({},e)},(zv||(zv={})).filterSensitiveLog=function(e){return wh({},e)},(Kv||(Kv={})).filterSensitiveLog=function(e){return wh({},e)},(qv||(qv={})).filterSensitiveLog=function(e){return wh({},e)},(Hv||(Hv={})).filterSensitiveLog=function(e){return wh({},e)},(Gv||(Gv={})).filterSensitiveLog=function(e){return wh({},e)},(Vv||(Vv={})).filterSensitiveLog=function(e){return wh({},e)},(Wv||(Wv={})).filterSensitiveLog=function(e){return wh({},e)},($v||($v={})).filterSensitiveLog=function(e){return wh({},e)},(Jv||(Jv={})).filterSensitiveLog=function(e){return wh({},e)},(Xv||(Xv={})).filterSensitiveLog=function(e){return wh({},e)},(Yv||(Yv={})).filterSensitiveLog=function(e){return wh({},e)},(Zv||(Zv={})).filterSensitiveLog=function(e){return wh({},e)},(Qv||(Qv={})).filterSensitiveLog=function(e){return wh({},e)},(em||(em={})).filterSensitiveLog=function(e){return wh({},e)},(tm||(tm={})).filterSensitiveLog=function(e){return wh({},e)},function(e){e.filterSensitiveLog=function(e){return wh({},e)}}(nm||(nm={})),(rm||(rm={})).filterSensitiveLog=function(e){return wh({},e)},(im||(im={})).filterSensitiveLog=function(e){return wh({},e)},(sm=om||(om={})).visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},sm.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Lg.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:im.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(am||(am={})).filterSensitiveLog=function(e){return wh({},e)},(um||(um={})).filterSensitiveLog=function(e){return wh({},e)},(cm||(cm={})).filterSensitiveLog=function(e){return wh({},e)},(lm||(lm={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Filter&&{Filter:om.filterSensitiveLog(e.Filter)})},(fm||(fm={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Rules&&{Rules:e.Rules.map((function(e){return lm.filterSensitiveLog(e)}))})},(dm||(dm={})).filterSensitiveLog=function(e){return wh(wh({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:fm.filterSensitiveLog(e.ReplicationConfiguration)})},(hm||(hm={})).filterSensitiveLog=function(e){return wh({},e)},(pm||(pm={})).filterSensitiveLog=function(e){return wh({},e)},(gm||(gm={})).filterSensitiveLog=function(e){return wh({},e)},(vm||(vm={})).filterSensitiveLog=function(e){return wh({},e)},(mm||(mm={})).filterSensitiveLog=function(e){return wh({},e)},(ym||(ym={})).filterSensitiveLog=function(e){return wh({},e)},(wm||(wm={})).filterSensitiveLog=function(e){return wh({},e)},(bm||(bm={})).filterSensitiveLog=function(e){return wh({},e)},(Sm||(Sm={})).filterSensitiveLog=function(e){return wh({},e)},(Em||(Em={})).filterSensitiveLog=function(e){return wh({},e)},(Cm||(Cm={})).filterSensitiveLog=function(e){return wh({},e)},(_m||(_m={})).filterSensitiveLog=function(e){return wh({},e)},(Am||(Am={})).filterSensitiveLog=function(e){return wh({},e)},(km||(km={})).filterSensitiveLog=function(e){return wh({},e)},(xm||(xm={})).filterSensitiveLog=function(e){return wh({},e)},(Pm||(Pm={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs})},(Im||(Im={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs})},(Tm||(Tm={})).filterSensitiveLog=function(e){return wh({},e)},(Lm||(Lm={})).filterSensitiveLog=function(e){return wh({},e)},(Om||(Om={})).filterSensitiveLog=function(e){return wh({},e)},(Nm||(Nm={})).filterSensitiveLog=function(e){return wh({},e)},(Um||(Um={})).filterSensitiveLog=function(e){return wh({},e)},(Mm||(Mm={})).filterSensitiveLog=function(e){return wh({},e)},(Rm||(Rm={})).filterSensitiveLog=function(e){return wh({},e)},(Dm||(Dm={})).filterSensitiveLog=function(e){return wh({},e)},(jm||(jm={})).filterSensitiveLog=function(e){return wh({},e)},(Fm||(Fm={})).filterSensitiveLog=function(e){return wh({},e)},(Bm||(Bm={})).filterSensitiveLog=function(e){return wh({},e)},(zm||(zm={})).filterSensitiveLog=function(e){return wh({},e)},(Km||(Km={})).filterSensitiveLog=function(e){return wh({},e)},(qm||(qm={})).filterSensitiveLog=function(e){return wh({},e)},(Hm||(Hm={})).filterSensitiveLog=function(e){return wh({},e)},(Gm||(Gm={})).filterSensitiveLog=function(e){return wh({},e)},(Vm||(Vm={})).filterSensitiveLog=function(e){return wh({},e)},(Wm||(Wm={})).filterSensitiveLog=function(e){return wh({},e)},($m||($m={})).filterSensitiveLog=function(e){return wh({},e)},(Jm||(Jm={})).filterSensitiveLog=function(e){return wh({},e)},(Xm||(Xm={})).filterSensitiveLog=function(e){return wh({},e)},(Ym||(Ym={})).filterSensitiveLog=function(e){return wh({},e)},(Zm||(Zm={})).filterSensitiveLog=function(e){return wh({},e)},(Qm||(Qm={})).filterSensitiveLog=function(e){return wh({},e)},(ey||(ey={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs})},(ty||(ty={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs})},(ny||(ny={})).filterSensitiveLog=function(e){return wh(wh({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return Fg.filterSensitiveLog(e)}))})},(ry||(ry={})).filterSensitiveLog=function(e){return wh({},e)},(iy||(iy={})).filterSensitiveLog=function(e){return wh({},e)},(oy||(oy={})).filterSensitiveLog=function(e){return wh({},e)},(sy||(sy={})).filterSensitiveLog=function(e){return wh(wh({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return cv.filterSensitiveLog(e)}))})},(ay||(ay={})).filterSensitiveLog=function(e){return wh({},e)},(uy||(uy={})).filterSensitiveLog=function(e){return wh(wh({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return Lv.filterSensitiveLog(e)}))})},(cy||(cy={})).filterSensitiveLog=function(e){return wh({},e)},(ly||(ly={})).filterSensitiveLog=function(e){return wh({},e)},(fy||(fy={})).filterSensitiveLog=function(e){return wh({},e)},(dy||(dy={})).filterSensitiveLog=function(e){return wh({},e)},(hy||(hy={})).filterSensitiveLog=function(e){return wh({},e)},(py||(py={})).filterSensitiveLog=function(e){return wh({},e)},(gy||(gy={})).filterSensitiveLog=function(e){return wh({},e)},(vy||(vy={})).filterSensitiveLog=function(e){return wh({},e)},(my||(my={})).filterSensitiveLog=function(e){return wh({},e)},(yy||(yy={})).filterSensitiveLog=function(e){return wh({},e)},(wy||(wy={})).filterSensitiveLog=function(e){return wh({},e)},(by||(by={})).filterSensitiveLog=function(e){return wh({},e)},(Sy||(Sy={})).filterSensitiveLog=function(e){return wh({},e)},(Ey||(Ey={})).filterSensitiveLog=function(e){return wh({},e)},(Cy||(Cy={})).filterSensitiveLog=function(e){return wh({},e)},(_y||(_y={})).filterSensitiveLog=function(e){return wh({},e)},(Ay||(Ay={})).filterSensitiveLog=function(e){return wh({},e)},(ky||(ky={})).filterSensitiveLog=function(e){return wh({},e)},(xy||(xy={})).filterSensitiveLog=function(e){return wh({},e)},(Py||(Py={})).filterSensitiveLog=function(e){return wh({},e)},(Iy||(Iy={})).filterSensitiveLog=function(e){return wh({},e)},(Ty||(Ty={})).filterSensitiveLog=function(e){return wh({},e)},(Ly||(Ly={})).filterSensitiveLog=function(e){return wh(wh({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Fg.filterSensitiveLog(e.AnalyticsConfiguration)})},(Oy||(Oy={})).filterSensitiveLog=function(e){return wh({},e)},(Ny||(Ny={})).filterSensitiveLog=function(e){return wh({},e)},(Uy||(Uy={})).filterSensitiveLog=function(e){return wh(wh({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Wg.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})},(My||(My={})).filterSensitiveLog=function(e){return wh({},e)},(Ry||(Ry={})).filterSensitiveLog=function(e){return wh(wh({},e),e.InventoryConfiguration&&{InventoryConfiguration:cv.filterSensitiveLog(e.InventoryConfiguration)})},(Dy||(Dy={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Rules&&{Rules:e.Rules.map((function(e){return wv.filterSensitiveLog(e)}))})},(jy||(jy={})).filterSensitiveLog=function(e){return wh(wh({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:Dy.filterSensitiveLog(e.LifecycleConfiguration)})},(Fy||(Fy={})).filterSensitiveLog=function(e){return wh({},e)},(By||(By={})).filterSensitiveLog=function(e){return wh({},e)},(zy||(zy={})).filterSensitiveLog=function(e){return wh(wh({},e),e.MetricsConfiguration&&{MetricsConfiguration:Lv.filterSensitiveLog(e.MetricsConfiguration)})},(Ky||(Ky={})).filterSensitiveLog=function(e){return wh({},e)},(qy||(qy={})).filterSensitiveLog=function(e){return wh({},e)},(Hy||(Hy={})).filterSensitiveLog=function(e){return wh({},e)},(Gy||(Gy={})).filterSensitiveLog=function(e){return wh(wh({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:fm.filterSensitiveLog(e.ReplicationConfiguration)})},(Vy||(Vy={})).filterSensitiveLog=function(e){return wh({},e)},(Wy||(Wy={})).filterSensitiveLog=function(e){return wh({},e)},($y||($y={})).filterSensitiveLog=function(e){return wh({},e)},(Jy||(Jy={})).filterSensitiveLog=function(e){return wh({},e)},(Xy||(Xy={})).filterSensitiveLog=function(e){return wh({},e)},(Yy||(Yy={})).filterSensitiveLog=function(e){return wh({},e)},(Zy||(Zy={})).filterSensitiveLog=function(e){return wh({},e)},(Qy||(Qy={})).filterSensitiveLog=function(e){return wh({},e)},(ew||(ew={})).filterSensitiveLog=function(e){return wh(wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:qs})},(tw||(tw={})).filterSensitiveLog=function(e){return wh(wh(wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs}),e.SSEKMSKeyId&&{SSEKMSKeyId:qs}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:qs})},(nw||(nw={})).filterSensitiveLog=function(e){return wh({},e)},(rw||(rw={})).filterSensitiveLog=function(e){return wh({},e)},(iw||(iw={})).filterSensitiveLog=function(e){return wh({},e)},(ow||(ow={})).filterSensitiveLog=function(e){return wh({},e)},(sw||(sw={})).filterSensitiveLog=function(e){return wh({},e)},(aw||(aw={})).filterSensitiveLog=function(e){return wh({},e)},(uw||(uw={})).filterSensitiveLog=function(e){return wh({},e)},(cw||(cw={})).filterSensitiveLog=function(e){return wh({},e)},(lw||(lw={})).filterSensitiveLog=function(e){return wh({},e)},(fw||(fw={})).filterSensitiveLog=function(e){return wh({},e)},(dw||(dw={})).filterSensitiveLog=function(e){return wh({},e)},(hw||(hw={})).filterSensitiveLog=function(e){return wh({},e)},(pw||(pw={})).filterSensitiveLog=function(e){return wh({},e)},(gw||(gw={})).filterSensitiveLog=function(e){return wh({},e)},(vw||(vw={})).filterSensitiveLog=function(e){return wh(wh({},e),e.KMSKeyId&&{KMSKeyId:qs})};var kw=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,i=this.attributes;try{for(var o=fn(Object.keys(i)),s=o.next();!s.done;s=o.next()){var a=s.value,u=i[a];null!=u&&(r+=" "+a+'="'+((""+u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"'))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}();var xw,Pw,Iw,Tw,Lw,Ow,Nw,Uw,Mw,Rw,Dw,jw,Fw=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}();const Bw=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",zw="["+Bw+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",Kw=new RegExp("^"+zw+"$");Nw=function(e){return void 0!==e},Dw=function(e){return 0===Object.keys(e).length},jw=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},Uw=function(e){return Nw(e)?e:""},Lw=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},Rw=function(e){const t=Kw.exec(e);return!(null==t)},Ow=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[],o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n};const qw=function(e,t,n){const r={};if((!e.child||Dw(e.child))&&(!e.attrsMap||Dw(e.attrsMap)))return Nw(e.val)?e.val:"";if(Nw(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const i=Lw(e.tagname,t.arrayMode,n);r[t.textNodeName]=i?[e.val]:e.val}jw(r,e.attrsMap,t.arrayMode);const i=Object.keys(e.child);for(let o=0;o<i.length;o++){const s=i[o];if(e.child[s]&&e.child[s].length>1){r[s]=[];for(let n in e.child[s])e.child[s].hasOwnProperty(n)&&r[s].push(qw(e.child[s][n],t,s))}else{const i=qw(e.child[s][0],t,s),o=!0===t.arrayMode&&"object"==typeof i||Lw(s,t.arrayMode,n);r[s]=o?[i]:i}}return r};var Hw,Gw,Vw;Tw=qw;var Ww,$w=Mw=function(e,t,n){var r={};if(!e)return t;for(let i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r};Ww=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}};var Jw={};const Xw=/0x[a-zA-Z0-9]+/,Yw=/^([\-\+])?(0*)(\.[0-9]+(e\-?[0-9]+)?|[0-9]+(\.[0-9]+(e\-?[0-9]+)?)?)$/,Zw={hex:!0,leadingZeros:!0,decimalPoint:"."};Jw=function(e,t={}){if(t=Object.assign({},Zw,t),!e||"string"!=typeof e)return e;let n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if(t.hex&&Xw.test(n))return Number.parseInt(n,16);{const r=Yw.exec(n);if(r){r[1];const i=r[2],o=r[3];r[4]||r[6];return 1===i.length&&"."===o[0]?Number(e):!t.leadingZeros&&i.length>0?e:Number(n)}return e}};"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,"[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*");!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Qw={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};Vw=Qw;const eb=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes"];function tb(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=rb(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.numParseOptions)),t}function nb(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function rb(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&Jw(e,n)}return Nw(e)?e:""}Hw=eb;const ib=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function ob(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=Ow(e,ib),r=n.length,i={};for(let e=0;e<r;e++){const r=nb(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),i[t.attributeNamePrefix+r]=rb(n[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+r]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=i,e}return i}}function sb(e,t){let n,r="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:i};"\t"===t&&(t=" ")}r+=t}}function ab(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}Gw=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=$w(t,Qw,eb);const n=new Ww("!xml");let r=n,i="";for(let n=0;n<e.length;n++){if("<"===e[n])if("/"===e[n+1]){const o=ab(e,">",n,"Closing Tag is not closed.");let s=e.substring(n+2,o).trim();if(t.ignoreNameSpace){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}r&&(r.val?r.val=Uw(r.val)+""+tb(s,i,t):r.val=tb(s,i,t)),t.stopNodes.length&&t.stopNodes.includes(r.tagname)&&(r.child=[],null==r.attrsMap&&(r.attrsMap={}),r.val=e.substr(r.startIndex+1,n-r.startIndex-1)),r=r.parent,i="",n=o}else if("?"===e[n+1])n=ab(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=ab(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=ab(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const o=ab(e,"]]>",n,"CDATA is not closed.")-2,s=e.substring(n+9,o);if(i&&(r.val=Uw(r.val)+""+tb(r.tagname,i,t),i=""),t.cdataTagName){const e=new Ww(t.cdataTagName,r,s);r.addChild(e),r.val=Uw(r.val)+t.cdataPositionChar,s&&(e.val=s)}else r.val=(r.val||"")+(s||"");n=o+2}else{const o=sb(e,n+1);let s=o.data;const a=o.index,u=s.indexOf(" ");let c=s,l=!0;if(-1!==u&&(c=s.substr(0,u).replace(/\s\s*$/,""),s=s.substr(u+1)),t.ignoreNameSpace){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),l=c!==o.data.substr(e+1))}if(r&&i&&"!xml"!==r.tagname&&(r.val=Uw(r.val)+""+tb(r.tagname,i,t)),s.length>0&&s.lastIndexOf("/")===s.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),s=c):s=s.substr(0,s.length-1);const e=new Ww(c,r,"");c!==s&&(e.attrsMap=ob(s,t)),r.addChild(e)}else{const e=new Ww(c,r);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=a),c!==s&&l&&(e.attrsMap=ob(s,t)),r.addChild(e),r=e}i="",n=a}else i+=e[n]}return n};var ub,cb=Mw;const lb={allowBooleanAttributes:!1},fb=["allowBooleanAttributes"];function db(e,t){for(var n=t;t<e.length;t++)if("?"==e[t]||" "==e[t]){var r=e.substr(n,t-n);if(t>5&&"xml"===r)return yb("InvalidXml","XML declaration allowed only at the start of the document.",bb(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}continue}return t}function hb(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}ub=function(e,t){t=Mw(t,lb,fb);const n=[];let r=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=db(e,o),o.err)return o}else{if("<"!==e[o]){if(" "===e[o]||"\t"===e[o]||"\n"===e[o]||"\r"===e[o])continue;return yb("InvalidChar","char '"+e[o]+"' is not expected.",bb(e,o))}if(o++,"!"===e[o]){o=hb(e,o);continue}{let s=!1;"/"===e[o]&&(s=!0,o++);let a="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)a+=e[o];if(a=a.trim(),"/"===a[a.length-1]&&(a=a.substring(0,a.length-1),o--),!Rw(a)){let t;return t=0===a.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+a+"' is an invalid name.",yb("InvalidTag",t,bb(e,o))}const u=pb(e,o);if(!1===u)return yb("InvalidAttr","Attributes for '"+a+"' have open quote.",bb(e,o));let c=u.value;if(o=u.index,"/"===c[c.length-1]){c=c.substring(0,c.length-1);const n=vb(c,t);if(!0!==n)return yb(n.err.code,n.err.msg,bb(e,o-c.length+n.err.line));r=!0}else if(s){if(!u.tagClosed)return yb("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",bb(e,o));if(c.trim().length>0)return yb("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",bb(e,o));{const t=n.pop();if(a!==t)return yb("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+a+"'.",bb(e,o));0==n.length&&(i=!0)}}else{const s=vb(c,t);if(!0!==s)return yb(s.err.code,s.err.msg,bb(e,o-c.length+s.err.line));if(!0===i)return yb("InvalidXml","Multiple possible root nodes found.",bb(e,o));n.push(a),r=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=hb(e,o);continue}if("?"!==e[o+1])break;if(o=db(e,++o),o.err)return o}else if("&"===e[o]){const t=mb(e,o);if(-1==t)return yb("InvalidChar","char '&' is not expected.",bb(e,o));o=t}"<"===e[o]&&o--}}return r?!(n.length>0)||yb("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):yb("InvalidXml","Start tag expected.",1)};function pb(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===r)r=e[t];else{if(r!==e[t])continue;r=""}else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const gb=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function vb(e,t){const n=Ow(e,gb),r={};for(let i=0;i<n.length;i++){if(0===n[i][1].length)return yb("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",Sb(e,n[i][0]));if(void 0===n[i][3]&&!t.allowBooleanAttributes)return yb("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",Sb(e,n[i][0]));const o=n[i][2];if(!wb(o))return yb("InvalidAttr","Attribute '"+o+"' is an invalid name.",Sb(e,n[i][0]));if(r.hasOwnProperty(o))return yb("InvalidAttr","Attribute '"+o+"' is repeated.",Sb(e,n[i][0]));r[o]=1}return!0}function mb(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function yb(e,t,n){return{err:{code:e,msg:t,line:n}}}function wb(e){return Rw(e)}function bb(e,t){return e.substring(0,t).split(/\r?\n/).length}function Sb(e,t){return e.indexOf(t)+t.length}Iw=function(e,t={},n){if(n){!0===n&&(n={});const t=ub(e,n);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let r=cb(t,Vw,Hw);const i=Gw(e,r);return Tw(i,r)},o.register("j5L0T",(function(t,n){var r;e(t.exports,"convert2nimn",(()=>r),(e=>r=e));const i=function(e){return String.fromCharCode(e)},o={nilChar:i(176),missingChar:i(201),nilPremitive:i(175),missingPremitive:i(200),emptyChar:i(178),emptyValue:i(177),boundryChar:i(179),objStart:i(198),arrStart:i(204),arrayEnd:i(185)},s=[o.nilChar,o.nilPremitive,o.missingChar,o.missingPremitive,o.boundryChar,o.emptyChar,o.emptyValue,o.arrayEnd,o.objStart,o.arrStart],a=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?u(e[0].val,t):u(e,t);{const i=void 0===(r=e)?o.missingChar:null===r?o.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||o.emptyChar;if(!0===i){let r="";if(Array.isArray(t)){r+=o.arrStart;const i=t[0],s=e.length;if("string"==typeof i)for(let t=0;t<s;t++){const n=u(e[t].val,i);r=c(r,n)}else for(let t=0;t<s;t++){const o=a(e[t],i,n);r=c(r,o)}r+=o.arrayEnd}else{r+=o.objStart;const i=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let o in i){const s=i[o];let u;u=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?a(e.attrsMap[s],t[s],n):s===n.textNodeName?a(e.val,t[s],n):a(e.child[s],t[s],n),r=c(r,u)}}return r}return i}var r},u=function(e){switch(e){case void 0:return o.missingPremitive;case null:return o.nilPremitive;case"":return o.emptyValue;default:return e}},c=function(e,t){return l(t[0])||l(e[e.length-1])||(e+=o.boundryChar),e+t},l=function(e){return-1!==s.indexOf(e)};var f=Mw;r=function(e,t,n){return n=f(n,Vw,Hw),a(e,t,n)}})),xw=o("j5L0T").convert2nimn,Pw=Gw,o.register("klyB7",(function(t,n){var r;e(t.exports,"convertToJsonString",(()=>r),(e=>r=e));var i=Mw;const o=function(e,t,n){let r="{";const i=Object.keys(e.child);for(let n=0;n<i.length;n++){var s=i[n];if(e.child[s]&&e.child[s].length>1){for(var a in r+='"'+s+'" : [ ',e.child[s])r+=o(e.child[s][a],t)+" , ";r=r.substr(0,r.length-1)+" ] "}else r+='"'+s+'" : '+o(e.child[s][0],t)+" ,"}return jw(r,e.attrsMap),Dw(r)?Nw(e.val)?e.val:"":(Nw(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(r+='"'+t.textNodeName+'" : '+(!0!==(u=e.val)&&!1!==u&&isNaN(u)?'"'+u+'"':u)),","===r[r.length-1]&&(r=r.substr(0,r.length-2)),r+"}");var u};r=function(e,t){return(t=i(t,Vw,Hw)).indentBy=t.indentBy||"",o(e,t,0)}})),o("klyB7").convertToJsonString,o.register("gAGcI",(function(e,t){"use strict";var n=Mw;const r={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},i=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function o(e){this.options=n(e,r,i),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.options.cdataTagName?this.isCDATA=p:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=a,this.options.format?(this.indentate=d,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=c):(this.buildTextNode=l,this.buildObjNode=u),this.buildTextValNode=l,this.buildObjectNode=u}function s(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function a(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function u(e,t,n,r){return n&&!e.includes("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function c(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function l(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e){return this.options.indentBy.repeat(e)}function h(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function p(e){return e===this.options.cdataTagName}o.prototype.parse=function(e){return this.j2x(e,0).val},o.prototype.j2x=function(e,t){let n="",r="";const i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){const o=i[s];if(void 0===e[o]);else if(null===e[o])r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextNode(e[o],o,"",t);else if("object"!=typeof e[o]){const i=this.isAttribute(o);i?n+=" "+i+'="'+this.options.attrValueProcessor(""+e[o])+'"':this.isCDATA(o)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAstr("",e[o]):o===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[o])):r+=this.buildTextNode(e[o],o,"",t)}else if(Array.isArray(e[o]))if(this.isCDATA(o))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAarr("",e[o]);else{const n=e[o].length;for(let i=0;i<n;i++){const n=e[o][i];if(void 0===n);else if(null===n)r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof n){const e=this.j2x(n,t+1);r+=this.buildObjNode(e.val,o,e.attrStr,t)}else r+=this.buildTextNode(n,o,"",t)}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){const t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=" "+t[i]+'="'+this.options.attrValueProcessor(""+e[o][t[i]])+'"'}else{const n=this.j2x(e[o],t+1);r+=this.buildObjNode(n.val,o,n.attrStr,t)}}return{attrStr:n,val:r}},e.exports=o})),o("gAGcI");var Eb=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Sh(this,(function(l){switch(l.label){case 0:return r=[wh({},e)],c={},[4,$b(e.body,t)];case 1:switch(n=wh.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Jb(e,n.body),o){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,Mb(n,t)];case 3:return i=wh.apply(void 0,[wh.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:Gb(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=wh(wh({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:Gb(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},Cb=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sh(this,(function(c){switch(c.label){case 0:return r=[wh({},e)],u={},[4,$b(e.body,t)];case 1:return n=wh.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Jb(e,n.body),s=n.body,o=s.code||s.Code||o,i=wh(wh({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gb(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},_b=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Sh(this,(function(l){switch(l.label){case 0:return r=[wh({},e)],c={},[4,$b(e.body,t)];case 1:switch(n=wh.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Jb(e,n.body),o){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return s=[{}],[4,Rb(n,t)];case 3:return i=wh.apply(void 0,[wh.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:Gb(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=wh(wh({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:Gb(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},Ab=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sh(this,(function(c){switch(c.label){case 0:return r=[wh({},e)],u={},[4,$b(e.body,t)];case 1:return n=wh.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Jb(e,n.body),s=n.body,o=s.code||s.Code||o,i=wh(wh({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gb(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},kb=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sh(this,(function(c){switch(c.label){case 0:return r=[wh({},e)],u={},[4,$b(e.body,t)];case 1:return n=wh.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Jb(e,n.body),s=n.body,o=s.code||s.Code||o,i=wh(wh({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gb(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},xb=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:return r=[wh({},e)],l={},[4,$b(e.body,t)];case 1:switch(n=wh.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=Jb(e,n.body),o){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,Ob(n,t)];case 3:return i=wh.apply(void 0,[wh.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:Gb(e)}]),[3,7];case 4:return a=[{}],[4,Ub(n,t)];case 5:return i=wh.apply(void 0,[wh.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:Gb(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=wh(wh({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:Gb(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},Pb=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Sh(this,(function(l){switch(l.label){case 0:return r=[wh({},e)],c={},[4,$b(e.body,t)];case 1:switch(n=wh.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Jb(e,n.body),o){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,Nb(n,t)];case 3:return i=wh.apply(void 0,[wh.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:Gb(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=wh(wh({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:Gb(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},Ib=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sh(this,(function(c){switch(c.label){case 0:return r=[wh({},e)],u={},[4,$b(e.body,t)];case 1:return n=wh.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Jb(e,n.body),s=n.body,o=s.code||s.Code||o,i=wh(wh({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gb(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},Tb=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sh(this,(function(c){switch(c.label){case 0:return r=[wh({},e)],u={},[4,$b(e.body,t)];case 1:return n=wh.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Jb(e,n.body),s=n.body,o=s.code||s.Code||o,i=wh(wh({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gb(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},Lb=function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Sh(this,(function(c){switch(c.label){case 0:return r=[wh({},e)],u={},[4,$b(e.body,t)];case 1:return n=wh.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Jb(e,n.body),s=n.body,o=s.code||s.Code||o,i=wh(wh({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gb(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},Ob=function(e,t){return bh(void 0,void 0,void 0,(function(){var t,n;return Sh(this,(function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:Gb(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]}))}))},Nb=function(e,t){return bh(void 0,void 0,void 0,(function(){var t;return Sh(this,(function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:Gb(e)},e.body,[2,t]}))}))},Ub=function(e,t){return bh(void 0,void 0,void 0,(function(){var t;return Sh(this,(function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:Gb(e)},e.body,[2,t]}))}))},Mb=function(e,t){return bh(void 0,void 0,void 0,(function(){var t;return Sh(this,(function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:Gb(e)},e.body,[2,t]}))}))},Rb=function(e,t){return bh(void 0,void 0,void 0,(function(){var t;return Sh(this,(function(n){return t={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:Gb(e)},e.body,[2,t]}))}))},Db=function(e,t){var n=new kw("CompletedMultipartUpload");void 0!==e.Parts&&null!==e.Parts&&jb(e.Parts,t).map((function(e){e=e.withName("Part"),n.addChildNode(e)}));return n},jb=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n=new kw("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var r=new kw("ETag").addChildNode(new Fw(e.ETag)).withName("ETag");n.addChildNode(r)}void 0!==e.PartNumber&&null!==e.PartNumber&&(r=new kw("PartNumber").addChildNode(new Fw(String(e.PartNumber))).withName("PartNumber"),n.addChildNode(r));return n}(e).withName("member")}))},Fb=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))},Bb=function(e,t){var n={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),n},zb=function(e,t){var n={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(n.ID=e.ID),void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),n},Kb=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=qb(e.Owner,t)),n}(e,t)}))},qb=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},Hb=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))},Gb=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Vb=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Wb=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},$b=function(e,t){return function(e,t){return Vb(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=Iw(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n=Object.keys(t)[0],r=t[n];return r["#text"]&&(r[n]=r["#text"],delete r["#text"]),Di(r)}return{}}))},Jb=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},Xb=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:Up.filterSensitiveLog,outputFilterSensitiveLog:Np.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:if(n=wh(wh({},Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o=wh({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new bn({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Eb(e,t)]:(n={$metadata:Gb(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Vb(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),Yb=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(_w(t)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:Gp.filterSensitiveLog,outputFilterSensitiveLog:Kp.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Sh(this,(function(h){switch(h.label){case 0:if(n=wh(wh({"content-type":"application/xml"},Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o=wh({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(a=Db(e.MultipartUpload,t),s='<?xml version="1.0" encoding="UTF-8"?>',a.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=a.toString()),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new bn({protocol:f,hostname:c,port:d,method:"POST",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Cb(e,t)]:(n={$metadata:Gb(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,$b(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.ETag&&(n.ETag=r.ETag),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.Location&&(n.Location=r.Location),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui);var Zb,Qb,eS,tS,nS,rS,iS,oS,sS,aS,uS,cS,lS,fS,dS,hS,pS,gS,vS,mS,yS,wS,bS,SS,ES,CS,_S,AS,kS,xS,PS,IS,TS,LS,OS,NS,US,MS,RS={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},DS=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return un(t,void 0,void 0,(function(){var t,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w;return cn(this,(function(b){switch(b.label){case 0:t=sn({},r.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],b.label=1;case 1:b.trys.push([1,6,7,8]),o=fn(i),s=o.next(),b.label=2;case 2:return s.done?[3,5]:(a=s.value,(u=t[a.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(f=new e.md5).update(c),d=[sn({},t)],(w={})[a.target]=l,h=a.hash,g=(p=e).base64Encoder,[4,f.digest()]):[3,4]);case 3:t=sn.apply(void 0,d.concat([(w[h]=g.apply(p,[b.sent()]),w)])),b.label=4;case 4:return s=o.next(),[3,2];case 5:return[3,8];case 6:return v=b.sent(),m={error:v},[3,8];case 7:try{s&&!s.done&&(y=o.return)&&y.call(o)}finally{if(m)throw m.error}return[7];case 8:return[2,n(sn(sn({},r),{input:t}))]}}))}))}}}(e),RS)}}},jS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(_w(t)),this.middlewareStack.use(DS(t)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:$p.filterSensitiveLog,outputFilterSensitiveLog:Wp.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:if(n=wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh({},Wb(e.ACL)&&{"x-amz-acl":e.ACL}),Wb(e.CacheControl)&&{"cache-control":e.CacheControl}),Wb(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Wb(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Wb(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Wb(e.ContentType)&&{"content-type":e.ContentType}),Wb(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),Wb(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),Wb(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":zi(e.CopySourceIfModifiedSince).toString()}),Wb(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),Wb(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":zi(e.CopySourceIfUnmodifiedSince).toString()}),Wb(e.Expires)&&{expires:zi(e.Expires).toString()}),Wb(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Wb(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Wb(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Wb(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Wb(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),Wb(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),Wb(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Wb(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Wb(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Wb(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Wb(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Wb(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Wb(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Wb(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Wb(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Wb(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),Wb(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),Wb(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Wb(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Wb(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Wb(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),Wb(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return wh(wh({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new bn({protocol:c,hostname:a,port:l,method:"PUT",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,_b(e,t)]:(n={$metadata:Gb(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,$b(e.body,t)]);case 1:return r=i.sent(),n.CopyObjectResult=Bb(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),FS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(DS(t)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:ng.filterSensitiveLog,outputFilterSensitiveLog:tg.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:if(n=wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh({},Wb(e.ACL)&&{"x-amz-acl":e.ACL}),Wb(e.CacheControl)&&{"cache-control":e.CacheControl}),Wb(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Wb(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Wb(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Wb(e.ContentType)&&{"content-type":e.ContentType}),Wb(e.Expires)&&{expires:zi(e.Expires).toString()}),Wb(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Wb(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Wb(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Wb(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Wb(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Wb(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Wb(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Wb(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Wb(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Wb(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Wb(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Wb(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Wb(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Wb(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Wb(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Wb(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return wh(wh({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o={uploads:""},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new bn({protocol:c,hostname:a,port:l,method:"POST",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ab(e,t)]:(n={$metadata:Gb(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,$b(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),BS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:mg.filterSensitiveLog,outputFilterSensitiveLog:vg.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:if(n=wh(wh(wh(wh({},Wb(e.MFA)&&{"x-amz-mfa":e.MFA}),Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o=wh({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new bn({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,kb(e,t)]:(n={$metadata:Gb(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Vb(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),zS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(DS(t)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:Im.filterSensitiveLog,outputFilterSensitiveLog:Pm.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:if(n=wh(wh(wh(wh(wh(wh(wh(wh(wh(wh({},Wb(e.IfMatch)&&{"if-match":e.IfMatch}),Wb(e.IfModifiedSince)&&{"if-modified-since":zi(e.IfModifiedSince).toString()}),Wb(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),Wb(e.IfUnmodifiedSince)&&{"if-unmodified-since":zi(e.IfUnmodifiedSince).toString()}),Wb(e.Range)&&{range:e.Range}),Wb(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Wb(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Wb(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o=wh(wh(wh(wh(wh(wh(wh(wh({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new bn({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,xb(e,t)]:(n={$metadata:Gb(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),r=e.body,n.Body=r,[2,Promise.resolve(n)])}))}))}(e,t)},t}(Ui),KS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsCommand",inputFilterSensitiveLog:wy.filterSensitiveLog,outputFilterSensitiveLog:yy.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:if(n=wh(wh({},Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",Mi(i)),o=wh(wh(wh(wh(wh({},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.Marker&&{marker:e.Marker}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new bn({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Pb(e,t)]:(n={$metadata:Gb(e),CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,$b(e.body,t)]);case 1:return""===(r=i.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=Fb(Ri(r.CommonPrefixes),t)),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=Kb(Ri(r.Contents),t)),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Marker&&(n.Marker=r.Marker),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextMarker&&(n.NextMarker=r.NextMarker),void 0!==r.Prefix&&(n.Prefix=r.Prefix),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),qS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:Py.filterSensitiveLog,outputFilterSensitiveLog:xy.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Sh(this,(function(f){switch(f.label){case 0:if(n=wh(wh({},Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o=wh(wh(wh({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new bn({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r;return Sh(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ib(e,t)]:(n={$metadata:Gb(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,$b(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Initiator&&(n.Initiator=zb(r.Initiator,t)),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.MaxParts&&(n.MaxParts=parseInt(r.MaxParts)),void 0!==r.NextPartNumberMarker&&(n.NextPartNumberMarker=r.NextPartNumberMarker),void 0!==r.Owner&&(n.Owner=qb(r.Owner,t)),void 0!==r.PartNumberMarker&&(n.PartNumberMarker=r.PartNumberMarker),""===r.Part&&(n.Parts=[]),void 0!==r.Part&&(n.Parts=Hb(Ri(r.Part),t)),void 0!==r.StorageClass&&(n.StorageClass=r.StorageClass),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui),HS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(DS(t)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:tw.filterSensitiveLog,outputFilterSensitiveLog:ew.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Sh(this,(function(h){switch(h.label){case 0:if(n=wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh(wh({"content-type":"application/octet-stream"},Wb(e.ACL)&&{"x-amz-acl":e.ACL}),Wb(e.CacheControl)&&{"cache-control":e.CacheControl}),Wb(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Wb(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Wb(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Wb(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),Wb(e.ContentMD5)&&{"content-md5":e.ContentMD5}),Wb(e.ContentType)&&{"content-type":e.ContentType}),Wb(e.Expires)&&{expires:zi(e.Expires).toString()}),Wb(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Wb(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Wb(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Wb(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Wb(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Wb(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Wb(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Wb(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Wb(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Wb(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Wb(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Wb(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Wb(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Wb(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Wb(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Wb(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return wh(wh({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o={"x-id":"PutObject"},void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new bn({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Tb(e,t)]:(n={$metadata:Gb(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Vb(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui);(Zb||(Zb={})).filterSensitiveLog=function(e){return wh({},e)},(Qb||(Qb={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Encryption&&{Encryption:vw.filterSensitiveLog(e.Encryption)})},(eS||(eS={})).filterSensitiveLog=function(e){return wh(wh({},e),e.S3&&{S3:Qb.filterSensitiveLog(e.S3)})},(nS=tS||(tS={})).IGNORE="IGNORE",nS.NONE="NONE",nS.USE="USE",(rS||(rS={})).filterSensitiveLog=function(e){return wh({},e)},(oS=iS||(iS={})).DOCUMENT="DOCUMENT",oS.LINES="LINES",(sS||(sS={})).filterSensitiveLog=function(e){return wh({},e)},(aS||(aS={})).filterSensitiveLog=function(e){return wh({},e)},(uS||(uS={})).filterSensitiveLog=function(e){return wh({},e)},(lS=cS||(cS={})).ALWAYS="ALWAYS",lS.ASNEEDED="ASNEEDED",(fS||(fS={})).filterSensitiveLog=function(e){return wh({},e)},(dS||(dS={})).filterSensitiveLog=function(e){return wh({},e)},(hS||(hS={})).filterSensitiveLog=function(e){return wh({},e)},(pS||(pS={})).filterSensitiveLog=function(e){return wh({},e)},(gS||(gS={})).SELECT="SELECT",(vS||(vS={})).filterSensitiveLog=function(e){return wh(wh({},e),e.OutputLocation&&{OutputLocation:eS.filterSensitiveLog(e.OutputLocation)})},(mS||(mS={})).filterSensitiveLog=function(e){return wh(wh({},e),e.RestoreRequest&&{RestoreRequest:vS.filterSensitiveLog(e.RestoreRequest)})},(yS||(yS={})).filterSensitiveLog=function(e){return wh({},e)},(wS||(wS={})).filterSensitiveLog=function(e){return wh({},e)},(bS||(bS={})).filterSensitiveLog=function(e){return wh({},e)},(SS||(SS={})).filterSensitiveLog=function(e){return wh({},e)},(ES||(ES={})).filterSensitiveLog=function(e){return wh({},e)},(CS||(CS={})).filterSensitiveLog=function(e){return wh({},e)},(_S||(_S={})).filterSensitiveLog=function(e){return wh({},e)},(kS=AS||(AS={})).visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},kS.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:ES.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:_S.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:SS.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:yS.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:wS.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0},(xS||(xS={})).filterSensitiveLog=function(e){return wh(wh({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})},(PS||(PS={})).filterSensitiveLog=function(e){return wh({},e)},(IS||(IS={})).filterSensitiveLog=function(e){return wh({},e)},(TS||(TS={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs})},(LS||(LS={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs})},(OS||(OS={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs})},(NS||(NS={})).filterSensitiveLog=function(e){return wh({},e)},(US||(US={})).filterSensitiveLog=function(e){return wh(wh({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:qs})},(MS||(MS={})).filterSensitiveLog=function(e){return wh(wh(wh({},e),e.SSECustomerKey&&{SSECustomerKey:qs}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:qs})};var GS=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return yh(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(ja(t,this.serialize,this.deserialize)),this.middlewareStack.use(DS(t)),this.middlewareStack.use(Ip(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:OS.filterSensitiveLog,outputFilterSensitiveLog:LS.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Sh(this,(function(h){switch(h.label){case 0:if(n=wh(wh(wh(wh(wh(wh(wh({"content-type":"application/octet-stream"},Wb(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),Wb(e.ContentMD5)&&{"content-md5":e.ContentMD5}),Wb(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Wb(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Wb(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Wb(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Wb(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",Mi(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return Mi(e)})).join("/")),o=wh(wh({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new bn({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return bh(void 0,void 0,void 0,(function(){var n;return Sh(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Lb(e,t)]:(n={$metadata:Gb(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Vb(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ui);function VS(e){var t=e.port,n=e.query,r=e.protocol,i=e.path,o=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(o+=":"+t),i&&"/"!==i.charAt(0)&&(i="/"+i);var s=n?Cn(n):"";return s&&"?"!==s[0]&&(s="?"+s),r+"//"+o+i+s}function WS(e,t){return un(this,void 0,void 0,(function(){var n,r,i=this;return cn(this,(function(o){switch(o.label){case 0:return n=function(e){return function(e){return un(i,void 0,void 0,(function(){return cn(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,o.sent()]}}))}))}var $S=function(){function e(e){var t=sn({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new pi(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,i=t.unhoistableHeaders,o=void 0===i?new Set:i,s=an(t,["unsignableHeaders","unhoistableHeaders"]);return un(this,void 0,void 0,(function(){return cn(this,(function(t){return r.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){o.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,sn({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:o},s))]}))}))},e}(),JS={};e(JS,"AxiosHttpHandler",(()=>uE),(e=>uE=e)),e(JS,"SEND_UPLOAD_PROGRESS_EVENT",(()=>eE),(e=>eE=e)),e(JS,"SEND_DOWNLOAD_PROGRESS_EVENT",(()=>tE),(e=>tE=e));var XS;o.register("iweIU",(function(e,t){"use strict";var n=o("cWjBi"),r=o("ifadp"),i=o("lltSR"),s=o("dERvt");function a(e){var t=new i(e),o=r(i.prototype.request,t);return n.extend(o,i.prototype,t),n.extend(o,t),o}var u=a(o("d1iEy"));u.Axios=i,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=o("lLkvA"),u.CancelToken=o("6izVn"),u.isCancel=o("lniyf"),u.all=function(e){return Promise.all(e)},u.spread=o("9gjVi"),u.isAxiosError=o("8lNXz"),e.exports=u,e.exports.default=u})),o.register("cWjBi",(function(e,t){"use strict";var n=o("ifadp"),r=Object.prototype.toString;function i(e){return"[object Array]"===r.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,r){return l(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}})),o.register("ifadp",(function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}})),o.register("lltSR",(function(e,t){"use strict";var n=o("cWjBi"),r=o("ljrXE"),i=o("cUleX"),s=o("aSuth"),a=o("dERvt"),u=o("3L38c"),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[s,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var d=n.shift(),h=n.shift();try{f=d(f)}catch(e){h(e);break}}try{i=s(f)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l})),o.register("ljrXE",(function(e,t){"use strict";var n=o("cWjBi");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}})),o.register("cUleX",(function(e,t){"use strict";var n=o("cWjBi");function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r})),o.register("aSuth",(function(e,t){"use strict";var n=o("cWjBi"),r=o("8TkKH"),i=o("lniyf"),s=o("d1iEy");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}})),o.register("8TkKH",(function(e,t){"use strict";var n=o("cWjBi"),r=o("d1iEy");e.exports=function(e,t,i){var o=this||r;return n.forEach(i,(function(n){e=n.call(o,e,t)})),e}})),o.register("d1iEy",(function(e,t){"use strict";var n=o("cWjBi"),r=o("8hBgM"),i=o("aF69N"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==gt&&"[object process]"===Object.prototype.toString.call(gt))&&(u=o("5KnYQ")),u),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(s)})),e.exports=c})),o.register("8hBgM",(function(e,t){"use strict";var n=o("cWjBi");e.exports=function(e,t){n.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}})),o.register("aF69N",(function(e,t){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}})),o.register("5KnYQ",(function(e,t){"use strict";var n=o("cWjBi"),r=o("lfyx9"),i=o("cGR6P"),s=o("ljrXE"),a=o("b70ee"),u=o("k1iEl"),c=o("5Aswi"),l=o("ax8je");e.exports=function(e){return new Promise((function(t,o){var f=e.data,d=e.headers,h=e.responseType;n.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+v)}var m=a(e.baseURL,e.url);function y(){if(p){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,i={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};r(t,o,i),p=null}}if(p.open(e.method.toUpperCase(),s(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(o(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){o(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),o(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var w=(e.withCredentials||c(m))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;w&&(d[e.xsrfHeaderName]=w)}"setRequestHeader"in p&&n.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),o(e),p=null)})),f||(f=null),p.send(f)}))}})),o.register("lfyx9",(function(e,t){"use strict";var n=o("ax8je");e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}})),o.register("ax8je",(function(e,t){"use strict";var n=o("aF69N");e.exports=function(e,t,r,i,o){var s=new Error(e);return n(s,t,r,i,o)}})),o.register("cGR6P",(function(e,t){"use strict";var n=o("cWjBi");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),o.register("b70ee",(function(e,t){"use strict";var n=o("4iBVf"),r=o("8DiQn");e.exports=function(e,t){return e&&!n(t)?r(e,t):t}})),o.register("4iBVf",(function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}})),o.register("8DiQn",(function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}})),o.register("k1iEl",(function(e,t){"use strict";var n=o("cWjBi"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),i=n.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([i]):s[t]?s[t]+", "+i:i}})),s):s}})),o.register("5Aswi",(function(e,t){"use strict";var n=o("cWjBi");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}})),o.register("lniyf",(function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}})),o.register("dERvt",(function(e,t){"use strict";var n=o("cWjBi");e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=u(void 0,e[i])):r[i]=u(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=u(void 0,t[e]))})),n.forEach(o,c),n.forEach(s,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=u(void 0,e[i])):r[i]=u(void 0,t[i])})),n.forEach(a,(function(n){n in t?r[n]=u(e[n],t[n]):n in e&&(r[n]=u(void 0,e[n]))}));var l=i.concat(o).concat(s).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(f,c),r}})),o.register("3L38c",(function(e,t){"use strict";var n=o("6HPNJ"),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},s=n.version.split(".");function a(e,t){for(var n=t?t.split("."):s,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}r.transitional=function(e,t,r){var o=t&&a(t);function s(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return o&&!i[r]&&(i[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}})),o.register("6HPNJ",(function(e,t){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.txt","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')})),o.register("lLkvA",(function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n})),o.register("6izVn",(function(e,t){"use strict";var n=o("lLkvA");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r})),o.register("9gjVi",(function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}})),o.register("8lNXz",(function(e,t){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}})),XS=o("iweIU");var YS=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ZS=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},QS=new Be.ConsoleLogger("axios-http-handler"),eE="sendUploadProgress",tE="sendDownloadProgress";var nE,rE,iE,oE,sE=function(e,t){var n,r;try{for(var i=YS(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=ZS(o.value,2),a=s[0],u=s[1];a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[a])}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},aE=[function(e,n){return r=e,"undefined"!=typeof Blob&&r instanceof Blob?(sE(n,"Content-Type"),sE(n,"Accept"),e):t(XS).defaults.transformRequest[0].call(null,e,n);var r}],uE=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,n){var r=this.httpOptions.requestTimeout,i=this.emitter,o=e.path;if(e.query){var s=Cn(e.query);s&&(o+="?"+s)}var a=e.port,u=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,c={};c.url=u,c.method=e.method,c.headers=e.headers,delete c.headers.host,e.body?c.data=e.body:c.headers["Content-Type"]&&(c.data=null),i&&(c.onUploadProgress=function(e){i.emit(eE,e),QS.debug(e)},c.onDownloadProgress=function(e){i.emit(tE,e),QS.debug(e)}),this.cancelTokenSource&&(c.cancelToken=this.cancelTokenSource.token),c.responseType="blob",et.isReactNative&&(c.transformRequest=aE);var l=[t(XS).request(c).then((function(e){return{response:new wn({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){throw QS.error(e.message),e})),cE(r)];return Promise.race(l)},e}();function cE(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}(rE=nE||(nE={})).NO_CREDENTIALS="No credentials",rE.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',rE.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',(oE=iE||(iE={})).CLEANUP_FAILED="Multipart copy clean up failed",oE.NO_OBJECT_FOUND="Object does not exist",oE.INVALID_QUEUESIZE="Queue size must be a positive number",oE.NO_COPYSOURCE="You must specify a copy source",oE.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed";var lE={};e(lE,"AWSS3ProviderManagedUpload",(()=>LE),(e=>LE=e));var fE,dE={},hE="object"==typeof Reflect?Reflect:null,pE=hE&&"function"==typeof hE.apply?hE.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};fE=hE&&"function"==typeof hE.ownKeys?hE.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var gE=Number.isNaN||function(e){return e!=e};function vE(){vE.init.call(this)}(dE=vE).once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}kE(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&kE(e,"error",t,n)}(e,i,{once:!0})}))},vE.EventEmitter=vE,vE.prototype._events=void 0,vE.prototype._eventsCount=0,vE.prototype._maxListeners=void 0;var mE=10;function yE(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function wE(e){return void 0===e._maxListeners?vE.defaultMaxListeners:e._maxListeners}function bE(e,t,n,r){var i,o,s,a;if(yE(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=wE(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function SE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function EE(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=SE.bind(r);return i.listener=n,r.wrapFn=i,i}function CE(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):AE(i,i.length)}function _E(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function AE(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function kE(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(vE,"defaultMaxListeners",{enumerable:!0,get:function(){return mE},set:function(e){if("number"!=typeof e||e<0||gE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");mE=e}}),vE.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},vE.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||gE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},vE.prototype.getMaxListeners=function(){return wE(this)},vE.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)pE(a,this,t);else{var u=a.length,c=AE(a,u);for(n=0;n<u;++n)pE(c[n],this,t)}return!0},vE.prototype.addListener=function(e,t){return bE(this,e,t,!1)},vE.prototype.on=vE.prototype.addListener,vE.prototype.prependListener=function(e,t){return bE(this,e,t,!0)},vE.prototype.once=function(e,t){return yE(t),this.on(e,EE(this,e,t)),this},vE.prototype.prependOnceListener=function(e,t){return yE(t),this.prependListener(e,EE(this,e,t)),this},vE.prototype.removeListener=function(e,t){var n,r,i,o,s;if(yE(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},vE.prototype.off=vE.prototype.removeListener,vE.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},vE.prototype.listeners=function(e){return CE(this,e,!0)},vE.prototype.rawListeners=function(e){return CE(this,e,!1)},vE.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_E.call(e,t)},vE.prototype.listenerCount=_E,vE.prototype.eventNames=function(){return this._eventsCount>0?fE(this._events):[]};var xE=function(){return(xE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},PE=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},IE=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},TE=new Be.ConsoleLogger("AWSS3ProviderManagedUpload"),LE=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n}return e.prototype.upload=function(){return PE(this,void 0,void 0,(function(){var e,t,n,r,i,o,s=this;return IE(this,(function(a){switch(a.label){case 0:return e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=a.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new HS(this.params),[4,this._createNewS3Client(this.opts,this.emitter)]):[3,3];case 2:return[2,a.sent().send(t)];case 3:return[4,this.createMultiPartUpload()];case 4:n=a.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),i=this.createParts(),o=0,a.label=5;case 5:return o<r?[4,this.checkIfUploadCancelled(n)]:[3,10];case 6:return a.sent(),[4,this.uploadParts(n,i.slice(o,o+this.queueSize))];case 7:return a.sent(),[4,this.checkIfUploadCancelled(n)];case 8:a.sent(),a.label=9;case 9:return o+=this.queueSize,[3,5];case 10:return i.map((function(e){s.removeEventListener(e)})),[4,this.finishMultiPartUpload(n)];case 11:return[2,a.sent()]}}))}))},e.prototype.createParts=function(){for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new dE.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e},e.prototype.createMultiPartUpload=function(){return PE(this,void 0,void 0,(function(){var e,t,n,r=this;return IE(this,(function(i){switch(i.label){case 0:return e=new FS(this.params),[4,this._createNewS3Client(this.opts)];case 1:return(t=i.sent()).middlewareStack.add((function(e){return function(t){return r.params.ContentType&&t&&t.request&&t.request.headers&&(t.request.headers["Content-Type"]=r.params.ContentType),e(t)}}),{step:"build"}),[4,t.send(e)];case 2:return n=i.sent(),TE.debug(n.UploadId),[2,n.UploadId]}}))}))},e.prototype.uploadParts=function(e,t){return PE(this,void 0,void 0,(function(){var n,r,i,o=this;return IE(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return PE(o,void 0,void 0,(function(){var n,r,i,o,s,a,u;return IE(this,(function(c){switch(c.label){case 0:return this.setupEventListener(t),[4,this._createNewS3Client(this.opts,t.emitter)];case 1:return n=c.sent(),r=this.params,i=r.Key,o=r.Bucket,s=r.SSECustomerAlgorithm,a=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[2,n.send(new GS(xE(xE(xE({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:o},s&&{SSECustomerAlgorithm:s}),a&&{SSECustomerKey:a}),u&&{SSECustomerKeyMD5:u})))]}}))}))})))];case 1:for(n=s.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:return i=s.sent(),TE.error("error happened while uploading a part. Cancelling the multipart upload",i),this.cancelUpload(),[2];case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return PE(this,void 0,void 0,(function(){var t,n,r,i;return IE(this,(function(o){switch(o.label){case 0:return t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new Yb(t),[4,this._createNewS3Client(this.opts)];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,r.send(n)];case 3:return[2,o.sent().Key];case 4:return i=o.sent(),TE.error("error happened while finishing the upload. Cancelling the multipart upload",i),this.cancelUpload(),[2];case 5:return[2]}}))}))},e.prototype.checkIfUploadCancelled=function(e){return PE(this,void 0,void 0,(function(){var t,n;return IE(this,(function(r){switch(r.label){case 0:if(!this.cancel)return[3,5];t="Upload was cancelled.",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cleanup(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),t+=" "+n.message,[3,4];case 4:throw new Error(t);case 5:return[2]}}))}))},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(e){return PE(this,void 0,void 0,(function(){var t,n,r;return IE(this,(function(i){switch(i.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this._createNewS3Client(this.opts)];case 1:return[4,(n=i.sent()).send(new Xb(t))];case 2:return i.sent(),[4,n.send(new qS(t))];case 3:if((r=i.sent())&&r.Parts&&r.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(JS.SEND_UPLOAD_PROGRESS_EVENT),e.emitter.removeAllListeners(JS.SEND_DOWNLOAD_PROGRESS_EVENT)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(JS.SEND_UPLOAD_PROGRESS_EVENT,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(JS.SEND_UPLOAD_PROGRESS_EVENT,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return PE(this,void 0,void 0,(function(){return IE(this,(function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]}))}))},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){return PE(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return IE(this,(function(c){switch(c.label){case 0:return[4,this._getCredentials()];case 1:return n=c.sent(),r=e.region,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.cancelTokenSource,s=e.useAccelerateEndpoint,a={},i&&(a={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0}),(u=new Aw(xE(xE({region:r,credentials:n,useAccelerateEndpoint:s},a),{requestHandler:new JS.AxiosHttpHandler({},t,o),customUserAgent:tt()}))).middlewareStack.remove("contentLengthMiddleware"),[2,u]}}))}))},e.prototype._getCredentials=function(){return Xa.Credentials.get().then((function(e){if(!e)return!1;var t=Xa.Credentials.shear(e);return TE.debug("set credentials for storage",t),t})).catch((function(e){return TE.warn("ensure credentials error",e),!1}))},e}(),OE=function(){return(OE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},NE=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},UE=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},ME=new Be.ConsoleLogger("AWSS3Provider"),RE="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",DE="public",jE=function(e,t,n,r,i){if(e){var o={attrs:n};r&&(o.metrics=r),nt.Hub.dispatch("storage",{event:t,data:o,message:i},"Storage",RE)}},FE=function(){function e(e){this._config=e||{},ME.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(ME.debug("configure Storage",e),!e)return this._config;var t=Ht.Parser.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||ME.debug("Do not have bucket yet"),this._config},e.prototype.copy=function(e,t,n){return NE(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,b,S,E,C,_,A,k,x;return UE(this,(function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw new Error(nE.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),i=r.acl,o=r.bucket,s=r.cacheControl,a=r.expires,u=r.track,c=r.serverSideEncryption,l=r.SSECustomerAlgorithm,f=r.SSECustomerKey,d=r.SSECustomerKeyMD5,h=r.SSEKMSKeyId,p=e.level,g=void 0===p?DE:p,v=e.identityId,m=e.key,y=t.level,w=void 0===y?DE:y,b=t.key,!m||"string"!=typeof m)throw new Error(nE.NO_SRC_KEY);if(!b||"string"!=typeof b)throw new Error(nE.NO_DEST_KEY);"protected"!==g&&v&&ME.warn('You may copy files from another user if the source level is "protected", currently it\'s '+g),S=this._prefix(OE(OE(OE({},r),{level:g}),v&&{identityId:v})),E=this._prefix(OE(OE({},r),{level:w})),C=o+"/"+S+m,_=""+E+b,ME.debug("copying "+C+" to "+_),A={Bucket:o,CopySource:C,Key:_,MetadataDirective:"COPY"},s&&(A.CacheControl=s),a&&(A.Expires=a),c&&(A.ServerSideEncryption=c),l&&(A.SSECustomerAlgorithm=l),f&&(A.SSECustomerKey=f),d&&(A.SSECustomerKeyMD5=d),h&&(A.SSEKMSKeyId=h),i&&(A.ACL=i),(k=this._createNewS3Client(r)).middlewareStack.remove("contentLengthMiddleware"),P.label=2;case 2:return P.trys.push([2,4,,5]),[4,k.send(new jS(A))];case 3:return P.sent(),jE(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+m+" to "+b),[2,{key:b}];case 4:throw x=P.sent(),jE(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+m+" to "+b),x;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return NE(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,b,S,E,C,_,A,k,x,P;return UE(this,(function(I){switch(I.label){case 0:return[4,this._ensureCredentials()];case 1:if(!I.sent()||!this._isWithCredentials(this._config))throw new Error(nE.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,i=n.download,o=n.cacheControl,s=n.contentDisposition,a=n.contentEncoding,u=n.contentLanguage,c=n.contentType,l=n.expires,f=n.track,d=n.SSECustomerAlgorithm,h=n.SSECustomerKey,p=n.SSECustomerKeyMD5,g=n.progressCallback,v=this._prefix(n),m=v+e,y=new dE.EventEmitter,w=this._createNewS3Client(n,y),ME.debug("get "+e+" from "+m),b={Bucket:r,Key:m},o&&(b.ResponseCacheControl=o),s&&(b.ResponseContentDisposition=s),a&&(b.ResponseContentEncoding=a),u&&(b.ResponseContentLanguage=u),c&&(b.ResponseContentType=c),d&&(b.SSECustomerAlgorithm=d),h&&(b.SSECustomerKey=h),p&&(b.SSECustomerKeyMD5=p),!0!==i)return[3,5];S=new zS(b),I.label=2;case 2:return I.trys.push([2,4,,5]),g&&("function"==typeof g?y.on(JS.SEND_DOWNLOAD_PROGRESS_EVENT,(function(e){g(e)})):ME.warn("progressCallback should be a function, not a "+typeof g)),[4,w.send(S)];case 3:return E=I.sent(),y.removeAllListeners(JS.SEND_DOWNLOAD_PROGRESS_EVENT),jE(f,"download",{method:"get",result:"success"},{fileSize:Number(E.Body.size||E.Body.length)},"Download success for "+e),[2,E];case 4:throw C=I.sent(),jE(f,"download",{method:"get",result:"failed"},null,"Download failed with "+C.message),C;case 5:return I.trys.push([5,8,,9]),_=new $S(OE({},w.config)),[4,WS(w,new zS(b))];case 6:return A=I.sent(),x=VS,[4,_.presign(A,{expiresIn:l||900})];case 7:return k=x.apply(void 0,[I.sent()]),jE(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+k),[2,k];case 8:throw P=I.sent(),ME.warn("get signed url error",P),jE(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),P;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){return NE(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,b,S,E,C,_,A,k,x;return UE(this,(function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw new Error(nE.NO_CREDENTIALS);r=Object.assign({},this._config,n),i=r.bucket,o=r.track,s=r.progressCallback,a=r.contentType,u=r.contentDisposition,c=r.contentEncoding,l=r.cacheControl,f=r.expires,d=r.metadata,h=r.tagging,p=r.acl,g=r.serverSideEncryption,v=r.SSECustomerAlgorithm,m=r.SSECustomerKey,y=r.SSECustomerKeyMD5,w=r.SSEKMSKeyId,b=a||"binary/octet-stream",S=this._prefix(r),E=S+e,ME.debug("put "+e+" to "+E),C={Bucket:i,Key:E,Body:t,ContentType:b},l&&(C.CacheControl=l),u&&(C.ContentDisposition=u),c&&(C.ContentEncoding=c),f&&(C.Expires=f),d&&(C.Metadata=d),h&&(C.Tagging=h),g&&(C.ServerSideEncryption=g),v&&(C.SSECustomerAlgorithm=v),m&&(C.SSECustomerKey=m),y&&(C.SSECustomerKeyMD5=y),w&&(C.SSEKMSKeyId=w),_=new dE.EventEmitter,A=new lE.AWSS3ProviderManagedUpload(C,r,_),p&&(C.ACL=p),P.label=2;case 2:return P.trys.push([2,4,,5]),s&&("function"==typeof s?_.on(JS.SEND_UPLOAD_PROGRESS_EVENT,(function(e){s(e)})):ME.warn("progressCallback should be a function, not a "+typeof s)),[4,A.upload()];case 3:return k=P.sent(),ME.debug("upload result",k),jE(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),[2,{key:e}];case 4:throw x=P.sent(),ME.warn("error uploading",x),jE(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),x;case 5:return[2]}}))}))},e.prototype.remove=function(e,t){return NE(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return UE(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent()||!this._isWithCredentials(this._config))throw new Error(nE.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=this._prefix(n),s=o+e,a=this._createNewS3Client(n),ME.debug("remove "+e+" from "+s),u=new BS({Bucket:r,Key:s}),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.send(u)];case 3:return c=f.sent(),jE(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw l=f.sent(),jE(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+l),l;case 5:return[2]}}))}))},e.prototype.list=function(e,t){return NE(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return UE(this,(function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent()||!this._isWithCredentials(this._config))throw new Error(nE.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=n.maxKeys,s=this._prefix(n),a=s+e,u=this._createNewS3Client(n),ME.debug("list "+e+" from "+a),c=new KS({Bucket:r,Prefix:a,MaxKeys:o}),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,u.send(c)];case 3:return l=h.sent(),f=[],l&&l.Contents&&(f=l.Contents.map((function(e){return{key:e.Key.substr(s.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}}))),jE(i,"list",{method:"list",result:"success"},null,f.length+" items returned from list operation"),ME.debug("list",f),[2,f];case 4:throw d=h.sent(),ME.warn("list error",d),jE(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+d.message),d;case 5:return[2]}}))}))},e.prototype._ensureCredentials=function(){return NE(this,void 0,void 0,(function(){var e,t,n;return UE(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Xa.Credentials.get()];case 1:return(e=r.sent())?(t=Xa.Credentials.shear(e),ME.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),ME.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},e.prototype._createNewS3Client=function(e,t){var n=e.region,r=e.credentials,i=e.cancelTokenSource,o={};return e.dangerouslyConnectToHttpEndpointForTesting&&(o={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0}),new Aw(OE(OE({region:n,credentials:r,customUserAgent:tt()},o),{requestHandler:new JS.AxiosHttpHandler({},t,i)}))},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),BE=function(){return(BE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zE=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},KE=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},qE=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},HE=new Be.ConsoleLogger("StorageClass"),GE="AWSS3",VE=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,HE.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory()){this._pluggables.push(e);return e.configure(this._config[e.getProviderName()])}},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(HE.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(HE.debug("configure Storage"),!e)return this._config;var n=Ht.Parser.parseMobilehubConfig(e),r=Object.keys(n.Storage),i=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],o=function(e){return i.some((function(t){return t===e}))};return r&&r.find((function(e){return o(e)}))&&!n.Storage.AWSS3&&(n.Storage.AWSS3={}),Object.entries(n.Storage).map((function(e){var t=qE(e,2),r=t[0],i=t[1];r&&o(r)&&void 0!==i&&(n.Storage.AWSS3[r]=i,delete n.Storage[r])})),Object.keys(n.Storage).forEach((function(e){"string"!=typeof n.Storage[e]&&(t._config[e]=BE(BE({},t._config[e]),n.Storage[e]))})),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new vh.AWSS3Provider),this._config},e.prototype.getCancellableTokenSource=function(){return t(XS).CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):HE.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(n||{}).provider,i=void 0===r?GE:r,o=this._pluggables.find((function(e){return e.getProviderName()===i}));if(void 0===o)return HE.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var s=this.getCancellableTokenSource(),a=o.copy(e,t,BE(BE({},n),{cancelTokenSource:s}));return this.updateRequestToBeCancellable(a,s),a},e.prototype.get=function(e,t){var n=(t||{}).provider,r=void 0===n?GE:n,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return HE.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),s=i.get(e,BE(BE({},t),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(s,o),s},e.prototype.isCancelError=function(e){return t(XS).isCancel(e)},e.prototype.put=function(e,t,n){var r=(n||{}).provider,i=void 0===r?GE:r,o=this._pluggables.find((function(e){return e.getProviderName()===i}));if(void 0===o)return HE.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var s=this.getCancellableTokenSource(),a=o.put(e,t,BE(BE({},n),{cancelTokenSource:s}));return this.updateRequestToBeCancellable(a,s),a},e.prototype.remove=function(e,t){return zE(this,void 0,void 0,(function(){var n,r,i;return KE(this,(function(o){return n=(t||{}).provider,r=void 0===n?GE:n,void 0===(i=this._pluggables.find((function(e){return e.getProviderName()===r})))?(HE.debug("No plugin found with providerName",r),[2,Promise.reject("No plugin found in Storage for the provider")]):[2,i.remove(e,t)]}))}))},e.prototype.list=function(e,t){return zE(this,void 0,void 0,(function(){var n,r,i;return KE(this,(function(o){return n=(t||{}).provider,r=void 0===n?GE:n,void 0===(i=this._pluggables.find((function(e){return e.getProviderName()===r})))?(HE.debug("No plugin found with providerName",r),[2,Promise.reject("No plugin found in Storage for the provider")]):[2,i.list(e,t)]}))}))},e}(),WE=function(){return(WE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$E=new Be.ConsoleLogger("Storage"),JE=null,XE=function(){if(JE)return JE;$E.debug("Create Storage Instance, debug"),(JE=new gh.Storage).vault=new gh.Storage;var e=JE.configure;return JE.configure=function(t){$E.debug("storage configure called");var n=WE({},e.call(JE,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=WE(WE({},n[e]),{level:"private"}))})),$E.debug("storage vault configure called"),JE.vault.configure(n)},JE}();Fe.Amplify.register(XE);var YE={};!function(e,t){"object"==typeof YE?YE=t():"function"==typeof define&&define.amd?define("aws_amplify_ui",[],t):"object"==typeof YE?YE.aws_amplify_ui=t():e.aws_amplify_ui=t()}(YE,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(2)),r(n(3)),r(n(4)),r(n(5)),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13))},function(e,t,n){e.exports={a:"Anchor__a___1_Iz8"}},function(e,t,n){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,t,n){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,t,n){e.exports={hint:"Hint__hint___2XngB"}},function(e,t,n){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,t,n){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,t,n){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,t,n){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,t,n){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,t,n){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,t,n){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,t,n){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,t,n){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])})),Fe.Amplify.Auth=rf.Auth,Fe.Amplify.Cache=ph,Fe.Amplify.ServiceWorker=Bl;var ZE=Fe.Amplify;const QE=e=>async(e,t)=>{e({type:fe.CONFIRM_PHONE_START});try{await new Promise((e=>setTimeout(e,2e3))),e({type:fe.CONFIRM_PHONE_ACCEPTED})}catch(t){console.log("Confirm phone error",t),e({type:fe.CONFIRM_PHONE_DENIED})}},eC=e=>async(t,n)=>{t({type:me.CREATE_ACCOUNT_START});const r=Ee.GlobalStore.Get().GetPartnerState("API").PreScreening.userId;try{await rf.Auth.signUp({username:e.email,password:e.password,attributes:{profile:r,name:e.name}});t({type:me.CREATE_ACCOUNT_ACCEPTED})}catch(e){console.log("error sign up:",e),t({type:me.CREATE_ACCOUNT_DENIED})}},tC=e=>async(t,n)=>{t({type:me.CONFIRM_EMAIL_START});try{await rf.Auth.confirmSignUp(e.email,e.code),t({type:me.CONFIRM_EMAIL_ACCEPTED})}catch(e){console.log("error confirming sign up",e),t({type:me.CONFIRM_EMAIL_DENIED})}};var nC=({dispatch:e,getState:t})=>n=>r=>{switch(r.type){case fe.AWS_ACCOUNT_SETUP_SUBMIT_PHONE:return(o=r.payload,async(e,t)=>{try{const e=await rf.Auth.currentAuthenticatedUser();await rf.Auth.updateUserAttributes(e,{phone_number:o})}catch(e){console.log("Submit phone error",e)}})(e,t);case fe.AWS_ACCOUNT_SETUP_CONFIRM_PHONE:return QE(r.payload)(e,t);case me.AWS_CREATE_ACCOUNT_SUBMIT:return eC(r.payload)(e,t);case me.AWS_CREATE_ACCOUNT_CONFIRM_EMAIL:return tC(r.payload)(e,t);case me.AWS_CREATE_ACCOUNT_RESEND_EMAIL_CODE:return(i=r.payload,async(e,t)=>{try{await rf.Auth.resendSignUp(i)}catch(e){console.log("error resending email",e)}})(e,t);default:return n(r)}var i,o};var rC={aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:e1c649f0-00df-42a0-8178-0cc1a9023787",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_D5Qm43nto",aws_user_pools_web_client_id:"1h3uf838p2s65rd4shgau58114",oauth:{}};ZE.configure(rC);const iC=p(Se,ke(v(nC))),oC=Ee.GlobalStore.Get();oC.RegisterStore("AWS",iC),oC.RegisterGlobalActions("AWS",[fe.AWS_ACCOUNT_SETUP_SUBMIT_PHONE,fe.AWS_ACCOUNT_SETUP_CONFIRM_PHONE,me.AWS_CREATE_ACCOUNT_SUBMIT,me.AWS_CREATE_ACCOUNT_CONFIRM_EMAIL,me.AWS_CREATE_ACCOUNT_RESEND_EMAIL_CODE])})();